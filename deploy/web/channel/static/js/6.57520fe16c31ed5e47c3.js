webpackJsonp([6],{Cpvr:function(t,a){},TKva:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("QDJF"),s=(i("vR+E"),{name:"giving",data:function(){return{card:"",uid:"",nickname:"",headimg:"",num:"",verifyUid:"",remark:"",modalAgain:!1}},created:function(){var t=this;this.$nextTick(function(){t.getAgentInfo();var a=t.$route.params.uid;t.getUser(a)})},methods:{getAgentInfo:function(){var t=this;this.http({data:{_mod:"jcagent",_func:"WithdrawInfo",_check:"",_param:{}}}).then(function(a){t.card=a.data._param.wait_money})},getUser:function(t){var a=this,i={_mod:"jcagent",_func:"GetSubordinateInfo",_check:"",_param:{other_uid:Number(t)}};this.http({data:i}).then(function(t){a.verifyUid=t.data._param.uid,a.nickname=t.data._param.nikename,a.headimg=t.data._param.headimg})},closeModal:function(){this.modalAgain=!1},send:function(){if(""==this.verifyUid)return this.popupFn("该用户不存在");if(""==this.num)return this.popupFn("请输入转赠数量");this.num=Number(this.num),this.card=Number(this.card);if(/^[1-9]\d*$/.test(this.num)){if(this.num<50||this.num%10!=0)return this.popupFn("代理给玩家赠送只能是10的倍数且最少为50");if(this.num>this.card)return this.popupFn("转出的金额不能大于您账户的余额");this.modalAgain=!0}else this.num="",this.popupFn("请输入正确的数字")},ensure:function(){var t=this,a=Object(e.a)({type:"loading"}),i={_mod:"jcagent",_func:"MoveMoney",_check:"",_param:{other_uid:Number(this.verifyUid),money:100*Number(this.num),desc:this.remark}};this.http({data:i}).then(function(i){setTimeout(function(){a.close()},1e3),t.popupFn("转赠 ￥"+t.num+" 成功"),t.getAgentInfo(),setTimeout(function(){t.num="",t.closeModal()},1e3)})},popupFn:function(t){Object(e.a)({type:"toast",msg:t})}},components:{Header:i("teIl").a}}),n={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"main giving"},[i("Header",{attrs:{title:t.$route.meta.title}}),t._v(" "),i("div",{staticClass:"card-list"},[i("div",{staticClass:"card"},[i("p",[t._v("我的账户余额")]),t._v(" "),i("p",{staticClass:"card-num"},[t._v(t._s(t._f("FormatMoney")(t.card)))])]),t._v(" "),i("div",{staticClass:"history-link"},[i("router-link",{attrs:{to:"/promoter/givinghistory"}},[t._v("赠送记录")])],1)]),t._v(" "),i("ul",{staticClass:"list"},[i("li",{staticClass:"item flex-vertical"},[i("div",{staticClass:"label"},[t._v("玩家ID")]),t._v(" "),i("div",{staticClass:"text flex-1"},[t._v(" "+t._s(t.verifyUid))])]),t._v(" "),i("li",{staticClass:"item flex-vertical"},[i("div",{staticClass:"label"},[t._v("玩家信息")]),t._v(" "),i("div",{staticClass:"text flex-vertical"},[t.nickname?i("img",{staticClass:"avatar",attrs:{src:t.headimg}}):t._e(),t._v(" "),i("span",[t._v(t._s(t.nickname))]),t._v(" "),t.nickname?t._e():i("div",{staticClass:"no"},[t._v("无")])])])]),t._v(" "),i("ul",{staticClass:"list"},[i("li",{staticClass:"item flex-vertical"},[i("div",{staticClass:"label"},[t._v("转出数量")]),t._v(" "),i("div",{staticClass:"text flex-1"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],attrs:{type:"tel",placeholder:"请输入10的倍数且最少为50"},domProps:{value:t.num},on:{input:function(a){a.target.composing||(t.num=a.target.value)}}})])]),t._v(" "),i("li",{staticClass:"item flex"},[t._m(0),t._v(" "),i("div",{staticClass:"text flex-1"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],attrs:{placeholder:"可记录您的转账说明或其他信息"},domProps:{value:t.remark},on:{input:function(a){a.target.composing||(t.remark=a.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"send",on:{click:t.send}},[t._v("确定转赠")]),t._v(" "),t.modalAgain?i("div",{staticClass:"modal-wrap"},[i("div",{staticClass:"modal-container"},[i("div",{staticClass:"modal-header"},[i("h2",[t._v("二次确认")]),t._v(" "),i("div",{staticClass:"modal-close",on:{click:t.closeModal}})]),t._v(" "),i("div",{staticClass:"modal-content"},[i("div",{staticClass:"text-box"},[i("p",[t._v("即将转给【 "+t._s(t.nickname)+" 】")]),t._v(" "),i("p",[t._v("￥"),i("span",[t._v(t._s(t.num))])]),t._v(" "),i("p",[t._v("转出后不可撤销，确定要转出吗？")])]),t._v(" "),i("div",{staticClass:"avatar"},[i("img",{attrs:{src:t.headimg}}),t._v(" "),i("div",{staticClass:"info"},[i("p",[t._v(t._s(t.nickname))]),t._v(" "),i("p",[t._v("ID："+t._s(t.verifyUid))])])]),t._v(" "),i("div",{staticClass:"modal-btn",on:{click:t.ensure}},[t._v("确定")])])])]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"label remark"},[this._v("转出说明"),a("br"),this._v("(非必填)")])}]};var r=i("VU/8")(s,n,!1,function(t){i("Cpvr")},"data-v-7a8d43f7",null);a.default=r.exports}});