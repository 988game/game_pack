webpackJsonp([5],{"0TJX":function(t,a,s){t.exports=s.p+"static/img/avatar_1.314129e.png"},y7pl:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("QDJF"),i=s("teIl"),l=s("rhdv"),n=s("vR+E"),o=s("NC6I"),c=s.n(o),r={name:"Home",data:function(){return{personal:[],portrait:s("0TJX"),modalEdit:!1,password:{oldPwd:"",newPwd:"",againPwd:""},tabsIndex:0,tabsData:["今日数据汇总","上周数据汇总","上月数据汇总"],lastWeekDataSum:[],lastMonthDataSum:[],hisTotalDataSum:[],modalDetail:!1,detailType:1,isBindBank:!1,timeStr:""}},activated:function(){var t=this;this.$nextTick(function(){t.getAgentInfo()})},created:function(){var t=this;this.getLastWeekInfo(),this.getLastMonthInfo(),this.getHisTotalInfo(),this.getBankBindData(),this.$nextTick(function(){t.tabsClick(t.tabsIndex)})},filters:{FormatRate:function(t){return Math.round(100*t*100)/100+"%"},CheckNickname:function(t){return""==t?"无":t}},methods:{getAgentInfo:function(){var t=this;this.http({data:{_mod:"jcmanager",_func:"GetPackInfo",_check:"",_param:{}}}).then(function(a){t.personal=a.data._param})},popupFn:function(t){Object(e.a)({type:"toast",msg:t})},copy:function(){var t=this,a=new ClipboardJS("#copyRoot");a.on("success",function(a){t.popupFn("复制成功"),a.clearSelection()}),a.on("error",function(a){t.popupFn("版本过低，复制失败，请升级版本或长按手动复制！")})},loginOut:function(){var t=this;Object(e.a)({type:"confirm",msg:"是否确认退出账号？",confirm:function(){Object(n.o)("uid_channel","",-1),Object(n.o)("token_channel","",-1),t.$router.replace({path:"/login"})}})},changePwd:function(){this.modalEdit=!0},sureClick:function(){var t=this;if(""==this.password.oldPwd)return this.popupFn("请输入原密码");if(""==this.password.newPwd)return this.popupFn("请输入新密码");if(""==this.password.againPwd)return this.popupFn("请再次输入新密码");if(this.password.newPwd!==this.password.againPwd)return this.popupFn("两次输入密码不一致");var a={_mod:"jcmanager",_func:"UpdataPackPwd",_check:"",_param:{olb_pwd:c()(this.password.oldPwd),new_pwd:c()(this.password.newPwd)}};this.http({data:a}).then(function(a){t.popupFn("修改密码成功!"),t.modalEdit=!1})},getLastWeekInfo:function(){var t=this,a={_mod:"jcmanager",_func:"GetPackOldInfo",_check:"",_param:{stime:Object(n.k)(7),etime:Object(n.k)(1)}};this.http({data:a}).then(function(a){t.lastWeekDataSum=a.data._param})},getLastMonthInfo:function(){var t=this,a={_mod:"jcmanager",_func:"GetPackOldInfo",_check:"",_param:{stime:Object(n.j)()[0],etime:Object(n.j)()[1]}};this.http({data:a}).then(function(a){t.lastMonthDataSum=a.data._param})},getHisTotalInfo:function(){var t=this;this.http({data:{_mod:"jcmanager",_func:"GetTotalPackInfo",_check:"",_param:{}}}).then(function(a){t.hisTotalDataSum=a.data._param})},tabsClick:function(t){this.tabsIndex=t,0==t?this.timeStr="今日:"+Object(n.f)(0):1==t?this.timeStr="上周:"+Object(n.k)(7)+"~"+Object(n.k)(1):2==t&&(this.timeStr="上月:"+Object(n.j)()[0]+"~"+Object(n.j)()[1]),Object(n.n)(this.lastWeekDataSum)?this.getLastWeekInfo():Object(n.n)(this.lastMonthDataSum)?this.getLastMonthInfo():Object(n.n)(this.hisTotalDataSum)&&this.getHisTotalInfo()},showDetailModal:function(t){this.detailType=t,this.modalDetail=!0},goToBalance:function(){var t=this;this.isBindBank=1==Number(Object(n.g)("bind_channel")),this.isBindBank?this.$router.push("/promoter/balance"):Object(e.a)({type:"confirm",msg:"请先绑定银行卡，绑定之后可以查看对账数据信息！",confirm:function(){t.$router.push("/promoter/bindbank")}})},getBankBindData:function(){this.http({data:{_mod:"jcmanager",_func:"GetBindPackBank",_check:"",_param:{}}}).then(function(t){t.data._param.pack_no&&0!=t.data._param.pack_no?Object(n.o)("bind_channel",1,-1):Object(n.o)("bind_channel",-1,-1)})},createShot:function(){Vue.prototype.shareUrl=this.personal.share_url,Vue.prototype.packNo=this.personal.pack_no,this.$router.push("/promoter/imageshot")}},components:{Header:i.a,Card:l.a}},d={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"main home"},[s("div",{staticClass:"avatar-wrapper flex"},[s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v("渠道账户名称："+t._s(t.personal.pack_name))]),t._v(" "),s("div",{staticClass:"url"},[t._v("渠道推广链接："+t._s(t.personal.share_url))]),t._v(" "),s("div",{staticClass:"action"},[t.personal.share_url?s("div",{staticClass:"btn",on:{click:t.createShot}},[t._v("生成推广图")]):t._e(),t._v(" "),s("div",{staticClass:"btn",attrs:{id:"copyRoot","data-clipboard-text":t.personal.share_url},on:{click:t.copy}},[t._v("复制链接")])])]),t._v(" "),s("div",{staticClass:"btn-area"},[s("div",{staticClass:"btn",on:{click:t.loginOut}},[t._v("退出登录")]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.changePwd}},[t._v("修改密码")])])]),t._v(" "),s("div",{staticClass:"tab"},[s("ul",{staticClass:"tab-select flex"},t._l(t.tabsData,function(a,e){return s("li",{key:e,class:{active:t.tabsIndex==e},on:{click:function(a){t.tabsClick(e)}}},[t._v(t._s(a))])})),t._v(" "),s("p",[t._v(t._s(t.timeStr))])]),t._v(" "),0==t.tabsIndex?s("div",{staticClass:"daily-data"},[s("ul",{staticClass:"flex"},[s("li",{staticClass:"data-sum flex-2",on:{click:function(a){t.showDetailModal(1)}}},[s("p",[t._v("合伙坐庄模式")]),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"今日渠道盈亏",value:t._f("FormatMoney")(t.personal.pack_gain)}})],1),t._v(" "),s("li",{staticClass:"data-sum flex-2",on:{click:function(a){t.showDetailModal(2)}}},[s("p",[t._v("业绩分成模式")]),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"今日总业绩",value:t._f("FormatMoney")(t.personal.record)}})],1)]),t._v(" "),s("div",{staticClass:"data-item"},[s("p",[t._v("今日用户数据")]),t._v(" "),s("ul",{staticClass:"grid-card"},[s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"今日注册人数",value:t.personal.day_register}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"今日活跃人数",value:t.personal.day_active}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"今日充值人数",value:t.personal.day_pay_user}})],1)])]),t._v(" "),s("div",{staticClass:"data-item"},[s("p",[t._v("今日充值提现")]),t._v(" "),s("ul",{staticClass:"grid-card"},[s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"今日充值金额",value:t._f("FormatMoney")(t.personal.day_pay_sum)}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"今日提现金额",value:t._f("FormatMoney")(t.personal.day_withdraw)}})],1)])])]):t._e(),t._v(" "),1==t.tabsIndex?s("div",{staticClass:"daily-data"},[s("ul",{staticClass:"flex"},[s("li",{staticClass:"data-sum flex-2",on:{click:function(a){t.showDetailModal(1)}}},[s("p",[t._v("合伙坐庄模式")]),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上周渠道盈亏",value:t._f("FormatMoney")(t.lastWeekDataSum.pack_gain)}})],1),t._v(" "),s("li",{staticClass:"data-sum flex-2",on:{click:function(a){t.showDetailModal(2)}}},[s("p",[t._v("业绩分成模式")]),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上周总业绩",value:t._f("FormatMoney")(t.lastWeekDataSum.record)}})],1)]),t._v(" "),s("div",{staticClass:"data-item"},[s("p",[t._v("上周用户数据")]),t._v(" "),s("ul",{staticClass:"grid-card"},[s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"上周注册人数",value:t.lastWeekDataSum.day_register}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上周活跃人数",value:t.lastWeekDataSum.day_active}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上周充值人数",value:t.lastWeekDataSum.day_pay_user}})],1)])]),t._v(" "),s("div",{staticClass:"data-item"},[s("p",[t._v("上周充值提现")]),t._v(" "),s("ul",{staticClass:"grid-card"},[s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"上周充值金额",value:t._f("FormatMoney")(t.lastWeekDataSum.day_pay_sum)}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上周提现金额",value:t._f("FormatMoney")(t.lastWeekDataSum.day_withdraw)}})],1)])])]):t._e(),t._v(" "),2==t.tabsIndex?s("div",{staticClass:"daily-data"},[s("ul",{staticClass:"flex"},[s("li",{staticClass:"data-sum flex-2",on:{click:function(a){t.showDetailModal(1)}}},[s("p",[t._v("合伙坐庄模式")]),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上月渠道盈亏",value:t._f("FormatMoney")(t.lastMonthDataSum.pack_gain)}})],1),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"data-item"},[s("p",[t._v("上月用户数据")]),t._v(" "),s("ul",{staticClass:"grid-card"},[s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"上月注册人数",value:t.lastMonthDataSum.day_register}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上月活跃人数",value:t.lastMonthDataSum.day_active}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上月充值人数",value:t.lastMonthDataSum.day_pay_user}})],1)])]),t._v(" "),s("div",{staticClass:"data-item"},[s("p",[t._v("上月充值提现")]),t._v(" "),s("ul",{staticClass:"grid-card"},[s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"上月充值金额",value:t._f("FormatMoney")(t.lastMonthDataSum.day_pay_sum)}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上月提现金额",value:t._f("FormatMoney")(t.lastMonthDataSum.day_withdraw)}})],1)])])]):t._e(),t._v(" "),s("ul",{staticClass:"grid-nav"},[s("li",{staticClass:"row"},[s("router-link",{staticClass:"item",attrs:{tag:"div",to:"/promoter/detaildata"}},[s("i",{staticClass:"icon-6"}),s("p",[t._v("数据明细")])]),t._v(" "),s("router-link",{staticClass:"item",attrs:{tag:"div",to:"/promoter/member"}},[s("i",{staticClass:"icon-4"}),s("p",[t._v("玩家列表")])])],1),t._v(" "),s("li",{staticClass:"row"},[s("router-link",{staticClass:"item",attrs:{tag:"div",to:"/promoter/bindbank"}},[s("i",{staticClass:"icon-5"}),s("p",[t._v("银行卡信息")])]),t._v(" "),s("div",{staticClass:"item",on:{click:t.goToBalance}},[s("i",{staticClass:"icon-3"}),s("p",[t._v("对账数据")])])],1)]),t._v(" "),t.modalEdit?s("div",{staticClass:"modal-edit"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-header"},[s("h2",[t._v("修改登录密码")]),t._v(" "),s("div",{staticClass:"modal-close",on:{click:function(a){t.modalEdit=!1}}})]),t._v(" "),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"content-box"},[s("ul",[s("li",{staticClass:"flex-vertical"},[s("div",{staticClass:"text"},[t._v("旧密码：")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password.oldPwd,expression:"password.oldPwd"}],staticClass:"wechat flex-1",attrs:{type:"password",placeholder:"请输入原密码"},domProps:{value:t.password.oldPwd},on:{input:function(a){a.target.composing||t.$set(t.password,"oldPwd",a.target.value)}}})]),t._v(" "),s("li",{staticClass:"flex-vertical"},[s("div",{staticClass:"text"},[t._v("新密码：")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password.newPwd,expression:"password.newPwd"}],staticClass:"wechat flex-1",attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:t.password.newPwd},on:{input:function(a){a.target.composing||t.$set(t.password,"newPwd",a.target.value)}}})]),t._v(" "),s("li",{staticClass:"flex-vertical"},[s("div",{staticClass:"text"},[t._v("确认密码：")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password.againPwd,expression:"password.againPwd"}],staticClass:"wechat flex-1",attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:t.password.againPwd},on:{input:function(a){a.target.composing||t.$set(t.password,"againPwd",a.target.value)}}})]),t._v(" "),s("li",[s("div",{staticClass:"sure-btn",on:{click:t.sureClick}},[t._v("确认修改")])])])])])])]):t._e(),t._v(" "),t.modalDetail?s("div",{staticClass:"modal-detail"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-header"},[1==t.detailType?s("h2",[t._v("渠道盈亏明细")]):t._e(),t._v(" "),2==t.detailType?s("h2",[t._v("业绩分成明细")]):t._e(),t._v(" "),s("div",{staticClass:"modal-close",on:{click:function(a){t.modalDetail=!1}}})]),t._v(" "),1==t.detailType?s("div",{staticClass:"data"},[s("ul",{staticClass:"grid-card"},[0==t.tabsIndex?s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"今日投注金额",value:t._f("FormatMoney")(t.personal.day_bet_sum)}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"今日返奖金额",value:t._f("FormatMoney")(t.personal.day_back_sum)}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"今日玩家业绩分成",value:t._f("FormatMoney")(t.personal.commi)}})],1):t._e(),t._v(" "),1==t.tabsIndex?s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"上周投注金额",value:t._f("FormatMoney")(t.lastWeekDataSum.day_bet_sum)}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上周返奖金额",value:t._f("FormatMoney")(t.lastWeekDataSum.day_back_sum)}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上周玩家业绩分成",value:t._f("FormatMoney")(t.lastWeekDataSum.commi)}})],1):t._e(),t._v(" "),2==t.tabsIndex?s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"上月投注金额",value:t._f("FormatMoney")(t.lastMonthDataSum.day_bet_sum)}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上月返奖金额",value:t._f("FormatMoney")(t.lastMonthDataSum.day_back_sum)}}),t._v(" "),s("Card",{staticClass:"item",attrs:{title:"上月玩家业绩分成",value:t._f("FormatMoney")(t.lastMonthDataSum.commi)}})],1):t._e()]),t._v(" "),s("div",{staticClass:"rule"},[0==t.tabsIndex?s("p",{staticClass:"rule-tips"},[t._v("因玩家业绩在持续增长，每日盈亏数据仅供参考，详细数据以每周结算为准。")]):t._e(),t._v(" "),t._m(1)])]):t._e(),t._v(" "),2==t.detailType?s("div",{staticClass:"data"},[s("ul",{staticClass:"grid-card"},[0==t.tabsIndex?s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"今日玩家佣金分成",value:t.personal.commi/100+"元"}})],1):t._e(),t._v(" "),1==t.tabsIndex?s("li",{staticClass:"row flex flex-justify-content"},[s("Card",{staticClass:"item",attrs:{title:"上周玩家佣金分成",value:t.lastWeekDataSum.commi/100+"元"}})],1):t._e()]),t._v(" "),s("div",{staticClass:"rule"},[0==t.tabsIndex?s("p",{staticClass:"rule-tips"},[t._v("因玩家业绩在持续增长，每日盈亏数据仅供参考，详细数据以每周结算为准。")]):t._e(),t._v(" "),t._m(2)])]):t._e()])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"data-sum flex-2"},[a("p",[this._v("业绩分成模式")]),this._v(" "),a("p",{staticClass:"tips"},[this._v("业绩分成只能按周结算！")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",[this._v("渠道盈亏")]),this._v("=投注金额-返奖金额-玩家业绩分成\n                    ")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",[this._v("业绩结算")]),this._v("=渠道总业绩佣金分成-玩家佣金分成\n                    ")])}]};var _=s("VU/8")(r,d,!1,function(t){s("zwRD")},"data-v-24a7c499",null);a.default=_.exports},zwRD:function(t,a){}});