webpackJsonp([1],{"+skl":function(t,e){},"+wSc":function(t,e){},"1H2f":function(t,e){},"2Y05":function(t,e){},"3/Qe":function(t,e){},3619:function(t,e){},"3CA8":function(t,e){},"8HEp":function(t,e){},"9h8H":function(t,e){},"9hbG":function(t,e){},ASH3:function(t,e,a){t.exports=a.p+"static/img/401.089007e.gif"},BUzS:function(t,e){},CG4j:function(t,e){},D24U:function(t,e){},E5k0:function(t,e){},EfeE:function(t,e){},FpTF:function(t,e){},IijS:function(t,e){},"Iv+X":function(t,e){},JFUg:function(t,e){},JbDu:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("j1ja");var i=a("7+uW"),n={name:"App",created:function(){document.title=this.GG.proName}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")(n,o,!1,function(t){a("iKVR")},null,null).exports,s=a("Gu7T"),l=a.n(s),d=a("/ocq"),c=a("mvHQ"),m=a.n(c),u=a("Dd8w"),p=a.n(u),h={name:"lineTran",mounted:function(){var t=document.querySelector("canvas"),e=t.getContext("2d");t.width=window.innerWidth-20,t.height=window.innerHeight-20,e.lineWidth=.3,e.strokeStyle=new s(150).style;var a={x:30*t.width/100,y:30*t.height/100};if(t.width<480)var i={nb:200,distance:50,d_radius:100,array:[]};else i={nb:250,distance:100,d_radius:150,array:[]};function n(t){return Math.floor(255*Math.random()+t)}function o(t,e,a){return"rgba("+t+","+e+","+a+", 0.8)"}function r(t,e,a,i){return(t*e+a*i)/(e+i)}function s(t){t=t||0,this.r=n(t),this.g=n(t),this.b=n(t),this.style=o(this.r,this.g,this.b)}function l(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.vx=-.5+Math.random(),this.vy=-.5+Math.random(),this.radius=2*Math.random(),this.color=new s}l.prototype={draw:function(){e.beginPath(),e.fillStyle=this.color.style,e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()}},t.addEventListener("mousemove",function(t){a.x=t.pageX,a.y=t.pageY},!1),t.addEventListener("mouseleave",function(e){a.x=30*t.width/100,a.y=30*t.height/100},!1),function(){for(var t=0;t<i.nb;t++)i.array.push(new l)}(),requestAnimationFrame(function n(){e.clearRect(0,0,t.width,t.height),function(){for(var e=0;e<i.nb;e++){var a=i.array[e];a.y<0||a.y>t.height?(a.vx=a.vx,a.vy=-a.vy):(a.x<0||a.x>t.width)&&(a.vx=-a.vx,a.vy=a.vy),a.x+=a.vx,a.y+=a.vy}}(),function(){for(var t=0;t<i.nb;t++)for(var n=0;n<i.nb;n++){var s=i.array[t],l=i.array[n];s.x-l.x<i.distance&&s.y-l.y<i.distance&&s.x-l.x>-i.distance&&s.y-l.y>-i.distance&&s.x-a.x<i.d_radius&&s.y-a.y<i.d_radius&&s.x-a.x>-i.d_radius&&s.y-a.y>-i.d_radius&&(e.beginPath(),e.strokeStyle=(c=l,m=(d=s).color,u=c.color,p=r(m.r,d.radius,u.r,c.radius),h=r(m.g,d.radius,u.g,c.radius),f=r(m.b,d.radius,u.b,c.radius),o(Math.floor(p),Math.floor(h),Math.floor(f))),e.moveTo(s.x,s.y),e.lineTo(l.x,l.y),e.stroke(),e.closePath())}var d,c,m,u,p,h,f}(),function(){for(var t=0;t<i.nb;t++)i.array[t].draw()}(),requestAnimationFrame(n)})}},f={render:function(){var t=this.$createElement;return(this._self._c||t)("canvas")},staticRenderFns:[]};var g=a("VU/8")(h,f,!1,function(t){a("9h8H")},"data-v-2b715bc6",null).exports,_=a("//Fk"),v=a.n(_),b=a("mtWM"),w=a.n(b),y=a("BTaQ"),k=a.n(y);function D(t,e,a){if(a<0)document.cookie=t+"="+escape(e)+";expires=-1";else{void 0!==a&&""!=typeof a||(a=-1);var i=new Date;i.setTime(i.getTime()+1e3*a),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()}}function x(t){var e,a=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(a))?unescape(e[2]):null}function I(){var t=document.cookie.match(/[^ =;]+(?=\=)/g);if(t)for(var e=t.length;e--;)document.cookie=t[e]+"=0;expires="+new Date(0).toUTCString()}function M(t){if("string"!=typeof t)return console.error("dateStr不是string");var e=t.split(/[- : \/]/);return C(e)?(console.error("parseDateObj异常:"+t),new Date(t)):new Date(e[0],e[1]-1,e[2],e[3]||0,e[4]||0,e[5]||0)}function S(t,e,a){var i=new Date,n=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),o=Math.round(M(n).getTime()/1e3),r=24*t*60*60;r=o-r,r=(r=new Date(1e3*parseInt(r))).getFullYear()+"-"+(r.getMonth()+1>=10?r.getMonth()+1:"0"+(r.getMonth()+1))+"-"+(r.getDate()>=10?r.getDate():"0"+r.getDate());var s=n;return e&&(s=o-(s=24*e*60*60),s=(s=new Date(1e3*parseInt(s))).getFullYear()+"-"+(s.getMonth()+1>=10?s.getMonth()+1:"0"+(s.getMonth()+1))+"-"+(s.getDate()>=10?s.getDate():"0"+s.getDate())),a&&(r+="00:00:00",s+="23:59:59"),{from:r,to:s}}function L(t,e,a){for(var i=t.meta.name,n=window.location.hash.split("/"),o=0,r=0,s=0,l=0;l<e.length;l++)if(!C(e[l].children))for(var d=0;d<e[l].children.length;d++)if(i==e[l].children[d].url&&(r=d),!C(e[l].children[d].children))for(var c=0;c<e[l].children[d].children.length;c++){if(!e[l].children[d].children[c].url)return console.error(m()(e[l].children[d].children[c])),"菜单页面未配置url";var u=e[l].children[d].children[c].url.split("/")[2],p=e[l].children[d].children[c].url.split("/")[3];n[2]==u&&(o=l),n[3]==p&&(s=c)}return 1==a?o:2==a?r:s}function C(t){for(var e in t)return!1;return!0}function T(t,e){var a=t;if(1e-4*a>=1){var i=(1e-4*a).toFixed(e||2),n=i.split("."),o=n[1];if(o)for(var r=o.length;"0"==o[r-1];)r=(o=o.substr(0,r-1)).length;return i=n[0],o.length>0&&(i=i+"."+o),i+"万"}return a.toString()}var A={BASE_LOGIN:window.location.protocol+"//"+window.location.hostname+"/",BASE_API:window.location.protocol+"//"+window.location.hostname+"/jcmanager/"},N=function(t){return new v.a(function(e,a){var i=void 0;i=t.login||!1?A.BASE_LOGIN+t.url:A.BASE_API+"?uid="+JSON.parse(x("userinfo")).uid+"&token="+JSON.parse(x("userinfo")).token,w.a.defaults.headers.post["Content-Type"]="text/plain",w()({method:t.method||"POST",url:i,timeout:5e4,data:m()(t.data)||""}).then(function(t){return 401==t.data._errno?(I(),y.Message.error({content:"登入身份令牌已失效，请重新登入"}),void(window.location.href="/xyxadmin")):void 0!=t.data._errno?y.Message.error({content:t.data._errstr}):void e(t)}).catch(function(t){y.Message.error({content:"网络超时,请检查网络连接"}),a(t)})})};function $(){return N({data:{_mod:"jcmanager",_func:"UserMenu",_check:"",_param:{}}})}function F(){return N({data:{_mod:"jcmanager",_func:"AllMenu",_check:"",_param:{}}})}function P(t){return N({data:{_mod:"jcmanager",_func:"SaveMenu",_check:"",_param:t}})}var E=a("NYxO"),U=a("NC6I"),W=a.n(U),R={data:function(){return{loading:!1,formInline:{user:"",password:""},ruleInline:{user:[{required:!0,message:"请填写用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码长度不能小于6位",trigger:"blur"},{type:"string",max:18,message:"密码长度不能大于18位",trigger:"blur"}]}}},components:{LineTran:g},computed:p()({},Object(E.c)(["menu"])),created:function(){0!=this.menu.length&&null!=x("register")&&this.$router.replace({path:this.menu[0].children[0].children[0].url})},methods:p()({},Object(E.b)(["setMenu"]),{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$Message.error("账号密码不符合规范");e.loading=!0,setTimeout(function(){e.loading=!1},3e3),e.goLogin()})},goLogin:function(){var t,e=this,a={_mod:"jcmanager",_func:"Login",_check:"",_param:{username:this.formInline.user,password:W()(this.formInline.password)}};(t=a,N({login:!0,url:"jcmanager",data:t})).then(function(t){e.loading=!1,D("userinfo",m()(t.data._param),-1),D("uid",t.data._param.uid,-1),e.getUserMenu(t.data._param.username)})},getUserMenu:function(t){var e=this;$().then(function(a){a=a.data._param.list,e.setMenu(a),e.$router.replace({path:e.menu[0].children[0].children[0].url}),e.$Notice.success({title:t,desc:"欢迎进入"+e.GG.proName+"!"})})}})},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login",on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleSubmit("formInline")}}},[a("div",{staticClass:"loginBox"},[a("h1",[t._v(t._s(t.GG.proName))]),t._v(" "),a("Form",{ref:"formInline",attrs:{model:t.formInline,rules:t.ruleInline}},[a("Form-item",{attrs:{prop:"user"}},[a("Input",{attrs:{type:"text",placeholder:"Username",size:"large",autofocus:""},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t._v(" "),a("Form-item",{attrs:{prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"Password",size:"large"},model:{value:t.formInline.password,callback:function(e){t.$set(t.formInline,"password",e)},expression:"formInline.password"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.loading,size:"large"},on:{click:function(e){t.handleSubmit("formInline")}}},[t.loading?a("span",[t._v("正在登入...")]):a("span",[t._v("登录")])])],1)],1),t._v(" "),a("LineTran")],1)},staticRenderFns:[]};var z=a("VU/8")(R,B,!1,function(t){a("TTfc")},"data-v-77fb641c",null).exports,O=(a("xAfu"),{data:function(){var t=this;return{formLeft:{old_password:"",password:"",new_password:""},decryptions:{uid:"",data:""},modal2:!1,loading:!0,modal1:!1,menuTheme:"primary",active_name:"",username:JSON.parse(x("userinfo")).username,ruleUser:{password:[{required:!1,validator:function(e,a,i){""!=a?(""!==t.formLeft.new_password&&t.$refs.formLeft.validateField("new_password"),i()):i()},trigger:"blur"},{message:"请输入6-18位密码",min:6,max:18}],new_password:[{required:!1,validator:function(e,a,i){""!=t.formLeft.password?""===a?i(new Error("请再次输入密码")):a!==t.formLeft.password?i(new Error("两次输入密码不一致!")):i():i()},trigger:"blur"},{message:"请输入6-18位密码",min:6,max:18}]}}},computed:p()({},Object(E.c)(["menu"])),created:function(){0==this.menu.length&&this.getMenu(),null!=x("userinfo")&&401!=this.$route.name&&0!=this.menu.length&&(this.active_name=L(this.$route,this.menu,1)+1)},updated:function(){null!=x("userinfo")&&401!=this.$route.name&&(this.active_name=L(this.$route,this.menu,1)+1)},methods:p()({},Object(E.b)(["setMenu"]),{tolink:function(t){var e=window.location.hash.split("/"),a=this.menu[t-1].children[0].children[0].url,i=a.split("/");e[2]!=i[2]&&this.$router.push({path:a})},getMenu:function(){var t=this;$().then(function(e){e=e.data._param.list,t.setMenu(e),t.permissionFun()})},loginout:function(){var t=this;N({data:{_mod:"jcmanager",_func:"Logout",_check:"",_param:{}}}).then(function(e){I(),t.$router.replace({path:"/login"})})},permissionFun:function(){for(var t=0,e=0;e<this.menu.length;e++)if(!C(this.menu[e].children))for(var a=0;a<this.menu[e].children.length;a++)if(!C(this.menu[e].children[a].children))for(var i=0;i<this.menu[e].children[a].children.length;i++)this.$route.path==this.menu[e].children[a].children[i].url&&t++;0==t&&this.$router.replace({path:"/err401"})},ChangePsd:function(){this.formLeft.old_password="",this.formLeft.password="",this.formLeft.new_password="",this.modal1=!0},changePassword:function(){var t=this;this.$refs.formLeft.validate(function(e){if(e)if(""!=t.formLeft.new_password){var a={old_pwd:W()(t.formLeft.old_password),new_pwd:W()(t.formLeft.new_password)};(i=a,N({data:{_mod:"jcmanager",_func:"ChangePwd",_check:"",_param:i}})).then(function(e){t.$Message.success({content:"修改成功",duration:3})})}else t.$Message.error("表单验证失败!"),t.modal1=!1;else t.$Message.error("表单验证失败!"),t.modal1=!1;var i})},decryption:function(){this.decryptions.uid="",this.decryptions.data="",this.modal2=!0},decryptionData:function(){var t,e=this;(t={uid:this.decryptions.uid},N({method:"post",url:"user/decypt-uid",data:t})).then(function(t){if(0!=t.data.code)return e.$Message.error({content:t.data.msg});e.decryptions.data=t.data.data})},showInstructions:function(){var t=document.createElement("a");t.href="./static/Guide.pdf",t.target="_blank",t.type="application/pdf",t.click()}}),watch:{$route:"permissionFun"}}),G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("div",{staticClass:"layout-header"},[a("div",{staticClass:"user-set"},[a("span",{on:{click:t.showInstructions}},[t._v("操作指南")]),t._v(" "),a("Poptip",{attrs:{confirm:"",title:"您确认修改密码？",placement:"bottom-end"},on:{"on-ok":t.ChangePsd}},[a("Tooltip",{attrs:{content:"修改密码",placement:"bottom-end"}},[a("span",[t._v(t._s(t.username))])])],1),t._v(" "),a("Poptip",{attrs:{confirm:"",title:"您确认注销账号吗？",placement:"bottom-end"},on:{"on-ok":t.loginout}},[a("Tooltip",{attrs:{content:"安全退出",placement:"bottom-end"}},[a("span",[t._v("注销")])])],1)],1),t._v(" "),a("Menu",{attrs:{mode:"horizontal",theme:t.menuTheme,"active-name":t.active_name},on:{"on-select":t.tolink}},[a("div",{staticClass:"layout-nav"},t._l(t.menu,function(e,i){return a("Menu-item",{key:i,attrs:{name:i+1}},[t._v(t._s(e.name))])}))])],1),t._v(" "),a("div",{staticClass:"layout-content"},[a("router-view")],1),t._v(" "),a("Modal",{attrs:{title:"修改"+t.username+"的密码"},on:{"on-ok":t.changePassword},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Form",{ref:"formLeft",attrs:{model:t.formLeft,"label-position":"left","label-width":100,rules:t.ruleUser}},[a("FormItem",{attrs:{label:"旧密码"}},[a("Input",{attrs:{type:"password"},model:{value:t.formLeft.old_password,callback:function(e){t.$set(t.formLeft,"old_password",e)},expression:"formLeft.old_password"}})],1),t._v(" "),a("FormItem",{attrs:{label:"新密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.formLeft.password,callback:function(e){t.$set(t.formLeft,"password",e)},expression:"formLeft.password"}})],1),t._v(" "),a("FormItem",{attrs:{label:"确认新密码",prop:"new_password"}},[a("Input",{attrs:{type:"password"},model:{value:t.formLeft.new_password,callback:function(e){t.$set(t.formLeft,"new_password",e)},expression:"formLeft.new_password"}})],1)],1)],1)],1)},staticRenderFns:[]};var j=a("VU/8")(O,G,!1,function(t){a("3/Qe")},"data-v-685d0ec9",null).exports,q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"errPage-container"},[i("Button",{attrs:{type:"info",icon:"chevron-left"},on:{click:function(e){t.$router.back(-1)}}},[t._v("返回")]),t._v(" "),i("Row",[i("Col",{attrs:{span:"12"}},[i("h1",[t._v("Oops!")]),t._v(" "),i("h2",[t._v("你没有权限进入该页面")]),t._v(" "),i("h3",[t._v("如有不满请联系你的领导")]),t._v(" "),i("ul",{staticClass:"list-text"},[i("li",[t._v("或者你可以:")]),t._v(" "),i("li",[i("router-link",{attrs:{to:"/"}},[t._v("回首页")])],1),t._v(" "),i("li",{on:{click:function(e){t.modal=!t.modal}}},[i("a",[t._v("点我看图")])])])]),t._v(" "),i("Col",{attrs:{span:"12"}},[i("img",{attrs:{src:a("ASH3")}})])],1),t._v(" "),i("Modal",{attrs:{width:"720","class-name":"vertical-center-modal"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[i("img",{attrs:{src:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646"}}),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},staticRenderFns:[]};var H=a("VU/8")({data:function(){return{modal:!1}}},q,!1,function(t){a("2Y05")},null,null).exports,V={name:"administerMenu",data:function(){return{menus:[],active:"1-1",names:1}},computed:p()({},Object(E.c)(["menu"])),created:function(){this.menu.length>0&&this.menuFun()},methods:{menuFun:function(){this.menus=this.menu[L(this.$route,this.menu,1)],this.names=L(this.$route,this.menu,2)+1,this.active=L(this.$route,this.menu,2)+1+"-"+(this.$route,L(this.$route,this.menu,3)+1)}},watch:{menu:"menuFun"}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[a("div",{staticClass:"layout-left-nav"},[0!=t.menus.length?a("Menu",{attrs:{"active-name":t.active,"open-names":[t.names],accordion:!0,width:"auto"}},t._l(t.menus.children,function(e,i){return a("Submenu",{key:e.id,attrs:{name:i+1}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:0==e.icon.length?t.GG.iconBase:e.icon}}),t._v(t._s(e.name)+"\n                ")],1),t._v(" "),t._l(e.children,function(e,n){return a("Menu-item",{key:e.id,attrs:{name:String(i+1+"-"+(n+1))}},[a("router-link",{attrs:{to:e.url}},[a("Icon",{attrs:{type:e.icon&&0!=e.icon.length?e.icon:t.GG.iconBase}}),t._v(t._s(e.name))],1)],1)})],2)})):t._e()],1),t._v(" "),a("div",{staticClass:"layout-right-content"},[a("div",{staticClass:"layout-content-main"},[a("router-view")],1)])])},staticRenderFns:[]},J=a("VU/8")(V,Q,!1,null,null,null).exports;function Y(){return N({data:{_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}})}function X(t){return N({data:t})}var K={name:"datacollect",data:function(){var t=this;return{searchData:{app_id:"",date:[S(0).from,S(0).to]},app_id:"",appListData:[],tableData:[],shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]},columns1:[{title:"实时在线人数",key:"online_user_count",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/useractive",query:{back:1}})}}},a.row.online_user_count)}},{title:"实时在玩人数",key:"on_play_user_count",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{back:1}})}}},a.row.on_play_user_count)}},{title:"实时总账户余额",key:"user_coin_total",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/userslist",query:{back:1}})}}},a.row.user_coin_total/100)}}],columns2:[{title:"新增人数",key:"new_user",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.new_user)}},{title:"新增玩家充值人数",key:"new_pay_user",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.new_pay_user)}},{title:"日活人数",key:"today_user",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.today_user)}},{title:"充值人数",key:"recharge_num",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.recharge_num)}},{title:"提现人数",key:"put_user_count",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.put_user_count)}}],columns3:[{title:"新增玩家充值金额",key:"new_user_recharge",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.new_user_recharge/100)}},{title:"代理充值金额",key:"vip_recharge",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.vip_recharge/100)}},{title:"线上充值金额",key:"online_recharge",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.online_recharge/100)}},{title:"充值金额",key:"recharge",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.recharge/100)}},{title:"提现金额",key:"putforwd",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packdata",query:{back:1}})}}},a.row.putforwd/100)}}],columns4:[{title:"彩票投注人数",key:"play_lottery_count",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/gamedata",query:{back:1}})}}},a.row.play_lottery_count)}},{title:"彩票投注金额",key:"cp_bet",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/gamedata",query:{back:1}})}}},a.row.cp_bet/100)}},{title:"彩票返奖金额",key:"cp_award",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/gamedata",query:{back:1}})}}},a.row.cp_award/100)}}],columns5:[{title:"小游戏投注人数",key:"play_guess_count",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/gamedata",query:{back:1}})}}},a.row.play_guess_count)}},{title:"小游戏投注金额",key:"bet",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/gamedata",query:{back:1}})}}},a.row.bet/100)}},{title:"小游戏返奖金额",key:"award",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/gamedata",query:{back:1}})}}},a.row.award/100)}},{title:"小游戏税收金额",key:"percentage_point",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/userrecordlist",query:{back:1}})}}},a.row.percentage_point/100)}}]}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData()},methods:{search:function(){var t=this;return""==this.app_id?this.$Message.error("请选择渠道"):""==this.searchData.date[0]||""==this.searchData.date[1]?this.$Message.error("请选择正确的时间查询"):(this.tableData=[],void X({_mod:"jcmanager",_func:"GetData",_check:"",_param:{app_id:Number(this.app_id),start:Math.round(this.searchData.date[0].getTime()/1e3),end:Math.round(this.searchData.date[1].getTime()/1e3+86400-1)}}).then(function(e){t.tableData.push(e.data._param)}))},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search()})})}}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.searchData.date,callback:function(e){t.$set(t.searchData,"date",e)},expression:"searchData.date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{staticClass:"box"},[a("Table",{staticStyle:{"margin-bottom":"20px","min-width":"302px"},attrs:{border:"",columns:t.columns1,data:t.tableData,size:"large"}}),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"20px","min-width":"502px"},attrs:{border:"",columns:t.columns2,data:t.tableData,size:"large"}}),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"20px","min-width":"502px"},attrs:{border:"",columns:t.columns3,data:t.tableData,size:"large"}}),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"20px","min-width":"302px"},attrs:{border:"",columns:t.columns4,data:t.tableData,size:"large"}}),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"20px","min-width":"402px"},attrs:{border:"",columns:t.columns5,data:t.tableData,size:"large"}})],1)])},staticRenderFns:[]};var tt=a("VU/8")(K,Z,!1,function(t){a("X9Wb")},"data-v-0a53461c",null).exports,et={name:"addUser",data:function(){return{userinfo:JSON.parse(x("userinfo")),searchData:{app_id:"",date:[S(0).from,S(0).to]},app_id:"",appListData:[],tableData:[],curTableData:[],pagesize:15,page:1,pageTotal:0,columns:[{title:"玩家ID",key:"uid",align:"center",minWidth:100},{title:"玩家昵称",key:"nickname",align:"center",minWidth:100},{title:"手机号",key:"phone",align:"center",minWidth:120},{title:"账户余额",key:"point",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.point/100)}},{title:"充值金额",key:"recharge",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",void 0==e.row.recharge?"0":e.row.recharge/100)}},{title:"提现金额",key:"putforwd",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",void 0==e.row.putforwd?"0":e.row.putforwd/100)}},{title:"上级代理ID",key:"parent",align:"center",minWidth:100,render:function(t,e){return t("span",0==e.row.parent?"":e.row.parent)}},{title:"渠道",key:"pack_name",align:"center",minWidth:80},{title:"渠道号",key:"pack_no",align:"center",minWidth:80,render:function(t,e){return t("span",0==e.row.pack_no?"":e.row.pack_no)}},{title:"注册途径",key:"reg_info",align:"center",minWidth:240},{title:"注册时间",key:"created_date",align:"center",sortable:!0,minWidth:105},{title:"最后登录",key:"last_login",align:"center",sortable:!0,minWidth:105}],shortcutDate:{shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData()},methods:{search:function(t){var e=this;return""==this.app_id?this.$Message.error("请选择渠道"):""==this.searchData.date[0]||""==this.searchData.date[1]?this.$Message.error("请选择正确的时间查询"):(0==t&&(this.page=1),this.tableData=[],void X({_mod:"jcmanager",_func:"GetAddUserInfo",_check:"",_param:{app_id:Number(this.app_id),start:Math.round(this.searchData.date[0].getTime()/1e3),end:Math.round(this.searchData.date[1].getTime()/1e3+86400-1),page:this.page,pagesize:this.pagesize}}).then(function(t){void 0==t.data._param.list?e.tableData=[]:e.tableData=t.data._param.list,e.pageTotal=t.data._param.total}))},getAppListData:function(){var t=this;Y().then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search(0)})})},pageChange:function(t){this.page=t,this.search()}}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.searchData.date,callback:function(e){t.$set(t.searchData,"date",e)},expression:"searchData.date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}})],1)},staticRenderFns:[]};var it=a("VU/8")(et,at,!1,function(t){a("tMyB")},"data-v-206cf262",null).exports,nt={name:"Backer",props:{isEnable:{type:Boolean,default:!1}},methods:{}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isEnable?a("Button",{attrs:{icon:"md-arrow-round-back",size:"large"},on:{click:function(e){t.$router.go(-1)}}}):t._e()},staticRenderFns:[]},rt=a("VU/8")(nt,ot,!1,null,null,null).exports,st={name:"gameData",data:function(){return{backEnable:!1,searchData:{app_id:"",date:[S(0).from,S(0).to]},app_id:"",game_id:"",appListData:[],gameListData:[],tableData:[],columns:[{title:"gid",key:"gid",align:"center",minWidth:100},{title:"游戏名字",key:"gameName",align:"center",minWidth:100},{title:"活跃玩家",key:"activeUser",align:"center",sortable:!0,minWidth:120},{title:"投注金额",key:"todayBet",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.todayBet?"0":e.row.todayBet/100)}},{title:"返奖金额",key:"todayHit",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.todayHit?"0":e.row.todayHit/100)}}],shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData()},mounted:function(){var t=this.$route.query.back;null!=t&&void 0!=t&&1==t&&(this.backEnable=!0)},methods:{search:function(){var t=this;return""==this.app_id?this.$Message.error("请选择渠道"):""==this.searchData.date[0]||""==this.searchData.date[1]?this.$Message.error("请选择正确的时间查询"):(this.tableData=[],void X({_mod:"jcmanager",_func:"GetGameData",_check:"",_param:{app_id:Number(this.app_id),gameid:Number(this.game_id),start:Math.round(this.searchData.date[0].getTime()/1e3),end:Math.round(this.searchData.date[1].getTime()/1e3+86400-1)}}).then(function(e){t.page=1,void 0==e.data._param.list?t.tableData=[]:t.tableData=e.data._param.list}))},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.appSelectOnChange(),t.$nextTick(function(){t.search()})})},appSelectOnChange:function(){var t=this;if(""==this.app_id)return this.$Message.error("请选择渠道");X({_mod:"jcmanager",_func:"GetAppGameList",_check:"",_param:{appid:Number(this.app_id)}}).then(function(e){void 0==e.data._param.list?t.gameListData=[]:t.gameListData=e.data._param.list})},pageChange:function(t){this.page=t,this.search()}},components:{Backer:rt}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Backer",{attrs:{isEnable:t.backEnable}}),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":function(e){t.appSelectOnChange()}},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"选择游戏"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.game_id,callback:function(e){t.game_id=e},expression:"game_id"}},t._l(t.gameListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.game_name)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.searchData.date,callback:function(e){t.$set(t.searchData,"date",e)},expression:"searchData.date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}})],1)},staticRenderFns:[]};var dt=a("VU/8")(st,lt,!1,function(t){a("D24U")},"data-v-3332f0ce",null).exports,ct={name:"UserRecordList",data:function(){return{backEnable:!1,searchData:{date:[S(6).from,S(0).to]},app_id:"",appListData:[],tableData:[],curTableData:[],pagesize:15,page:1,pageTotal:0,columns:[{title:"时间",key:"tt",align:"center",minWidth:100},{title:"总佣金",key:"commi",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",void 0==e.row.commi?"0":e.row.commi/100)}},{title:"总业绩",key:"record",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",void 0==e.row.record?"0":e.row.record/100)}},{title:"小游戏投注",key:"guessBet",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.guessBet?"0":e.row.guessBet/100)}},{title:"小游戏返奖",key:"guessHit",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.guessHit?"0":e.row.guessHit/100)}},{title:"小游戏税收",key:"guessTax",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.guessTax?"0":e.row.guessTax/100)}},{title:"小游戏业绩",key:"guessRecord",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.guessRecord?"0":e.row.guessRecord/100)}},{title:"彩票投注",key:"cpBet",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.cpBet?"0":e.row.cpBet/100)}},{title:"彩票返奖",key:"cpHit",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.cpHit?"0":e.row.cpHit/100)}},{title:"彩票业绩",key:"cpRecord",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.cpRecord?"0":e.row.cpRecord/100)}}],shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData()},mounted:function(){var t=this.$route.query.back;null!=t&&void 0!=t&&1==t&&(this.backEnable=!0)},methods:{search:function(){var t=this;return""==this.app_id?this.$Message.error("请选择APP"):""==this.searchData.date[0]||""==this.searchData.date[1]?this.$Message.error("请选择正确的时间查询"):(this.tableData=[],void X({_mod:"jcmanager",_func:"GetUserRecordList",_check:"",_param:{appid:Number(this.app_id),start:Math.round(this.searchData.date[0].getTime()/1e3),end:Math.round(this.searchData.date[1].getTime()/1e3+86400-1)}}).then(function(e){t.page=1,void 0==e.data._param.list?t.tableData=[]:t.tableData=e.data._param.list,t.pageTotal=t.tableData.length,t.curTableData=t.getPageData(1)}))},getAppListData:function(){var t=this;Y().then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search()})})},pageChange:function(t){this.page=t,this.curTableData=this.getPageData(t)},getPageData:function(t){var e=(t-1)*this.pagesize,a=t*this.pagesize;return this.tableData.slice(e,a)}},components:{Backer:rt}},mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Backer",{attrs:{isEnable:t.backEnable}}),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.searchData.date,callback:function(e){t.$set(t.searchData,"date",e)},expression:"searchData.date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.curTableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.curTableData.length,expression:"curTableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}})],1)},staticRenderFns:[]};var ut=a("VU/8")(ct,mt,!1,function(t){a("UYQd")},"data-v-32dfbe27",null).exports,pt={name:"WaterData",data:function(){var t=this;return{backEnable:!1,isAutoRefresh:0!=x("watersw"),indeterminate:!1,checkAll:!0,sourceType:[],sourceList:[],sourceMap:[],allSourceArg:[],waterRecord:{app_id:12,uid:0,pack_no:0,page:1,pagesize:10,source:0,start:0,end:0,gid:0,source_type:0},waterDate:[S(0).from,S(0).to],app_id:"",appListData:[],packNo:"",packList:[],uid:"",game_id:"",puid:"",gameListData:[],waterNumber:0,waterData:[],waterList:[],waters:[{title:"流水单号",key:"order_no",align:"center",minWidth:120},{title:"玩家ID",key:"uid",align:"center",minWidth:90},{title:"玩家昵称",key:"nick_name",align:"center",minWidth:90},{title:"玩家账户余额（变动前）",key:"old_point",align:"center",width:120,render:function(t,e){return t("span",void 0==e.row.old_point?"0":e.row.old_point/100)}},{title:"变动金额",key:"point",align:"center",minWidth:100,render:function(t,e){var a=e.row.point/100,i=e.row.percentage_point/100,n=a>0?"+"+a:a;return i>0&&(n=n+"(税收"+i+")"),t("span",{style:{color:a>0?"red":"green"}},n)}},{title:"玩家账户余额（变动后）",key:"new_point",align:"center",width:120,render:function(t,e){return t("span",void 0==e.row.new_point?"0":e.row.new_point/100)}},{title:"变更类型",key:"source",align:"center",minWidth:100,render:function(e,a){return e("span",t.sourceMap[a.row.source].name)}},{title:"变更来源",key:"game_name",align:"center",minWidth:100,render:function(t,e){return 10==e.row.source?t("span",e.row.source_opt):t("span",e.row.game_name)}},{title:"更新时间",key:"update_time",align:"center",minWidth:100},{title:"所属渠道",key:"pack_name",align:"center",width:120,render:function(t,e){var a=e.row.pack_name;return e.row.pack_no&&e.row.pack_no>0&&(a=e.row.pack_name+"("+e.row.pack_no+")"),t("span",a)}},{title:"操作",key:"action",minWidth:100,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",disabled:void 0==a.row.source_opt||""==a.row.source_opt},on:{click:function(){t.$Modal.info({title:"详情",content:'<p style="word-wrap:break-word;word-break:break-all;">'+a.row.source_opt+"</p>"})}}},"详情")])}}],shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData(),this.getGameList(),this.getPackList()},mounted:function(){var t=this.$route.query.back;null!=t&&void 0!=t&&1==t&&(this.backEnable=!0);var e=this.$route.query.suid;null!=e&&void 0!=e&&(this.uid=e);var a=this.$route.query.packNo;null!=a&&void 0!=a&&(this.packNo=a);var i=this.$route.query.gid;null!=i&&void 0!=i&&(this.game_id=i),this.isAutoRefresh&&this.startRefreshTimer()},destroyed:function(){this.clearRefreshTimer()},methods:{startRefreshTimer:function(){var t=this;this.timer?clearInterval(this.timer):this.timer=setInterval(function(){t.userWaters()},3e4)},clearRefreshTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.getSourceType()})})},waterPageChanges:function(t){this.waterRecord.page=t,this.userWaters()},pageSizeChange:function(t){this.waterRecord.pagesize=t,this.userWaters()},getSourceType:function(){var t=this;X({_mod:"jcmanager",_func:"GetSourceType",_check:"",_param:{}}).then(function(e){t.sourceList=e.data._param.list,t.allSourceArg=[],t.sourceMap=[];for(var a=0;a<t.sourceList.length;a++)t.allSourceArg.push(t.sourceList[a].source),t.sourceMap[t.sourceList[a].source]=t.sourceList[a];t.sourceType=t.allSourceArg,t.$nextTick(function(){var e=t.$route.query.stype;if(null!=e&&void 0!=e){t.sourceType=[Number(e)],t.indeterminate=!0,t.checkAll=!1}t.userWaters(0)})})},userWaters:function(t){var e=this;0==t&&(this.waterRecord.page=1),this.waterList=[],this.waterRecord.app_id=this.app_id||12,this.waterRecord.source=this.sourceType||[],this.waterRecord.pack_no=Number(this.packNo)||0,this.waterRecord.uid=Number(this.uid)||0,this.waterRecord.gid=Number(this.game_id)||0,this.waterRecord.source_type=this.puid,this.waterDate[0]&&this.waterDate[1]?(this.waterRecord.start=Math.round(this.waterDate[0].getTime()/1e3),this.waterRecord.end=Math.round(this.waterDate[1].getTime()/1e3+86400-1)):(this.waterRecord.start=0,this.waterRecord.end=0),X({_mod:"jcmanager",_func:"PointLog",_check:"",_param:this.waterRecord}).then(function(t){e.waterData=t.data._param,e.waterList=t.data._param.list,e.waterNumber=t.data._param.total})},getPackList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackAllList",_check:"",_param:{}}).then(function(e){t.packList=e.data._param.pack_list})},getGameList:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppGameList",_check:"",_param:{appid:12}}).then(function(e){void 0==e.data._param.list?t.gameListData=[]:t.gameListData=e.data._param.list})},checkAllGroupChange:function(t){t.length==this.sourceList.length?(this.indeterminate=!1,this.checkAll=!0):t.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)},handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.sourceType=this.allSourceArg:this.sourceType=[]},onSwitch:function(t){D("watersw",t?1:0,-1),t?this.startRefreshTimer():this.clearRefreshTimer()}},components:{Backer:rt}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Backer",{attrs:{isEnable:t.backEnable}}),t._v(" "),a("div",{staticClass:"search-wrap"},[a("div",{staticClass:"check"},[a("div",{staticStyle:{"padding-bottom":"8px","margin-bottom":"10px",display:"flex"}},[a("span",[t._v("变更类型")]),t._v("   \n                "),a("Checkbox",{attrs:{indeterminate:t.indeterminate,value:t.checkAll,size:"large"},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAll(e)}}},[t._v("全选")]),t._v("\n                   \n                "),a("CheckboxGroup",{on:{"on-change":t.checkAllGroupChange},model:{value:t.sourceType,callback:function(e){t.sourceType=e},expression:"sourceType"}},t._l(t.sourceList,function(e){return a("Checkbox",{key:e.source,attrs:{label:e.source,size:"large"}},[t._v(t._s(e.name))])}))],1)]),t._v(" "),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"所在游戏"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.game_id,callback:function(e){t.game_id=e},expression:"game_id"}},t._l(t.gameListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.game_name)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"所在渠道"}},[a("Select",{staticStyle:{width:"110px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.packNo,callback:function(e){t.packNo=e},expression:"packNo"}},t._l(t.packList,function(e){return a("Option",{key:e.pack_no,attrs:{value:e.pack_no}},[t._v(t._s(e.pack_name)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":50,label:"渠道号"}},[a("Input",{staticStyle:{width:"90px"},attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.packNo,callback:function(e){t.packNo=e},expression:"packNo"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":50,label:"玩家ID"}},[a("Input",{staticStyle:{width:"90px"},attrs:{clearable:!0,placeholder:"请输入玩家ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"180px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.waterDate,callback:function(e){t.waterDate=e},expression:"waterDate"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":75,label:"充值操作人"}},[a("Input",{staticStyle:{width:"110px"},attrs:{clearable:!0,placeholder:"请输入操作人uid"},model:{value:t.puid,callback:function(e){t.puid=e},expression:"puid"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.userWaters(0)}}},[t._v("查询")])],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"自动刷新"}},[a("i-switch",{on:{"on-change":t.onSwitch},model:{value:t.isAutoRefresh,callback:function(e){t.isAutoRefresh=e},expression:"isAutoRefresh"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),t._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1)],1)],1),t._v(" "),a("div",{staticClass:"total-info"},[a("Page",{attrs:{"page-size":t.waterRecord.pagesize,total:t.waterNumber,"show-total":"",placement:"bottom",current:t.waterRecord.page,"show-sizer":""},on:{"on-change":t.waterPageChanges,"on-page-size-change":t.pageSizeChange}}),t._v(" "),t.waterData.total_real_point?a("div",{staticClass:"data-info"},[t._v("变动总金额："+t._s(t._f("isNullRmb")(t.waterData.total_real_point)))]):t._e()],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.waters,data:t.waterList}}),t._v(" "),a("br")],1)},staticRenderFns:[]};var ft=a("VU/8")(pt,ht,!1,function(t){a("E5k0")},"data-v-7f891bf8",null).exports,gt={name:"addUser",data:function(){var t=this;return{backEnable:!1,searchData:{date:[S(0).from,S(0).to]},app_id:"",appListData:[],pack_id:"",packListData:[],tableData:[],packData:[],pageTotal:0,columns:[{title:"渠道号",key:"pack_no",align:"center",minWidth:80},{title:"渠道名称",key:"pack_name",align:"center",minWidth:90},{title:"渠道下属玩家人数",key:"pack_user_count",align:"center",sortable:!0,width:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/userslist",query:{packNo:a.row.pack_no,back:1}})}}},a.row.pack_user_count)}},{title:"WEB端新增人数",key:"web_add_user",align:"center",sortable:!0,width:100},{title:"APP端新增人数",key:"app_add_user",align:"center",sortable:!0,width:100},{title:"新增",key:"new_add_num",align:"center",sortable:!0,minWidth:80},{title:"活跃",key:"active_num",align:"center",sortable:!0,minWidth:80},{title:"WEB端活跃人数",key:"web_active_user",align:"center",sortable:!0,width:100},{title:"APP端活跃人数",key:"app_active_user",align:"center",sortable:!0,width:100},{title:"付费人数",key:"pay_num",align:"center",sortable:!0,minWidth:115},{title:"线上充值金额",key:"on_pay_sum",align:"center",sortable:!0,width:100,render:function(t,e){return t("span",e.row.on_pay_sum/100)}},{title:"VIP充值金额",key:"down_pay_sum",align:"center",sortable:!0,width:100,render:function(t,e){return t("span",e.row.down_pay_sum/100)}},{title:"总充值金额",key:"on_pay_sum",align:"center",sortable:!0,minWidth:115,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{packNo:a.row.pack_no,stype:10,back:1}})}}},(a.row.on_pay_sum+a.row.down_pay_sum)/100)}},{title:"总提现金额",key:"total_withdrawal",align:"center",sortable:!0,minWidth:115,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{packNo:a.row.pack_no,stype:27,back:1}})}}},a.row.total_withdrawal/100)}},{title:"Arpu",key:"arpu",align:"center",minWidth:80,render:function(t,e){var a=0;return e.row.on_pay_sum+e.row.down_pay_sum&&e.row.active_num&&e.row.active_num>0&&(a=(e.row.on_pay_sum+e.row.down_pay_sum)/100/e.row.active_num),t("span",Math.round(100*a)/100)}},{title:"Arppu",key:"arppu",align:"center",minWidth:80,render:function(t,e){var a=0;return e.row.on_pay_sum+e.row.down_pay_sum&&e.row.pay_num&&e.row.pay_num>0&&(a=(e.row.on_pay_sum+e.row.down_pay_sum)/100/e.row.pay_num),t("span",Math.round(100*a)/100)}}],shortcutDate:{shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData(),this.getPackList()},mounted:function(){var t=this.$route.query.back;null!=t&&void 0!=t&&1==t&&(this.backEnable=!0)},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search(0)})})},search:function(t){var e=this;if(""==this.searchData.date[0]||""==this.searchData.date[1])return this.$Message.error("请选择时间查询");0==t&&(this.page=1),this.tableData=[],this.packData=[],X({_mod:"jcmanager",_func:"GetTimePackData",_check:"",_param:{appid:Number(this.app_id),pack_no:Number(this.pack_id)||0,stime:this.searchData.date[0]&&Math.round(this.searchData.date[0].getTime()/1e3)||0,etime:this.searchData.date[1]&&Math.round(this.searchData.date[1].getTime()/1e3+86400-1)||0}}).then(function(t){void 0==t.data._param.data?e.tableData=[]:e.tableData=t.data._param.data,void 0==t.data._param.data&&null==t.data._param.data||(e.packData=t.data._param,e.createTotalItem(e.packData))})},createTotalItem:function(t){if(t&&!C(t)){var e={pack_no:"汇总"};e.pack_name="共"+(t.data||[]).length+"条",e.pack_user_count=t.pack_user_count,e.url_reg_sum=t.url_reg_sum,e.reg_sum=t.reg_sum,e.new_add_num=t.new_add_num,e.active_num=t.active_num,e.pay_num=t.pay_num,e.on_pay_sum=t.on_pay_sum,e.down_pay_sum=t.down_pay_sum,e.total_withdrawal=t.total_withdrawal,this.tableData.push(e)}},pageChange:function(t){this.page=t,this.search()},getPackList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackAllList",_check:"",_param:{}}).then(function(e){t.packListData=e.data._param.pack_list})}},components:{Backer:rt}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Backer",{attrs:{isEnable:t.backEnable}}),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道名称"}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:!0,transfer:"",filterable:""},model:{value:t.pack_id,callback:function(e){t.pack_id=e},expression:"pack_id"}},t._l(t.packListData,function(t){return a("Option",{key:t.pack_no,attrs:{value:t.pack_no,label:t.pack_name+"("+t.pack_no+")"}})}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道号"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.pack_id,callback:function(e){t.pack_id=e},expression:"pack_id"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.searchData.date,callback:function(e){t.$set(t.searchData,"date",e)},expression:"searchData.date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}})],1)},staticRenderFns:[]};var vt={name:"addUser",data:function(){var t=this;return{searchData:{date:[S(0).from,S(0).to]},app_id:"",appListData:[],pack_id:"",packListData:[],tableData:[],packData:[],pageTotal:0,columns:[{title:"渠道号",key:"pack_no",align:"center",minWidth:80},{title:"渠道名称",key:"pack_name",align:"center",minWidth:100},{title:"渠道业绩",key:"total_record",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",e.row.total_record/100)}},{title:"渠道代理业绩返佣",key:"commi",align:"center",sortable:!0,width:100,render:function(t,e){return t("span",e.row.commi/100)}},{title:"渠道下属玩家人数",key:"pack_user_count",align:"center",sortable:!0,width:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/userslist",query:{packNo:a.row.pack_no,back:1}})}}},a.row.pack_user_count)}},{title:"小游戏投注金额",key:"guess_bet",align:"center",sortable:!0,width:140,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{packNo:a.row.pack_no,stype:2,back:1}})}}},a.row.guess_bet/100)}},{title:"小游戏返奖金额",key:"guess_hit",align:"center",sortable:!0,width:140,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{packNo:a.row.pack_no,stype:3,back:1}})}}},a.row.guess_hit/100)}},{title:"彩票投注金额",key:"lottory_bet",align:"center",sortable:!0,minWidth:115,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{packNo:a.row.pack_no,stype:32,back:1}})}}},a.row.lottory_bet/100)}},{title:"彩票返奖金额",key:"lottory_hit",align:"center",sortable:!0,minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{packNo:a.row.pack_no,stype:31,back:1}})}}},a.row.lottory_hit/100)}},{title:"总投注金额",key:"bet",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",e.row.bet/100)}},{title:"总返奖金额",key:"hit",align:"center",sortable:!0,minWidth:115,render:function(t,e){return t("span",e.row.hit/100)}},{title:"盈利税收金额",key:"share_sum",align:"center",sortable:!0,minWidth:115,render:function(t,e){return t("span",e.row.share_sum/100)}}],shortcutDate:{shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData(),this.getPackList()},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search(0)})})},search:function(t){var e=this;if(""==this.searchData.date[0]||""==this.searchData.date[1])return this.$Message.error("请选择时间查询");0==t&&(this.page=1),this.tableData=[],this.packData=[],X({_mod:"jcmanager",_func:"GetBalancePackData",_check:"",_param:{appid:Number(this.app_id),pack_no:Number(this.pack_id)||0,stime:this.searchData.date[0]&&Math.round(this.searchData.date[0].getTime()/1e3)||0,etime:this.searchData.date[1]&&Math.round(this.searchData.date[1].getTime()/1e3+86400-1)||0}}).then(function(t){void 0==t.data._param.data?e.tableData=[]:e.tableData=t.data._param.data,void 0==t.data._param.data&&null==t.data._param.data||(e.packData=t.data._param,e.createTotalItem(e.packData))})},createTotalItem:function(t){if(t&&!C(t)){var e={pack_no:"汇总"};e.pack_name="共"+(t.data||[]).length+"条",e.total_record=t.total_record,e.commi=t.commi,e.pack_user_count=t.pack_user_count,e.guess_bet=t.guess_bet,e.guess_hit=t.guess_hit,e.lottory_bet=t.lottory_bet,e.lottory_hit=t.lottory_hit,e.bet=t.bet,e.hit=t.hit,e.share_sum=t.share_sum,this.tableData.push(e)}},pageChange:function(t){this.page=t,this.search()},getPackList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackAllList",_check:"",_param:{}}).then(function(e){t.packListData=e.data._param.pack_list})}}},bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道名称"}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:!0,transfer:"",filterable:""},model:{value:t.pack_id,callback:function(e){t.pack_id=e},expression:"pack_id"}},t._l(t.packListData,function(t){return a("Option",{key:t.pack_no,attrs:{value:t.pack_no,label:t.pack_name+"("+t.pack_no+")"}})}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道号"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.pack_id,callback:function(e){t.pack_id=e},expression:"pack_id"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.searchData.date,callback:function(e){t.$set(t.searchData,"date",e)},expression:"searchData.date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}})],1)},staticRenderFns:[]};var wt={name:"UserActive",data:function(){var t=this;return{sortCfg:[{value:0,text:"按账户余额排序"},{value:1,text:"按玩家充值排序"},{value:2,text:"按玩家提现排序"},{value:3,text:"按小游戏投注排序"},{value:4,text:"按小游戏返奖排序"},{value:5,text:"按彩票投注排序"},{value:6,text:"按彩票返奖排序"}],sortType:0,onlineCfg:[{value:2,text:"在线"},{value:1,text:"离线"}],appListData:[],app_id:"",date:[S(0).from,S(0).to],packNo:"",packList:[],uid:"",isOnline:"",total:0,pagesize:15,page:1,dataTbl:[],dataList:[],columns1:[{title:"玩家ID",key:"uid",align:"center",width:120},{title:"玩家昵称",key:"nickname",align:"center",minWidth:120},{title:"是否在线",key:"is_online",align:"center",minWidth:100,render:function(t,e){var a=1==e.row.is_online?"离线":"在线";return t("span",{style:{color:1==e.row.is_online?"blue":"green"}},a)}},{title:"所属渠道",key:"pack_name",align:"center",minWidth:120,render:function(t,e){var a=e.row.pack_name;return e.row.pack_no&&e.row.pack_no>0&&(a=e.row.pack_name+"("+e.row.pack_no+")"),t("span",a)}},{title:"账户余额",key:"point",align:"center",minWidth:100,render:function(t,e){return t("span",{style:{color:"red"}},e.row.point/100)}},{title:"玩家充值",key:"recharge",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.recharge/100)}},{title:"玩家提现",key:"put",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.put/100)}},{title:"小游戏投注金额",key:"guess_bet",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:2,back:1}})}}},a.row.guess_bet/100)}},{title:"小游戏返奖金额",key:"guess_hit",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:3,back:1}})}}},a.row.guess_hit/100)}},{title:"彩票投注金额",key:"l_bet",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:32,back:1}})}}},a.row.l_bet/100)}},{title:"彩票返奖金额",key:"l_hit",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:31,back:1}})}}},a.row.l_hit/100)}},{title:"玩家盈亏",key:"balance",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.balance/100)}}],columns2:[{title:"#",key:"",align:"center",width:100,render:function(t,e){return t("span","汇总")}},{title:"玩家总充值",key:"recharge",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.recharge/100)}},{title:"玩家总提现",key:"put",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.put/100)}},{title:"小游戏总投注金额",key:"guess_bet",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.guess_bet/100)}},{title:"小游戏总返奖金额",key:"guess_hit",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.guess_hit/100)}},{title:"彩票总投注金额",key:"l_bet",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.l_bet/100)}},{title:"彩票总返奖金额",key:"l_hit",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.l_hit/100)}}],shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData(),this.getPackList()},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.searchInfo()})})},getPackList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackAllList",_check:"",_param:{}}).then(function(e){t.packList=e.data._param.pack_list})},searchInfo:function(t){var e=this;if(""==this.date[0]||""==this.date[1])return this.$Message.error("请先选择时间再查询");0==t&&(this.page=1),X({_mod:"jcmanager",_func:"GetUserBalanceList",_check:"",_param:{appid:Number(this.app_id),start:this.date[0]?Math.round(this.date[0].getTime()/1e3):0,end:this.date[0]?Math.round(this.date[1].getTime()/1e3+86400-1):0,pack_no:Number(this.packNo)||0,uid:Number(this.uid)||0,page:this.page,pagesize:this.pagesize,is_online:Number(this.isOnline)||0,sort:Number(this.sortType)||0}}).then(function(t){e.dataTbl=[],e.dataTbl.push(t.data._param),e.dataList=t.data._param.data||[],e.total=t.data._param.total||0})},pageChanges:function(t){this.page=t,this.searchInfo()}}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"玩家ID"}},[a("Input",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"请输入玩家ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道名称"}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:!0,transfer:"",filterable:""},model:{value:t.packNo,callback:function(e){t.packNo=e},expression:"packNo"}},t._l(t.packList,function(t){return a("Option",{key:t.pack_no,attrs:{value:t.pack_no,label:t.pack_name+"("+t.pack_no+")"}})}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道号"}},[a("Input",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.packNo,callback:function(e){t.packNo=e},expression:"packNo"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"是否在线"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.isOnline,callback:function(e){t.isOnline=e},expression:"isOnline"}},t._l(t.onlineCfg,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"排序规则"}},[a("Select",{staticStyle:{width:"145px"},attrs:{placeholder:"按账户余额排序",clearable:!0,transfer:""},model:{value:t.sortType,callback:function(e){t.sortType=e},expression:"sortType"}},t._l(t.sortCfg,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text)+"\n                    ")])}))],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.searchInfo(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{staticStyle:{margin:"0 25px 20px"},attrs:{border:"",columns:t.columns2,data:t.dataTbl}}),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.dataList}}),t._v(" "),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.total,"show-total":"",placement:"top",current:t.page},on:{"on-change":t.pageChanges}})],1)},staticRenderFns:[]};var kt={name:"UserActive",data:function(){var t=this;return{backEnable:!1,sortCfg:[{value:0,text:"按账户余额排序"},{value:1,text:"按玩家充值排序"},{value:2,text:"按玩家提现排序"},{value:3,text:"按小游戏投注排序"},{value:4,text:"按小游戏返奖排序"},{value:5,text:"按彩票投注排序"},{value:6,text:"按彩票返奖排序"}],sortType:0,onlineCfg:[{value:2,text:"在线"},{value:1,text:"离线"}],appListData:[],app_id:"",date:[S(0).from,S(0).to],packNo:"",packList:[],uid:"",total:0,pagesize:15,page:1,dataTbl:[],dataList:[],columns1:[{title:"玩家ID",key:"uid",align:"center",width:120},{title:"玩家昵称",key:"nickname",align:"center",minWidth:120},{title:"所在游戏",key:"in_game_name",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.in_game_name)}},{title:"所属渠道",key:"pack_name",align:"center",minWidth:120,render:function(t,e){var a=e.row.pack_name;return e.row.pack_no&&e.row.pack_no>0&&(a=e.row.pack_name+"("+e.row.pack_no+")"),t("span",a)}},{title:"账户余额",key:"point",align:"center",minWidth:100,render:function(t,e){return t("span",{style:{color:"red"}},e.row.point/100)}},{title:"玩家充值",key:"recharge",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.recharge/100)}},{title:"玩家提现",key:"put",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.put/100)}},{title:"小游戏投注金额",key:"guess_bet",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:2,back:1}})}}},a.row.guess_bet/100)}},{title:"小游戏返奖金额",key:"guess_hit",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:3,back:1}})}}},a.row.guess_hit/100)}},{title:"彩票投注金额",key:"l_bet",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:32,back:1}})}}},a.row.l_bet/100)}},{title:"彩票返奖金额",key:"l_hit",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:31,back:1}})}}},a.row.l_hit/100)}},{title:"玩家盈亏",key:"balance",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.balance/100)}}],columns2:[{title:"#",key:"",align:"center",width:100,render:function(t,e){return t("span","汇总")}},{title:"玩家总充值",key:"recharge",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.recharge/100)}},{title:"玩家总提现",key:"put",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.put/100)}},{title:"小游戏总投注金额",key:"guess_bet",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.guess_bet/100)}},{title:"小游戏总返奖金额",key:"guess_hit",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.guess_hit/100)}},{title:"彩票总投注金额",key:"l_bet",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.l_bet/100)}},{title:"彩票总返奖金额",key:"l_hit",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.l_hit/100)}}]}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData(),this.getPackList()},mounted:function(){var t=this.$route.query.back;null!=t&&void 0!=t&&1==t&&(this.backEnable=!0)},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.searchInfo()})})},getPackList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackAllList",_check:"",_param:{}}).then(function(e){t.packList=e.data._param.pack_list})},searchInfo:function(t){var e=this;0==t&&(this.page=1),X({_mod:"jcmanager",_func:"GetUserBalanceList",_check:"",_param:{appid:Number(this.app_id),start:Math.round(M(this.date[0]).getTime()/1e3),end:Math.round(M(this.date[1]).getTime()/1e3+86400-1),pack_no:Number(this.packNo)||0,uid:Number(this.uid)||0,page:this.page,pagesize:this.pagesize,is_online:2,sort:Number(this.sortType)||0}}).then(function(t){e.dataTbl=[],e.dataTbl.push(t.data._param),e.dataList=t.data._param.data,e.total=t.data._param.total})},pageChanges:function(t){this.page=t,this.searchInfo()}},components:{Backer:rt}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Backer",{attrs:{isEnable:t.backEnable}}),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"玩家ID"}},[a("Input",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"请输入玩家ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道名称"}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:!0,transfer:"",filterable:""},model:{value:t.packNo,callback:function(e){t.packNo=e},expression:"packNo"}},t._l(t.packList,function(t){return a("Option",{key:t.pack_no,attrs:{value:t.pack_no,label:t.pack_name+"("+t.pack_no+")"}})}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道号"}},[a("Input",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.packNo,callback:function(e){t.packNo=e},expression:"packNo"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"排序规则"}},[a("Select",{staticStyle:{width:"145px"},attrs:{placeholder:"按账户余额排序",clearable:!0,transfer:""},model:{value:t.sortType,callback:function(e){t.sortType=e},expression:"sortType"}},t._l(t.sortCfg,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text)+"\n                    ")])}))],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.searchInfo(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{staticStyle:{margin:"0 25px 20px"},attrs:{border:"",columns:t.columns2,data:t.dataTbl}}),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.dataList}}),t._v(" "),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.total,"show-total":"",placement:"top",current:t.page},on:{"on-change":t.pageChanges}})],1)},staticRenderFns:[]};var xt=[{path:"datacollect",name:"DataCollect",component:tt,meta:{name:"data"}},{path:"adduser",name:"AddUser",component:it,meta:{name:"data"}},{path:"gamedata",name:"GameData",component:dt,meta:{name:"data"}},{path:"userrecordlist",name:"UserRecordList",component:ut,meta:{name:"data"}},{path:"packdata",name:"PackData",component:a("VU/8")(gt,_t,!1,function(t){a("NZzu")},"data-v-25f26398",null).exports,meta:{name:"data"}},{path:"waterdata",name:"WaterData",component:ft,meta:{name:"data"}},{path:"packprofit",name:"PackProfit",component:a("VU/8")(vt,bt,!1,function(t){a("9hbG")},"data-v-3524fc16",null).exports,meta:{name:"data"}},{path:"userbalance",name:"UserBalance",component:a("VU/8")(wt,yt,!1,function(t){a("pBd3")},"data-v-368c86eb",null).exports,meta:{name:"data"}},{path:"useractive",name:"UserActive",component:a("VU/8")(kt,Dt,!1,function(t){a("vQtP")},"data-v-6b31b5e2",null).exports,meta:{name:"data"}}],It={name:"userslist",data:function(){var t=this;return{backEnable:!1,sortCfg:[{value:0,text:"按注册时间排序"},{value:1,text:"按账户余额排序"}],sortType:0,banState:"0",searchData:{app_id:"0",nickname:"",uid:"",phone:"",type:0,page:1,pagesize:15,pack_no:0,sort:0,is_black:0},app_id:"",uid:"",pid:"",pack_id:"",packListData:[],date:[],userType:"",columns:[{title:"玩家ID",key:"uid",align:"center",minWidth:100,fixed:"left"},{title:"玩家昵称",key:"nickname",align:"center",minWidth:120},{title:"手机号",key:"phone",align:"center",minWidth:120},{title:"账户余额",key:"point",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",e.row.point/100)}},{title:"充值金额",key:"recharge",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",void 0==e.row.recharge?"0":e.row.recharge/100)}},{title:"提现金额",key:"putforwd",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",void 0==e.row.putforwd?"0":e.row.putforwd/100)}},{title:"上级代理ID",key:"parent",align:"center",minWidth:100,render:function(t,e){return t("span",0==e.row.parent?"":e.row.parent)}},{title:"状态",key:"black_status",align:"center",minWidth:80,render:function(t,e){return t("span",{style:{color:1==e.row.black_status?"red":""}},1==e.row.black_status?"封号":"正常")}},{title:"APP",key:"appname",align:"center",minWidth:100},{title:"所属渠道",key:"pack_name",align:"center",minWidth:120,render:function(t,e){var a=e.row.pack_name;return e.row.pack_no&&e.row.pack_no>0&&(a=e.row.pack_name+"("+e.row.pack_no+")"),t("span",a)}},{title:"注册时间",key:"created_date",align:"center",sortable:!0,minWidth:105},{title:"最后登录",key:"last_login",align:"center",sortable:!0,minWidth:105},{title:"管理",key:"action",minWidth:210,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){t.details.info=a.row,t.openDetails()}}},"玩家详情"),e("Button",{props:{type:"primary"},on:{click:function(){t.editCfg.modalEdit=!0,t.editCfg.editInfo=a.row}}},"信息修改")])}}],appListData:[],tableData:[],pageTotal:0,details:{show:!1,info:[],columns1:[{title:"玩家ID",key:"uid",align:"center",minWidth:100},{title:"玩家昵称",key:"nickname",align:"center",minWidth:100},{title:"注册途径",key:"reg_info",align:"center",minWidth:200}],columns2:[{title:"充值金额",key:"recharge",align:"center",minWidth:100,render:function(t,e){return t("span",void 0==e.row.recharge?"0":e.row.recharge/100)}},{title:"投注金额",key:"bet",align:"center",minWidth:100,render:function(t,e){return t("span",void 0==e.row.bet?"0":e.row.bet/100)}},{title:"提现次数",key:"putCount",align:"center",minWidth:100,render:function(t,e){return t("span",void 0==e.row.putCount?"0":e.row.putCount)}},{title:"提现金额",key:"putforwd",align:"center",minWidth:100,render:function(t,e){return t("span",void 0==e.row.putforwd?"0":e.row.putforwd/100)}}],columns3:[{title:"银行类型",key:"entrusBankName",align:"center",minWidth:120},{title:"卡号姓名",key:"entrusBankUser",align:"center",minWidth:100},{title:"开户省份",key:"bankProvcince",align:"center",minWidth:100},{title:"开户地区",key:"bankCity",align:"center",minWidth:100},{title:"分行",key:"bankName",align:"center",minWidth:100},{title:"卡号",key:"entrusBankAccount",align:"center",minWidth:180},{title:"手机号",key:"mobile",align:"center",minWidth:120}],columns4:[{title:"支付宝账号",key:"account",align:"center",minWidth:120},{title:"支付宝名称",key:"pay_name",align:"center",minWidth:100}],userInfo:[],account:[]},shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]},editCfg:{modalEdit:!1,editInfo:[],freezeReason:"",unFreezeReason:"",freezeDay:"",channelID:"",phoneNum:"",loginPwd:""}}},created:function(){this.getPackList(),this.getAppListData()},mounted:function(){var t=this.$route.query.packNo;null!=t&&void 0!=t&&(this.pack_id=t);var e=this.$route.query.suid;null!=e&&void 0!=e&&(this.uid=e);var a=this.$route.query.back;null!=a&&void 0!=a&&1==a&&(this.backEnable=!0)},methods:{search:function(t){var e=this;if(""==this.app_id)return this.$Message.error("请选择APP");0==t&&(this.searchData.page=1),this.tableData=[],this.searchData.app_id=Number(this.app_id),this.searchData.uid=Number(this.uid),this.searchData.pid=Number(this.pid),this.searchData.type=Number(this.userType),this.searchData.pack_no=Number(this.pack_id)||0,this.searchData.sort=Number(this.sortType)||0,this.searchData.is_black=Number(this.banState)||0,this.date[0]&&this.date[1]?(this.searchData.start=Math.round(this.date[0].getTime()/1e3),this.searchData.end=Math.round(this.date[1].getTime()/1e3+86400-1)):(this.searchData.start=0,this.searchData.end=0),X({_mod:"jcmanager",_func:"GetUserList",_check:"",_param:this.searchData}).then(function(t){void 0==t.data._param.list?e.tableData=[]:e.tableData=t.data._param.list,e.pageTotal=t.data._param.total})},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search()})})},getPackList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackAllList",_check:"",_param:{}}).then(function(e){t.packListData=e.data._param.pack_list})},pageChange:function(t){this.searchData.page=t,this.search()},openDetails:function(){this.details.show=!0,this.details.userInfo=[],this.details.userInfo.push(this.details.info),this.getUserPoint()},getUserPoint:function(){var t=this;this.details.account=[],X({_mod:"jcmanager",_func:"GetUserPoint",_check:"",_param:{uid:Number(this.details.info.uid)}}).then(function(e){t.details.account.push(e.data._param)})},updateInfo:function(t){var e=this;return 1==t&&""==this.editCfg.channelID?this.$Message.error("请输入要更换渠道号"):2==t&&""==this.editCfg.phoneNum?this.$Message.error("请输入要修改的手机号"):3==t&&""==this.editCfg.loginPwd?this.$Message.error("请输入要修改的密码"):3==t&&this.editCfg.loginPwd.length<6?this.$Message.error("密码长度不能小于6位"):void X({_mod:"jcmanager",_func:"UpdateUserInfo",_check:"",_param:{ctype:t,uid:Number(this.editCfg.editInfo.uid),pack_no:Number(this.editCfg.channelID),phone:this.editCfg.phoneNum,password:W()(this.editCfg.loginPwd)}}).then(function(a){1==t?(e.$Message.success("修改绑定渠道成功"),e.editCfg.channelID=""):2==t?(e.$Message.success("修改绑定手机号成功"),e.editCfg.phoneNum="",e.search()):3==t&&(e.$Message.success("修改登陆密码成功"),e.editCfg.loginPwd="",e.search())})},freezeUser:function(t){var e=this;if(0==t&&isNaN(Number(this.editCfg.freezeDay))||Number(this.editCfg.freezeDay)<0)return this.editCfg.freezeDay="",this.$Message.error("请输入正确的封号天数");X({_mod:"jcmanager",_func:"BlackAction",_check:"",_param:{status:t,uid:Number(this.editCfg.editInfo.uid),day:Number(this.editCfg.freezeDay),reason:0==t?this.editCfg.freezeReason:this.editCfg.unFreezeReason}}).then(function(a){0==t?(Number(e.editCfg.freezeDay)>0&&e.$Message.success("成功将该玩家封号"+e.editCfg.freezeDay+"天"),0==Number(e.editCfg.freezeDay)&&e.$Message.success("成功将该玩家封号永久"),e.editCfg.freezeReason="",e.editCfg.freezeDay=""):1==t&&(e.$Message.success("成功将该玩家解封"),e.editCfg.unFreezeReason=""),e.search()})}},components:{Backer:rt}},Mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Backer",{attrs:{isEnable:t.backEnable}}),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"90px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":40,label:"渠道名称"}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部",clearable:!0,transfer:"",filterable:""},model:{value:t.pack_id,callback:function(e){t.pack_id=e},expression:"pack_id"}},t._l(t.packListData,function(t){return a("Option",{key:t.pack_no,attrs:{value:t.pack_no,label:t.pack_name+"("+t.pack_no+")"}})}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":50,label:"渠道号"}},[a("Input",{staticStyle:{width:"90px"},attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.pack_id,callback:function(e){t.pack_id=e},expression:"pack_id"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":50,label:"玩家ID"}},[a("Input",{staticStyle:{width:"90px"},attrs:{clearable:!0,placeholder:"请输入玩家ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":50,label:"手机号"}},[a("Input",{staticStyle:{width:"120px"},attrs:{clearable:!0,placeholder:"请输入手机号"},model:{value:t.searchData.phone,callback:function(e){t.$set(t.searchData,"phone",e)},expression:"searchData.phone"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":40,label:"注册时间"}},[a("DatePicker",{staticStyle:{width:"175px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"请选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":40,label:"排序规则"}},[a("Select",{staticStyle:{width:"125px"},attrs:{placeholder:"按注册时间排序",clearable:!0,transfer:""},model:{value:t.sortType,callback:function(e){t.sortType=e},expression:"sortType"}},t._l(t.sortCfg,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":40,label:"封号状态"}},[a("Select",{staticStyle:{width:"65px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.banState,callback:function(e){t.banState=e},expression:"banState"}},[a("Option",{attrs:{value:"0",label:"全部"}}),t._v(" "),a("Option",{attrs:{value:"1",label:"封号"}})],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":50,label:"上级ID"}},[a("Input",{staticStyle:{width:"90px"},attrs:{clearable:!0,placeholder:"请输入上级ID"},model:{value:t.pid,callback:function(e){t.pid=e},expression:"pid"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.searchData.pagesize,total:t.pageTotal,"show-total":"",current:t.searchData.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",closable:!0,title:"用户详情"},model:{value:t.details.show,callback:function(e){t.$set(t.details,"show",e)},expression:"details.show"}},[a("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{border:"",columns:t.details.columns1,data:t.details.userInfo}}),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{border:"",columns:t.details.columns2,data:t.details.account}})],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,closable:!0},model:{value:t.editCfg.modalEdit,callback:function(e){t.$set(t.editCfg,"modalEdit",e)},expression:"editCfg.modalEdit"}},[a("p",{staticClass:"modal-header",attrs:{slot:"header"},slot:"header"},[t._v("信息修改")]),t._v(" "),a("Form",{attrs:{"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"修改绑定渠道"}},[a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"输入要更换渠道号"},model:{value:t.editCfg.channelID,callback:function(e){t.$set(t.editCfg,"channelID",e)},expression:"editCfg.channelID"}}),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.updateInfo(1)}}},[t._v("确定")])],1),t._v(" "),a("FormItem",{attrs:{label:"修改绑定手机号"}},[a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"输入要修改的手机号"},model:{value:t.editCfg.phoneNum,callback:function(e){t.$set(t.editCfg,"phoneNum",e)},expression:"editCfg.phoneNum"}}),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.updateInfo(2)}}},[t._v("确定")])],1),t._v(" "),a("FormItem",{attrs:{label:"修改登陆密码"}},[a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"输入要修改的密码"},model:{value:t.editCfg.loginPwd,callback:function(e){t.$set(t.editCfg,"loginPwd",e)},expression:"editCfg.loginPwd"}}),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.updateInfo(3)}}},[t._v("确定")])],1),t._v(" "),a("FormItem",{attrs:{label:"封号时间"}},[a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"输入封号天数，0代表永久"},model:{value:t.editCfg.freezeDay,callback:function(e){t.$set(t.editCfg,"freezeDay",e)},expression:"editCfg.freezeDay"}}),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.freezeUser(0)}}},[t._v("封号")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.freezeUser(1)}}},[t._v("解封")])],1)],1)],1)],1)},staticRenderFns:[]};var St={name:"BankStatement",data:function(){var t=this;return{timeArg:[{text:"上周",value:1},{text:"上上周",value:2},{text:"上上上周",value:3}],week:1,app_id:"",uid:"",page:1,pagesize:15,pageTotal:0,appListData:[],channel_id:"",channelList:[],searchData:{app_id:"0",nickname:"",uid:"",phone:"",type:0,page:1,pagesize:15,pack_no:0},tableData:[],columns:[{title:"玩家ID",key:"uid",align:"center",minWidth:85,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/userslist",query:{suid:a.row.uid,back:1}})}}},a.row.uid)}},{title:"玩家昵称",key:"nickname",align:"center",minWidth:100},{title:"所属渠道",key:"pack_name",align:"center",minWidth:120,render:function(e,a){var i=a.row.pack_name;return a.row.pack_no&&a.row.pack_no>0&&(i=a.row.pack_name+"("+a.row.pack_no+")"),e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/userslist",query:{packNo:a.row.pack_no,back:1}})}}},i)}},{title:"上级代理ID",key:"parent",align:"center",minWidth:100,render:function(t,e){return t("span",0==e.row.parent?"":e.row.parent)}},{title:"直属推广人数",key:"under_user",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.modalPromote.actionID=a.row.uid,t.modalPromote.actionName=a.row.nickname,t.modalPromote.show=!0,t.getUserUnderList()}}},a.row.under_user)}},{title:"团队推广人数",key:"team_user",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.modalTeam.actionID=a.row.uid,t.modalTeam.searchUid="",t.modalTeam.show=!0,t.getUserTeamList()}}},a.row.team_user)}},{title:"累计已发放直属业绩佣金",key:"under_record",align:"center",width:130,render:function(t,e){return t("span",e.row.under_record/100)}},{title:"累计已发放团队业绩佣金",key:"team_record",align:"center",width:130,render:function(t,e){return t("span",e.row.team_record/100)}},{title:"明细",key:"action",minWidth:100,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},on:{click:function(){t.spreadModal.actionID=a.row.uid,t.showSpread()}}},"业绩明细")])}}],modalPromote:{show:!1,actionID:0,actionName:"",columns1:[{title:"编号",type:"index",align:"center",minWidth:60},{title:"玩家ID",key:"uid",align:"center",minWidth:120},{title:"玩家昵称",key:"nickname",align:"center",minWidth:120}],data:[],page:1,limit:10,total:0},modalTeam:{show:!1,actionID:0,searchUid:"",columns1:[{title:"代理级别",key:"level",align:"center",minWidth:60,render:function(t,e){return t("span",e.row.level+"级")}},{title:"玩家ID",key:"uid",align:"center",minWidth:120},{title:"玩家昵称",key:"nickname",align:"center",minWidth:120},{title:"上级UID",key:"pid",align:"center",minWidth:120}],data:[],page:1,limit:10,total:0},spreadModal:{show:!1,actionID:"",columns4:[{title:"时间",key:"tt",align:"center",sortable:!0,minWidth:120},{title:"直属业绩",key:"under_record",align:"center",minWidth:120,render:function(t,e){return t("span",void 0==e.row.under_record?"0":e.row.under_record/100)}},{title:"团队业绩",key:"team_record",align:"center",minWidth:120,render:function(t,e){return t("span",void 0==e.row.team_record?"0":e.row.team_record/100)}},{title:"已发放直属佣金",key:"under_commi",align:"center",minWidth:120,render:function(t,e){return t("span",void 0==e.row.under_commi?"0":e.row.under_commi/100)}},{title:"已发放团队极差佣金",key:"team_commi",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",void 0==e.row.team_commi?"0":e.row.team_commi/100)}}],commiRecord:[],week:0,weekList:[{value:0,text:"本周"},{value:1,text:"上周"},{value:2,text:"上上周"},{value:3,text:"上上上周"}],weekDate:[],totalCommi:0,inheritCommi:0}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData()},methods:{search:function(t){var e=this;if(""==this.app_id)return this.$Message.error("请选择APP");0==t&&(this.searchData.page=1),this.tableData=[],this.searchData.app_id=Number(this.app_id),this.searchData.uid=Number(this.uid),this.searchData.pack_no=Number(this.channel_id)||0,X({_mod:"jcmanager",_func:"GetUserList",_check:"",_param:this.searchData}).then(function(t){void 0==t.data._param.list?e.tableData=[]:e.tableData=t.data._param.list,e.pageTotal=1*t.data._param.total})},pageChange:function(t){this.searchData.page=t,this.search()},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.getChannelListData(),t.$nextTick(function(){t.search(0)})})},getChannelListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackAllList",_check:"",_param:{}}).then(function(e){t.channelList=e.data._param.pack_list})},onAppSelect:function(t){this.channel_id="",this.getChannelListData()},getUserUnderList:function(){var t=this;this.modalPromote.data=[],X({_mod:"jcmanager",_func:"GetUserUnderList",_check:"",_param:{uid:Number(this.modalPromote.actionID),ctype:1,page:this.modalPromote.page,limit:this.modalPromote.limit}}).then(function(e){t.modalPromote.data=e.data._param.data||[],t.modalPromote.total=e.data._param.total||0})},getUserTeamList:function(){var t=this;this.modalTeam.data=[],X({_mod:"jcmanager",_func:"GetUserUnderList",_check:"",_param:{uid:Number(this.modalTeam.actionID),find_uid:Number(this.modalTeam.searchUid)||0,ctype:2,page:this.modalTeam.page,limit:this.modalTeam.limit}}).then(function(e){t.modalTeam.data=e.data._param.data||[],t.modalTeam.total=e.data._param.total||0})},userPageChange:function(t){this.modalPromote.page=t,this.getUserUnderList()},userTeamPageChange:function(t){this.modalTeam.page=t,this.getUserTeamList()},showSpread:function(){this.spreadModal.show=!0,this.getCommiInfo()},getCommiInfo:function(){var t,e,a,i,n,o,r,s,l,d=this;this.spreadModal.commiRecord=[],this.spreadModal.weekDate=(t=Number(this.spreadModal.week),e=new Date,a=e.getDay()-1,i=e.getDate(),n=e.getMonth(),o=e.getFullYear(),r=t||0,s=new Date(o,n,i-a-7*r),l=new Date(o,n,i-a-1-7*(r-1)),0==r&&(l=new Date(o,n,i)),[s,l]),X({_mod:"jcmanager",_func:"GetUserDayRecord",_check:"",_param:{uid:Number(this.spreadModal.actionID),week:Number(this.spreadModal.week),start:this.spreadModal.weekDate[0]?Math.round(this.spreadModal.weekDate[0].getTime()/1e3):0,end:this.spreadModal.weekDate[1]?Math.round(this.spreadModal.weekDate[1].getTime()/1e3+86400-1):0}}).then(function(t){d.spreadModal.commiRecord=t.data._param.data||[],d.spreadModal.totalCommi=t.data._param.total_record,d.spreadModal.inheritCommi=t.data._param.inherit_record})},onWeekSelect:function(t){this.getCommiInfo()}}},Lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onAppSelect},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":80,label:"选择渠道名"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"全部",clearable:"",transfer:""},model:{value:t.channel_id,callback:function(e){t.channel_id=e},expression:"channel_id"}},t._l(t.channelList,function(e){return a("Option",{key:e.pack_no,attrs:{value:e.pack_no}},[t._v("\n                        "+t._s(e.pack_name)+" "),a("span",[t._v("("+t._s(e.pack_no)+")")])])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"玩家ID"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入玩家ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1260",closable:!0,title:"推广详情"},model:{value:t.spreadModal.show,callback:function(e){t.$set(t.spreadModal,"show",e)},expression:"spreadModal.show"}},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"时间"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onWeekSelect},model:{value:t.spreadModal.week,callback:function(e){t.$set(t.spreadModal,"week",e)},expression:"spreadModal.week"}},t._l(t.spreadModal.weekList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])}))],1)],1),t._v(" "),a("div",{staticClass:"commi-info"},[t._v("当前周总业绩："+t._s(t.spreadModal.totalCommi/100)+"      当前周继承业绩："+t._s(t.spreadModal.inheritCommi/100))]),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{border:"",columns:t.spreadModal.columns4,data:t.spreadModal.commiRecord}})],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"640",closable:!0,title:"直属推广信息"},model:{value:t.modalPromote.show,callback:function(e){t.$set(t.modalPromote,"show",e)},expression:"modalPromote.show"}},[a("div",{staticStyle:{"font-weight":"bold","text-align":"center","font-size":"20px"}},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":65,label:"玩家昵称:"}},[a("div",[t._v(t._s(t.modalPromote.actionName))])]),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"玩家ID:"}},[a("div",[t._v(t._s(t.modalPromote.actionID))])])],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.modalPromote.columns1,data:t.modalPromote.data}}),t._v(" "),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.modalPromote.limit,total:t.modalPromote.total,placement:"top",current:t.modalPromote.page},on:{"on-change":t.userPageChange}})],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"640",closable:!0,title:"团队推广信息"},model:{value:t.modalTeam.show,callback:function(e){t.$set(t.modalTeam,"show",e)},expression:"modalTeam.show"}},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"玩家ID"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入uid"},model:{value:t.modalTeam.searchUid,callback:function(e){t.$set(t.modalTeam,"searchUid",e)},expression:"modalTeam.searchUid"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.getUserTeamList}},[t._v("查询")])],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.modalTeam.columns1,data:t.modalTeam.data}}),t._v(" "),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.modalTeam.limit,total:t.modalTeam.total,placement:"top",current:t.modalTeam.page},on:{"on-change":t.userTeamPageChange}})],1)],1)},staticRenderFns:[]};var Ct=[{path:"userslist",name:"UsersList",component:a("VU/8")(It,Mt,!1,function(t){a("nTu4")},"data-v-a9b8c61a",null).exports,meta:{name:"user"}},{path:"userpromote",name:"UserPromote",component:a("VU/8")(St,Lt,!1,function(t){a("lPIv")},"data-v-33fb7fec",null).exports,meta:{name:"user"}}],Tt={name:"ApprovalList",data:function(){var t=this;return{app_id:"",pack_no:"",packUrl:"",appListData:[],tableData:[],columns:[{title:"ID",key:"id",align:"center",minWidth:100},{title:"账户名称",key:"user_name",align:"center",minWidth:120},{title:"账号",key:"account",align:"center",minWidth:120},{title:"状态",key:"status",align:"center",minWidth:100,render:function(t,e){var a=1==e.row.status?"上线":"禁用";return t("span",{style:{color:1==e.row.status?"green":"red"}},a)}},{title:"绑定的渠道",key:"pack_name",align:"center",minWidth:120},{title:"绑定的渠道号",key:"pack_no",align:"center",minWidth:120},{title:"创建时间",key:"ctime",align:"center",sortable:!0,minWidth:100},{title:"管理",key:"action",minWidth:160,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){t.modalUpdataCfg.modalUpdata=!0,t.modalUpdataCfg.id=a.row.id,t.modalUpdataCfg.bindPackNo=a.row.pack_no,t.modalUpdataCfg.userName=a.row.user_name,t.modalUpdataCfg.userID=a.row.account,t.modalUpdataCfg.userPwd=""}}},"修改"),e("Button",{props:{type:"primary"},on:{click:function(){t.modalUpdataCfg.modalDel=!0,t.modalUpdataCfg.id=a.row.id}}},"删除")])}}],page:1,pagesize:20,pageTotal:0,modalPass:!1,modal_loading:!1,packListData:[],modalAddCfg:{modalAdd:!1,userName:"",userID:"",userPwd:"",bindPackNo:"",loading:!0},modalUpdataCfg:{modalUpdata:!1,userName:"",userID:"",userPwd:"",bindPackNo:"",status:1,id:1,modalDel:!1},statusList:[{id:1,value:"上线"},{id:2,value:"禁用"}]}},created:function(){this.getAppListData(),this.getPackList()},methods:{search:function(t){var e=this;if(""==this.app_id)return this.$Message.error("请选择APP");0==t&&(this.page=1),this.tableData=[],X({_mod:"jcmanager",_func:"GetPackUserList",_check:"",_param:{page:this.page,limit:this.pagesize,pack_no:Number(this.pack_no)}}).then(function(t){e.packUrl=t.data._param.pack_manager_url||"",void 0==t.data._param.user_list?e.tableData=[]:e.tableData=t.data._param.user_list,e.pageTotal=1*t.data._param.total})},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search()})})},pageChange:function(t){this.page=t,this.search()},getPackList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackAllList",_check:"",_param:{}}).then(function(e){t.packListData=e.data._param.pack_list})},showAddModal:function(){this.modalAddCfg.modalAdd=!0},closeAddModal:function(){this.modalAddCfg.userName="",this.modalAddCfg.userID="",this.modalAddCfg.userPwd="",this.modalAddCfg.modalAdd=!1},handleSubmit:function(){var t=this;return this.modalAddCfg.loading=!1,this.$nextTick(function(){t.modalAddCfg.loading=!0}),""==this.modalAddCfg.userName?this.$Message.error("请输入正确的用户名称！"):""==this.modalAddCfg.userID?this.$Message.error("请输入正确的用户账号！"):""==this.modalAddCfg.userPwd?this.$Message.error("请输入正确的用户密码！"):0==this.modalAddCfg.bindPackNo?this.$Message.error("请选择正确的渠道！"):void X({_mod:"jcmanager",_func:"AddPackUser",_check:"",_param:{user_name:this.modalAddCfg.userName,account:this.modalAddCfg.userID,pwd:W()(this.modalAddCfg.userPwd),pack_no:Number(this.modalAddCfg.bindPackNo)}}).then(function(e){t.$Message.success("添加用户成功"),t.search(),t.closeAddModal()})},handleUpdata:function(){var t=this;if(""==this.modalUpdataCfg.channelName)return this.$Message.error("请输入正确的渠道名称！");X({_mod:"jcmanager",_func:"UpdatePackUser",_check:"",_param:{type:Number(0),data:{id:this.modalUpdataCfg.id,user_name:this.modalUpdataCfg.userName,account:this.modalUpdataCfg.userID,pwd:""==this.modalUpdataCfg.userPwd?"":W()(this.modalUpdataCfg.userPwd),pack_no:Number(this.modalUpdataCfg.bindPackNo),status:this.modalUpdataCfg.status}}}).then(function(e){t.$Message.success("修改成功"),t.search(0)})},handleDel:function(){var t=this;X({_mod:"jcmanager",_func:"UpdatePackUser",_check:"",_param:{type:Number(1),data:{id:this.modalUpdataCfg.id}}}).then(function(e){t.$Message.success("删除成功"),t.modalUpdataCfg.modalDel=!1,t.search(0)})}}},At={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道号"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入6位渠道"},model:{value:t.pack_no,callback:function(e){t.pack_no=e},expression:"pack_no"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddModal}},[t._v("新增")])],1),t._v(" "),a("FormItem",[a("div",[a("p",{staticClass:"url"},[t._v("   渠道后台地址："+t._s(t.packUrl))]),t._v(" "),a("p",{staticClass:"tips"},[t._v("   (请将渠道地址与渠道账户密码一起交给渠道用户)")])])])],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{width:"360","mask-closable":!1,closable:!0,loading:t.modalAddCfg.loading},on:{"on-ok":t.handleSubmit,"on-cancel":t.closeAddModal},model:{value:t.modalAddCfg.modalAdd,callback:function(e){t.$set(t.modalAddCfg,"modalAdd",e)},expression:"modalAddCfg.modalAdd"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("新增用户")])],1),t._v(" "),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":90,label:"用户名称"}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入用户名称"},model:{value:t.modalAddCfg.userName,callback:function(e){t.$set(t.modalAddCfg,"userName",e)},expression:"modalAddCfg.userName"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"用户账号"}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入用户账号"},model:{value:t.modalAddCfg.userID,callback:function(e){t.$set(t.modalAddCfg,"userID",e)},expression:"modalAddCfg.userID"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"用户密码"}},[a("Input",{staticStyle:{width:"150px"},attrs:{type:"password",placeholder:"请输入用户密码"},model:{value:t.modalAddCfg.userPwd,callback:function(e){t.$set(t.modalAddCfg,"userPwd",e)},expression:"modalAddCfg.userPwd"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"绑定渠道"}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.modalAddCfg.bindPackNo,callback:function(e){t.$set(t.modalAddCfg,"bindPackNo",e)},expression:"modalAddCfg.bindPackNo"}},t._l(t.packListData,function(e){return a("Option",{key:e.pack_no,attrs:{value:e.pack_no}},[t._v(t._s(e.pack_name))])}))],1)],1)],1),t._v(" "),a("Modal",{attrs:{width:"360","mask-closable":!1,closable:!0},on:{"on-ok":t.handleUpdata},model:{value:t.modalUpdataCfg.modalUpdata,callback:function(e){t.$set(t.modalUpdataCfg,"modalUpdata",e)},expression:"modalUpdataCfg.modalUpdata"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("修改用户")])],1),t._v(" "),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":90,label:"用户名称"}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入用户名称"},model:{value:t.modalUpdataCfg.userName,callback:function(e){t.$set(t.modalUpdataCfg,"userName",e)},expression:"modalUpdataCfg.userName"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"用户账号"}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入用户账号"},model:{value:t.modalUpdataCfg.userID,callback:function(e){t.$set(t.modalUpdataCfg,"userID",e)},expression:"modalUpdataCfg.userID"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"用户密码"}},[a("Input",{staticStyle:{width:"150px"},attrs:{type:"password",placeholder:"请输入用户密码"},model:{value:t.modalUpdataCfg.userPwd,callback:function(e){t.$set(t.modalUpdataCfg,"userPwd",e)},expression:"modalUpdataCfg.userPwd"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"绑定渠道"}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.modalUpdataCfg.bindPackNo,callback:function(e){t.$set(t.modalUpdataCfg,"bindPackNo",e)},expression:"modalUpdataCfg.bindPackNo"}},t._l(t.packListData,function(e){return a("Option",{key:e.pack_no,attrs:{value:e.pack_no}},[t._v(t._s(e.pack_name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"渠道状态"}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.modalUpdataCfg.status,callback:function(e){t.$set(t.modalUpdataCfg,"status",e)},expression:"modalUpdataCfg.status"}},t._l(t.statusList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.value))])}))],1)],1)],1),t._v(" "),a("Modal",{attrs:{Modal:"",width:"360","mask-closable":!1,closable:!0},model:{value:t.modalUpdataCfg.modalDel,callback:function(e){t.$set(t.modalUpdataCfg,"modalDel",e)},expression:"modalUpdataCfg.modalDel"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("再次确认")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("同意后，将删除该渠道信息。")]),t._v(" "),a("p",[t._v("是否继续同意？")])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success",size:"large",long:"",loading:t.modal_loading},on:{click:t.handleDel}},[t._v("同意")])],1)])],1)},staticRenderFns:[]};var Nt={name:"ApprovalList",data:function(){var t=this;return{backEnable:!1,app_id:"",appListData:[],pack_no:"",tableData:[],statusList:[{id:1,value:"上线"},{id:2,value:"禁用"}],proList:[{value:0,text:"APP+WEB"},{value:1,text:"APP"},{value:2,text:"WEB"}],columns:[{title:"渠道号",key:"pack_no",align:"center",minWidth:100},{title:"渠道名称",key:"pack_name",align:"center",minWidth:100},{title:"备注",key:"reason",align:"center",minWidth:160},{title:"渠道URL",key:"pack_url",align:"center",minWidth:240},{title:"渠道业绩分成定档",key:"record_commi",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.record_commi+"元/万")}},{title:"坐庄模式分成比率",key:"banker_ratio",align:"center",minWidth:120,render:function(t,e){return t("span",100*e.row.banker_ratio+"%")}},{title:"推广模式",key:"ext_mode",align:"center",minWidth:100,render:function(t,e){return t("span",0==e.row.ext_mode?"APP+WEB":1==e.row.ext_mode?"APP":"WEB")}},{title:"创建时间",key:"ctime",align:"center",sortable:!0,minWidth:100},{title:"状态",key:"status",align:"center",minWidth:80,render:function(t,e){var a=1==e.row.status?"上线":"禁用";return t("span",{style:{color:1==e.row.status?"green":"red"}},a)}},{title:"管理",key:"action",minWidth:160,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){t.modalUpdataCfg.modalUpdata=!0,t.modalUpdataCfg.channelID=a.row.id,t.modalUpdataCfg.channelName=a.row.pack_name,t.modalUpdataCfg.record_commi=a.row.record_commi,t.modalUpdataCfg.banker_ratio=100*a.row.banker_ratio,t.modalUpdataCfg.reason=a.row.reason}}},"修改"),e("Button",{props:{type:"primary"},on:{click:function(){t.modalUpdataCfg.modalDel=!0,t.modalUpdataCfg.channelID=a.row.id,t.modalUpdataCfg.curChannel=a.row.pack_no,t.modalUpdataCfg.newCid=0,t.modalUpdataCfg.proMode=a.row.ext_mode}}},"删除")])}}],page:1,pagesize:100,pageTotal:0,modalPass:!1,modal_loading:!1,modalAddCfg:{modalAdd:!1,channelName:"",channelID:1e5,banker_ratio:50,record_commi:220,proMode:0,reason:""},modalUpdataCfg:{modalUpdata:!1,channelName:"",status:1,channelID:1,curChannel:0,banker_ratio:0,record_commi:0,modalDel:!1,newCid:0,proMode:0,reason:""}}},created:function(){this.getAppListData()},mounted:function(){var t=this.$route.query.back;null!=t&&void 0!=t&&1==t&&(this.backEnable=!0);var e=this.$route.query.packNo;null!=e&&void 0!=e&&(this.pack_no=e)},methods:{search:function(t){var e=this;if(""==this.app_id)return this.$Message.error("请选择APP");0==t&&(this.page=1),this.tableData=[],X({_mod:"jcmanager",_func:"GetPackList",_check:"",_param:{find_appid:Number(this.app_id),page:Number(this.page),limit:Number(this.pagesize),pack_no:Number(this.pack_no)}}).then(function(t){void 0==t.data._param.pack_list?e.tableData=[]:e.tableData=t.data._param.pack_list,e.pageTotal=1*t.data._param.total})},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search()})})},pageChange:function(t){this.page=t,this.search()},handleSubmit:function(){var t=this;return""==this.modalAddCfg.channelName?this.$Message.error("请输入正确的渠道名称！"):Number(this.modalAddCfg.channelID)<1e5?this.$Message.error("渠道号必须为6位数！"):void X({_mod:"jcmanager",_func:"AddPack",_check:"",_param:{appid:Number(this.app_id),pack_name:String(this.modalAddCfg.channelName),pack_no:Number(this.modalAddCfg.channelID),record_commi:Number(this.modalAddCfg.record_commi),banker_ratio:Number(this.modalAddCfg.banker_ratio)/100,ext_mode:Number(this.modalAddCfg.proMode)||0,reason:this.modalAddCfg.reason}}).then(function(e){t.$Message.success("添加渠道成功"),t.search(0)})},handleUpdata:function(){var t=this;if(""==this.modalUpdataCfg.channelName)return this.$Message.error("请输入正确的渠道名称！");X({_mod:"jcmanager",_func:"UpdatePack",_check:"",_param:{type:0,data:{status:this.modalUpdataCfg.status,id:this.modalUpdataCfg.channelID,pack_name:this.modalUpdataCfg.channelName,record_commi:Number(this.modalUpdataCfg.record_commi),banker_ratio:Number(this.modalUpdataCfg.banker_ratio)/100,ext_mode:Number(this.modalUpdataCfg.proMode)||0,reason:this.modalUpdataCfg.reason}}}).then(function(e){t.$Message.success("修改成功"),t.search(0)})},handleDel:function(){var t=this;if(this.modalUpdataCfg.newCid==this.modalUpdataCfg.curChannel)return this.$Message.error("新渠道必须不同于当前渠道！");X({_mod:"jcmanager",_func:"UpdatePack",_check:"",_param:{type:1,new_pack_no:Number(this.modalUpdataCfg.newCid),data:{id:this.modalUpdataCfg.channelID}}}).then(function(e){t.$Message.success("删除成功"),t.modalUpdataCfg.modalDel=!1,t.search(0)})},openAddModal:function(){this.modalAddCfg.modalAdd=!0,this.modalAddCfg.reason="",this.modalAddCfg.channelName=""}},components:{Backer:rt}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Backer",{attrs:{isEnable:t.backEnable}}),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道号"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入6位渠道"},model:{value:t.pack_no,callback:function(e){t.pack_no=e},expression:"pack_no"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.openAddModal}},[t._v("新增")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{width:"360","mask-closable":!1,closable:!0},on:{"on-ok":t.handleSubmit},model:{value:t.modalAddCfg.modalAdd,callback:function(e){t.$set(t.modalAddCfg,"modalAdd",e)},expression:"modalAddCfg.modalAdd"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("新增渠道")])],1),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":120,label:"渠道名称"}},[a("Input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入渠道名称"},model:{value:t.modalAddCfg.channelName,callback:function(e){t.$set(t.modalAddCfg,"channelName",e)},expression:"modalAddCfg.channelName"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"渠道号"}},[a("InputNumber",{attrs:{min:0,max:999999},model:{value:t.modalAddCfg.channelID,callback:function(e){t.$set(t.modalAddCfg,"channelID",e)},expression:"modalAddCfg.channelID"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"渠道业绩分成定档"}},[a("InputNumber",{attrs:{min:0,max:220},model:{value:t.modalAddCfg.record_commi,callback:function(e){t.$set(t.modalAddCfg,"record_commi",e)},expression:"modalAddCfg.record_commi"}}),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("可填写最大值220元/万")])],1),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"坐庄模式分成比率"}},[a("InputNumber",{attrs:{min:0,max:100,formatter:function(t){return t+"%"},parser:function(t){return t.replace("%","")}},model:{value:t.modalAddCfg.banker_ratio,callback:function(e){t.$set(t.modalAddCfg,"banker_ratio",e)},expression:"modalAddCfg.banker_ratio"}}),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("可填写最大值100%")])],1),t._v(" "),a("FormItem",[a("p",{staticStyle:{color:"red","font-size":"12px","line-height":"15px"}},[t._v("渠道业绩分成定档与坐庄分成比率数值的添加会影响到渠道后台对账渠道分成金额的计算，请慎重填写！")])]),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"推广模式"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.modalAddCfg.proMode,callback:function(e){t.$set(t.modalAddCfg,"proMode",e)},expression:"modalAddCfg.proMode"}},t._l(t.proList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])})),t._v(" "),a("Poptip",{attrs:{content:"请阅读《操作指南》中《渠道推广模式说明》",transfer:""}},[a("Button",{attrs:{type:"warning",icon:"md-help",shape:"circle",size:"small"}})],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"备注"}},[a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入备注"},model:{value:t.modalAddCfg.reason,callback:function(e){t.$set(t.modalAddCfg,"reason",e)},expression:"modalAddCfg.reason"}})],1)],1)],1),t._v(" "),a("Modal",{attrs:{width:"360","mask-closable":!1,closable:!0},on:{"on-ok":t.handleUpdata},model:{value:t.modalUpdataCfg.modalUpdata,callback:function(e){t.$set(t.modalUpdataCfg,"modalUpdata",e)},expression:"modalUpdataCfg.modalUpdata"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("修改渠道")])],1),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":90,label:"渠道名称"}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入渠道名称"},model:{value:t.modalUpdataCfg.channelName,callback:function(e){t.$set(t.modalUpdataCfg,"channelName",e)},expression:"modalUpdataCfg.channelName"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"渠道状态"}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.modalUpdataCfg.status,callback:function(e){t.$set(t.modalUpdataCfg,"status",e)},expression:"modalUpdataCfg.status"}},t._l(t.statusList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.value))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"渠道业绩分成定档"}},[a("InputNumber",{attrs:{min:0,max:220},model:{value:t.modalUpdataCfg.record_commi,callback:function(e){t.$set(t.modalUpdataCfg,"record_commi",e)},expression:"modalUpdataCfg.record_commi"}}),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("可填写最大值220元/万")])],1),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"坐庄模式分成比率"}},[a("InputNumber",{attrs:{min:0,max:100,formatter:function(t){return t+"%"},parser:function(t){return t.replace("%","")}},model:{value:t.modalUpdataCfg.banker_ratio,callback:function(e){t.$set(t.modalUpdataCfg,"banker_ratio",e)},expression:"modalUpdataCfg.banker_ratio"}}),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("可填写最大值100%")])],1),t._v(" "),a("FormItem",[a("p",{staticStyle:{color:"red","font-size":"12px","line-height":"15px"}},[t._v("渠道业绩分成定档与坐庄分成比率数值的添加会影响到渠道后台对账渠道分成金额的计算，请慎重填写！")])]),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"推广模式"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.modalUpdataCfg.proMode,callback:function(e){t.$set(t.modalUpdataCfg,"proMode",e)},expression:"modalUpdataCfg.proMode"}},t._l(t.proList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])})),t._v(" "),a("Poptip",{attrs:{content:"请阅读《操作指南》中《渠道推广模式说明》",transfer:""}},[a("Button",{attrs:{type:"warning",icon:"md-help",shape:"circle",size:"small"}})],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"备注"}},[a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入备注"},model:{value:t.modalUpdataCfg.reason,callback:function(e){t.$set(t.modalUpdataCfg,"reason",e)},expression:"modalUpdataCfg.reason"}})],1)],1)],1),t._v(" "),a("Modal",{attrs:{Modal:"",width:"360","mask-closable":!1,closable:!0},model:{value:t.modalUpdataCfg.modalDel,callback:function(e){t.$set(t.modalUpdataCfg,"modalDel",e)},expression:"modalUpdataCfg.modalDel"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("删除渠道")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[t._v("\n            新渠道号："),a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:0,max:999999},model:{value:t.modalUpdataCfg.newCid,callback:function(e){t.$set(t.modalUpdataCfg,"newCid",e)},expression:"modalUpdataCfg.newCid"}}),t._v("  \n            "),a("span",{staticStyle:{color:"red"}},[t._v("0为官方渠道")]),t._v(" "),a("p",{staticStyle:{"margin-top":"15px"}},[t._v("同意后，将删除该渠道，并将渠道用户合并到新渠道。")]),t._v(" "),a("p",[t._v("是否继续同意？")])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success",size:"large",long:"",loading:t.modal_loading},on:{click:t.handleDel}},[t._v("同意")])],1)])],1)},staticRenderFns:[]};var Ft=[{path:"packuserlist",name:"PackUserList",component:a("VU/8")(Tt,At,!1,function(t){a("JFUg")},"data-v-dd91f5ca",null).exports,meta:{name:"pack"}},{path:"packList",name:"PackList",component:a("VU/8")(Nt,$t,!1,function(t){a("cUEE")},"data-v-b601c5d0",null).exports,meta:{name:"pack"}}],Pt={name:"ApprovalList",data:function(){var t=this;return{isAutoRefresh:0!=x("putrsw"),app_id:"",appListData:[],tableData:[],columns:[{title:"提现订单ID",key:"order_no",align:"center",minWidth:110},{title:"玩家ID",key:"uid",align:"center",minWidth:80},{title:"昵称",key:"nickname",align:"center",minWidth:80},{title:"所属渠道",key:"pack_name",align:"center",minWidth:120,render:function(t,e){var a=e.row.pack_name;return e.row.pack_no&&e.row.pack_no>0&&(a=e.row.pack_name+"("+e.row.pack_no+")"),t("span",a)}},{title:"上级代理ID",key:"parent",align:"center",width:80,render:function(t,e){return t("span",0==e.row.parent?"":e.row.parent)}},{title:"直属推广人数",key:"under_user",align:"center",minWidth:80,render:function(e,a){return e("a",{on:{click:function(){t.modalPromote.actionID=a.row.uid,t.modalPromote.actionName=a.row.nickname,t.modalPromote.show=!0,t.getUserUnderList()}}},a.row.under_user)}},{title:"申请时间",key:"created_date",align:"center",minWidth:100},{title:"提现姓名",key:"entrusBankUser",align:"center",minWidth:85},{title:"提现金额",key:"point",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:27,back:1}})}},style:{color:"red"}},a.row.point/100)}},{title:"提现次数",key:"putNum",align:"center",minWidth:100,render:function(t,e){return t("span",void 0==e.row.putNum?"0":e.row.putNum)}},{title:"总提现金额",key:"putPoint",align:"center",minWidth:100,render:function(t,e){return t("span",void 0==e.row.putPoint?"0":e.row.putPoint/100)}},{title:"总充值额度",key:"rechagre",align:"center",minWidth:100,render:function(t,e){return t("span",void 0==e.row.rechagre?"0":e.row.rechagre/100)}},{title:"操作人",key:"action_uid",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.action_uid>0?e.row.action_uid:"")}},{title:"更新时间",key:"update_date",align:"center",minWidth:100},{title:"审核状态",key:"status",align:"center",minWidth:100,render:function(t,e){var a=0==e.row.status?"待审核":1==e.row.status?"待打款":3==e.row.status?"已提现":2==e.row.status?"打款中":"已拒绝";return t("span",{style:{color:0==e.row.status?"green":1==e.row.status?"orange":""}},a)}},{title:"管理",key:"status",align:"center",minWidth:120,render:function(e,a){return e("div",[e("Button",{props:{type:3==a.row.status||-1==a.row.status?"primary":"warning",disabled:2==a.row.status},on:{click:function(){t.modalDeal.actID=a.row.order_no,t.modalDeal.uid=a.row.uid,t.modalDeal.actItem=[a.row],t.modalDeal.reason=a.row.reason||"",t.modalDeal.show=!0,t.modalDeal.status=a.row.status}}},3==a.row.status||-1==a.row.status?"查看":"操作")])}}],page:1,pagesize:20,pageTotal:0,modalPass:!1,modal_loading:!1,putauditData:{order_no:"",uid:"",type:"",reason:""},dealList:[{text:"待审核",value:1},{text:"待打款",value:2},{text:"已提现",value:3},{text:"已拒绝",value:4}],dealType:"",uid:"",date:[S(0).from,S(0).to],shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]},modalRefuse:!1,modalPromote:{show:!1,actionID:0,actionName:"",columns1:[{title:"编号",type:"index",align:"center",minWidth:60},{title:"玩家ID",key:"uid",align:"center",minWidth:120},{title:"玩家昵称",key:"nickname",align:"center",minWidth:120}],data:[],page:1,limit:10,total:0},modalDeal:{show:!1,actType:"",actID:0,uid:0,actItem:[{}],status:0,reason:"",columns1:[{title:"提现类型",type:"pay_type",align:"center",minWidth:85,render:function(t,e){return t("span",0==e.row.pay_type?"支付宝":"银行卡")}},{title:"提现账号",key:"entrusBankAccount",align:"center",minWidth:120},{title:"提现姓名",key:"entrusBankUser",align:"center",minWidth:85},{title:"银行卡开户行信息",key:"bank_info",align:"center",minWidth:140}]}}},created:function(){this.getAppListData()},mounted:function(){this.isAutoRefresh&&this.startRefreshTimer()},destroyed:function(){this.clearRefreshTimer()},methods:{startRefreshTimer:function(){var t=this;this.timer?clearInterval(this.timer):this.timer=setInterval(function(){t.search()},6e4)},clearRefreshTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},search:function(t){var e=this;if(""==this.app_id)return this.$Message.error("请选择渠道");0==t&&(this.page=1),this.tableData=[],X({_mod:"jcmanager",_func:"PutForwardAudit",_check:"",_param:{app_id:Number(this.app_id),page:this.page,pagesize:this.pagesize,uid:Number(this.uid),start:this.date[0]?Math.round(this.date[0].getTime()/1e3):0,end:this.date[1]?Math.round(this.date[1].getTime()/1e3+86400-1):0,status:Number(this.dealType)||0}}).then(function(t){void 0==t.data._param.list?e.tableData=[]:e.tableData=t.data._param.list,e.pageTotal=1*t.data._param.total})},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search()})})},pageChange:function(t){this.page=t,this.search()},getUserUnderList:function(){var t=this;this.modalPromote.data=[],X({_mod:"jcmanager",_func:"GetUserUnderList",_check:"",_param:{uid:Number(this.modalPromote.actionID),page:this.modalPromote.page,limit:this.modalPromote.limit,ctype:1}}).then(function(e){t.modalPromote.data=e.data._param.data,t.modalPromote.total=e.data._param.total||0})},userPageChange:function(t){this.modalPromote.page=t,this.getUserUnderList()},onSwitch:function(t){D("putrsw",t?1:0,-1),t?this.startRefreshTimer():this.clearRefreshTimer()},onSure:function(){this.modalPass=!0,this.putauditData.order_no=this.modalDeal.actID,this.putauditData.uid=this.modalDeal.uid,this.putauditData.reason=this.modalDeal.reason,this.putauditData.type=1},onPay:function(){this.putauditData.order_no=this.modalDeal.actID,this.putauditData.uid=this.modalDeal.uid,this.putauditData.reason=this.modalDeal.reason,this.putauditData.type=2,this.dealOrder()},onRefuse:function(){this.modalRefuse=!0,this.putauditData.order_no=this.modalDeal.actID,this.putauditData.uid=this.modalDeal.uid,this.putauditData.reason=this.modalDeal.reason,this.putauditData.type=3},dealOrder:function(){var t=this;if(3==this.putauditData.type&&""==this.putauditData.reason)return this.$Message.error("请输入拒绝理由");this.modal_loading=!0,setTimeout(function(){t.modal_loading=!1},5e3),X({_mod:"jcmanager",_func:"PutAudit",_check:"",_param:this.putauditData}).then(function(e){t.$Message.success({content:"操作成功"}),t.modal_loading=!1,t.modalPass=!1,t.modalRefuse=!1,1==t.putauditData.type?t.modalDeal.status=1:2!=t.putauditData.type&&3!=t.putauditData.type||(t.modalDeal.show=!1),t.search()})}}},Et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"审核状态"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",clearable:!0,transfer:""},model:{value:t.dealType,callback:function(e){t.dealType=e},expression:"dealType"}},t._l(t.dealList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"玩家ID"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入玩家ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"请选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1),t._v(" "),a("FormItem",{attrs:{"label-width":80,label:"自动刷新"}},[a("i-switch",{on:{"on-change":t.onSwitch},model:{value:t.isAutoRefresh,callback:function(e){t.isAutoRefresh=e},expression:"isAutoRefresh"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),t._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalPass,callback:function(e){t.modalPass=e},expression:"modalPass"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("再次确认")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("同意后，将打款到玩家绑定的银行卡。")]),t._v(" "),a("p",[t._v("是否继续同意？")])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success",size:"large",long:"",loading:t.modal_loading},on:{click:t.dealOrder}},[t._v("同意")])],1)]),t._v(" "),a("Modal",{attrs:{width:"320"},model:{value:t.modalRefuse,callback:function(e){t.modalRefuse=e},expression:"modalRefuse"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("提示")])],1),t._v(" "),a("div",[a("p",{staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v("是否确认拒绝该条提现？")])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalRefuse=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.dealOrder}},[t._v("确认")])],1)]),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"640",closable:!0,title:"直属推广信息"},model:{value:t.modalPromote.show,callback:function(e){t.$set(t.modalPromote,"show",e)},expression:"modalPromote.show"}},[a("div",{staticStyle:{"font-weight":"bold","text-align":"center","font-size":"20px"}},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":65,label:"玩家昵称:"}},[a("div",[t._v(t._s(t.modalPromote.actionName))])]),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"玩家ID:"}},[a("div",[t._v(t._s(t.modalPromote.actionID))])])],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.modalPromote.columns1,data:t.modalPromote.data}}),t._v(" "),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.modalPromote.limit,total:t.modalPromote.total,placement:"top",current:t.modalPromote.page},on:{"on-change":t.userPageChange}})],1),t._v(" "),a("Modal",{attrs:{width:"640"},model:{value:t.modalDeal.show,callback:function(e){t.$set(t.modalDeal,"show",e)},expression:"modalDeal.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("提现信息审批核对")])]),t._v(" "),a("div",{staticStyle:{"padding-bottom":"20px"}},[t._v("\n            用户ID："+t._s(t.modalDeal.actItem[0].uid)+"   用户昵称："+t._s(t.modalDeal.actItem[0].nickname)+"   提现金额："+t._s(t.modalDeal.actItem[0].point/100)+"\n                                       \n            "),a("span",{staticStyle:{"text-align":"right"}},[t._v("申请时间："+t._s(t.modalDeal.actItem[0].created_date))])]),t._v(" "),a("Table",{attrs:{border:"",columns:t.modalDeal.columns1,data:t.modalDeal.actItem}}),t._v(" "),a("br"),t._v(" "),a("Form",{attrs:{inline:"","label-position":"right"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{"label-width":100,label:"操作备注："}},[-1!=t.modalDeal.status&&3!=t.modalDeal.status?a("Input",{attrs:{clearable:!0,placeholder:"请输入操作备注"},model:{value:t.modalDeal.reason,callback:function(e){t.$set(t.modalDeal,"reason",e)},expression:"modalDeal.reason"}}):t._e(),t._v(" "),-1==t.modalDeal.status||3==t.modalDeal.status?a("span",[t._v(t._s(t.modalDeal.reason))]):t._e()],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[0==t.modalDeal.status||1==t.modalDeal.status?a("div",[0==t.modalDeal.status?a("Button",{attrs:{type:"success"},on:{click:t.onSure}},[t._v("同意")]):t._e(),t._v(" "),1==t.modalDeal.status?a("Button",{attrs:{type:"warning"},on:{click:t.onPay}},[t._v("打款")]):t._e(),t._v(" "),0==t.modalDeal.status?a("Button",{attrs:{type:"error"},on:{click:t.onRefuse}},[t._v("拒绝")]):t._e()],1):t._e(),t._v(" "),-1==t.modalDeal.status||3==t.modalDeal.status?a("div",[a("span",[t._v(t._s(3==t.modalDeal.status?"已提现":"已拒绝"))])]):t._e()])],1)],1)},staticRenderFns:[]};var Ut={name:"userslist",data:function(){var t=this;return{userinfo:JSON.parse(x("userinfo")),payTypeList:[],statusList:[{text:"等待支付",value:1},{text:"支付成功",value:2}],searchData:{appid:"0",uid:"",order_id:"",status:0,pay_type:"",page:1,limit:15,start:0,end:0},app_id:"",uid:"",date:[S(0).from,S(0).to],nStatus:"",payType:"",columns:[{title:"订单号",key:"order_id",align:"center",minWidth:180},{title:"支付渠道",key:"pay_type",align:"center",minWidth:100},{title:"支付金额",key:"pay_money",align:"center",sortable:!0,minWidth:120,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.user_id,stype:10,back:1}})}}},a.row.pay_money/100)}},{title:"商品名称",key:"title",align:"center",minWidth:100},{title:"玩家ID",key:"user_id",align:"center",minWidth:100},{title:"支付状态",key:"status",align:"center",minWidth:100,render:function(e,a){return e("span",t.getStrCfg(a.row.status+1,t.statusList))}},{title:"APP",key:"appid_name",align:"center",minWidth:100},{title:"交易时间",key:"ctime",align:"center",sortable:!0,minWidth:120},{title:"管理",key:"action",minWidth:120,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",disabled:1==a.row.status},on:{click:function(){t.checkModal=!0,t.checkOrderID=a.row.order_id}}},"更改状态")])}}],appListData:[],tableData:[],pageTotal:0,checkModal:!1,shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},created:function(){this.getAppListData(),this.getPaySourceList()},methods:{search:function(t){var e=this;return""==this.app_id?this.$Message.error("请选择渠道"):this.date[0]&&this.date[1]?(0==t&&(this.searchData.page=1),this.tableData=[],this.searchData.uid=Number(this.uid),this.searchData.appid=Number(this.app_id),this.searchData.pay_type=Number(this.payType)||-1,this.searchData.status=Number(this.nStatus)?Number(this.nStatus)-1:-1,this.searchData.start=this.date[0]?Math.round(this.date[0].getTime()/1e3):0,this.searchData.end=this.date[1]?Math.round(this.date[1].getTime()/1e3+86400-1):0,void X({_mod:"jcmanager",_func:"GetOrderList",_check:"",_param:this.searchData}).then(function(t){void 0==t.data._param.list?e.tableData=[]:e.tableData=t.data._param.list,e.pageTotal=1*t.data._param.total})):this.$Message.error("请选择查询时间")},updateOrderStatus:function(){var t=this;X({_mod:"jcmanager",_func:"UpdateOrder",_check:"",_param:{order_id:String(this.checkOrderID),status:1}}).then(function(e){t.$Message.success("修改订单状态成功"),t.search()})},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.agencyAction(),t.$nextTick(function(){t.search()})})},agencyAction:function(){0!=this.userinfo.type&&(this.app_id=this.userinfo.app_id)},pageChange:function(t){this.searchData.page=t,this.search()},getStrCfg:function(t,e){var a="暂无";return e.forEach(function(e){e.value==t&&(a=e.text)}),a},getPaySourceList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPaySourceList",_check:"",_param:{}}).then(function(e){t.payTypeList=e.data._param.data})}}},Wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"支付渠道"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.payType,callback:function(e){t.payType=e},expression:"payType"}},t._l(t.payTypeList,function(e){return a("Option",{key:e.ctype,attrs:{value:e.ctype}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"支付状态"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",clearable:!0,transfer:""},model:{value:t.nStatus,callback:function(e){t.nStatus=e},expression:"nStatus"}},t._l(t.statusList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":80,label:"订单号码"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入订单号码"},model:{value:t.searchData.order_id,callback:function(e){t.$set(t.searchData,"order_id",e)},expression:"searchData.order_id"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"玩家ID"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入玩家ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"请选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.searchData.limit,total:t.pageTotal,"show-total":"",current:t.searchData.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,closable:!0},on:{"on-ok":t.updateOrderStatus},model:{value:t.checkModal,callback:function(e){t.checkModal=e},expression:"checkModal"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("二次确认")]),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-size":"1rem"}},[t._v("确认改变支付状态为支付成功吗？改变之后支付回调将不会下发金币给玩家！")])])],1)},staticRenderFns:[]};var Rt={name:"BankStatement",data:function(){var t=this;return{timeArg:[{text:"上周",value:1},{text:"上上周",value:2},{text:"上上上周",value:3}],week:1,app_id:"",page:1,pagesize:100,pageTotal:0,appListData:[],channel_id:"",channelList:[],tableData:[],columns:[{title:"渠道名称",key:"pack_name",align:"center",minWidth:100},{title:"渠道号",key:"pack_no",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/packlist",query:{packNo:a.row.pack_no,back:1}})}}},a.row.pack_no)}},{title:"银行卡姓名",key:"entrusBankUser",align:"center",minWidth:100},{title:"渠道玩家投注金额",key:"bet",align:"center",sortable:!0,width:120,render:function(t,e){return t("span",e.row.bet/100)}},{title:"渠道玩家返奖金额",key:"hit",align:"center",sortable:!0,width:120,render:function(t,e){return t("span",e.row.hit/100)}},{title:"渠道总业绩",key:"total_record",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.total_record/100)}},{title:"渠道总佣金",key:"total_commi",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.total_commi/100)}},{title:"渠道下代理业绩总佣金",key:"agent_commi",align:"center",sortable:!0,width:120,render:function(t,e){return t("span",e.row.agent_commi/100)}},{title:"渠道业绩分成定档",key:"record_commi",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.record_commi+"元/万")}},{title:"坐庄模式分成比率",key:"banker_ratio",align:"center",minWidth:120,render:function(t,e){return t("span",100*e.row.banker_ratio+"%")}},{title:"所属APP",key:"app_name",align:"center",minWidth:100},{title:"对账状态",key:"action",minWidth:120,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:1==a.row.status?"warning":"primary"},on:{click:function(){t.actionModal.actionItem=a.row,t.actionModal.show=!0,t.getChannelBindInfo(1,a.row.pack_no)}}},1!=a.row.status?"对账":"已打款")])}}],actionModal:{show:!1,actionItem:{},modal_loading:!1,tableData:[],columns:[{title:"银行类型",key:"entrusBankName",align:"center",minWidth:120},{title:"银行卡姓名",key:"entrusBankUser",align:"center",minWidth:100},{title:"银行卡号",key:"entrusBankAccount",align:"center",minWidth:170},{title:"开户省份",key:"bankProvcince",align:"center",minWidth:100},{title:"开户地区",key:"bankCity",align:"center",minWidth:100},{title:"支行",key:"bankName",align:"center",minWidth:120}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData()},methods:{search:function(t){var e=this;return""==this.app_id?this.$Message.error("请选择APP"):""==this.week?this.$Message.error("请选择时间"):(0==t&&(this.page=1),this.tableData=[],void X({_mod:"jcmanager",_func:"GetBalanceList",_check:"",_param:{appid:Number(this.app_id),pack_no:Number(this.channel_id)||0,page:this.page,pagesize:this.pagesize,week:this.week}}).then(function(t){e.pageTotal=t.data._param.total||0,e.tableData=t.data._param.list||[]}))},pageChange:function(t){this.page=t,this.search()},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.getChannelListData(),t.$nextTick(function(){t.search(0)})})},getChannelListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackBalanceList",_check:"",_param:{appid:Number(this.app_id)}}).then(function(e){t.channelList=e.data._param.list})},onAppSelect:function(t){this.channel_id="",this.getChannelListData()},actionBankStatement:function(){var t=this;this.actionModal.modal_loading=!0,setTimeout(function(){t.actionModal.modal_loading=!1},5e3),X({_mod:"jcmanager",_func:"ActionBalanceStatus",_check:"",_param:{app_id:Number(this.actionModal.actionItem.app_id),pack_no:Number(this.actionModal.actionItem.pack_no),date:this.actionModal.actionItem.start}}).then(function(e){t.actionModal.modal_loading=!1,t.$Message.success("操作成功！"),t.actionModal.show=!1,t.search(),t.getChannelListData()})},getChannelBindInfo:function(t,e){var a=this;this.actionModal.tableData=[],X({_mod:"jcmanager",_func:"GetPackBankInfo",_check:"",_param:{pack_no:Number(e)}}).then(function(e){1==t&&a.actionModal.tableData.push(e.data._param)})}}},Bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onAppSelect},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":80,label:"选择渠道名"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"全部",clearable:"",transfer:""},model:{value:t.channel_id,callback:function(e){t.channel_id=e},expression:"channel_id"}},t._l(t.channelList,function(e){return a("Option",{key:e.pack_no,attrs:{value:e.pack_no}},[t._v("\n                        "+t._s(e.pack_name)+"\n                        "),0==e.status?a("span",{staticStyle:{color:"red"}},[t._v("*")]):t._e(),t._v(" "),a("span",[t._v("("+t._s(e.pack_no)+")")])])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道号"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.channel_id,callback:function(e){t.channel_id=e},expression:"channel_id"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":40,label:"时间"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.week,callback:function(e){t.week=e},expression:"week"}},t._l(t.timeArg,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{Modal:"",width:"1024","mask-closable":!1,closable:!0},model:{value:t.actionModal.show,callback:function(e){t.$set(t.actionModal,"show",e)},expression:"actionModal.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("结算账户核对信息")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("Table",{attrs:{border:"",columns:t.actionModal.columns,data:t.actionModal.tableData}})],1),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"tips"},[t._v(t._s(t.actionModal.actionItem.start)+"~"+t._s(t.actionModal.actionItem.end)+"   渠道："+t._s(t.actionModal.actionItem.pack_name)+"("+t._s(t.actionModal.actionItem.pack_no)+")")]),t._v(" "),a("br"),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","font-size":"20px"}},[a("Card",{staticStyle:{"min-height":"100px",width:"160px"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[t._v("业绩分成模式应得")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t._f("isNullRmb")(t.actionModal.actionItem.commi)))])]),t._v("\n             = \n            "),a("Card",{staticStyle:{"min-height":"100px",width:"160px"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[t._v("渠道总业绩")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t._f("isNullRmb")(t.actionModal.actionItem.total_record)))])]),t._v("\n             * \n            "),a("Card",{staticStyle:{"min-height":"100px",width:"160px"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[t._v("渠道业绩分成定档")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.actionModal.actionItem.record_commi)+"元/万")])]),t._v("\n             - \n            "),a("Card",{staticStyle:{"min-height":"100px",width:"175px"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[t._v("渠道下代理业绩总佣金")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t._f("isNullRmb")(t.actionModal.actionItem.agent_commi)))])])],1),t._v(" "),a("br"),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","font-size":"20px"}},[a("Card",{staticStyle:{"min-height":"100px",width:"160px"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[t._v("合伙坐庄模式应得")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t._f("isNullRmb")(t.actionModal.actionItem.banker)))])]),t._v("\n             = (\n            "),a("Card",{staticStyle:{"min-height":"100px",width:"160px"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[t._v("渠道玩家投注金额")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t._f("isNullRmb")(t.actionModal.actionItem.bet)))])]),t._v("\n             - \n            "),a("Card",{staticStyle:{"min-height":"100px",width:"160px"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[t._v("渠道玩家返奖金额")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t._f("isNullRmb")(t.actionModal.actionItem.hit)))])]),t._v("\n             - \n            "),a("Card",{staticStyle:{"min-height":"100px",width:"175px"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[t._v("渠道下代理业绩总佣金")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t._f("isNullRmb")(t.actionModal.actionItem.agent_commi)))])]),t._v("\n            ) * \n            "),a("Card",{staticStyle:{"min-height":"100px",width:"160px"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[t._v("坐庄模式分成比率")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(100*t.actionModal.actionItem.banker_ratio)+"%")])])],1),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"tips red"},[t._v("*请先核对该渠道的分成模式，再进行打款操作")]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{disabled:1==t.actionModal.actionItem.status,type:"success",size:"large",loading:t.actionModal.modal_loading},on:{click:t.actionBankStatement}},[t._v("已打款")]),t._v(" "),a("Button",{attrs:{type:"warning",size:"large"},on:{click:function(e){t.actionModal.show=!1}}},[t._v("取消")])],1)])],1)},staticRenderFns:[]};var zt={name:"WaterData",data:function(){var t=this;return{sourceType:[10],waterRecord:{app_id:12,uid:0,pack_no:0,page:1,pagesize:10,source:0,start:0,end:0,gid:0,source_type:x("uid")},waterDate:[S(0).from,S(0).to],uid:"",point:"",remarks:"",app_id:"",packNo:"",suid:"",appListData:[],waterNumber:0,waterData:[],waterList:[],waters:[{title:"流水单号",key:"order_no",align:"center",minWidth:120},{title:"玩家ID",key:"uid",align:"center",minWidth:100,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/userslist",query:{suid:a.row.uid,back:1}})}}},a.row.uid)}},{title:"玩家昵称",key:"nick_name",align:"center",minWidth:100},{title:"充值前玩家账户余额",key:"old_point",align:"center",width:120,render:function(t,e){return t("span",void 0==e.row.old_point?"0":e.row.old_point/100)}},{title:"充值金额",key:"point",align:"center",minWidth:100,render:function(e,a){var i=a.row.point/100;return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{suid:a.row.uid,stype:10,back:1}})}},style:{color:i>0?"red":"green"}},i>0?"+"+i:i)}},{title:"充值后玩家账户余额",key:"new_point",align:"center",width:120,render:function(t,e){return t("span",void 0==e.row.new_point?"0":e.row.new_point/100)}},{title:"更新时间",key:"update_time",align:"center",minWidth:100},{title:"所属渠道",key:"pack_name",align:"center",minWidth:120,render:function(t,e){var a=e.row.pack_name;return e.row.pack_no&&e.row.pack_no>0&&(a=e.row.pack_name+"("+e.row.pack_no+")"),t("span",a)}},{title:"充值备注",key:"remarks",align:"center",minWidth:100}],shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]},modalAddPoint:{show:!1,modal_loading:!1,userInfo:[]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData()},mounted:function(){},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.userWaters(0)})})},waterPageChanges:function(t){this.waterRecord.page=t,this.userWaters()},pageSizeChange:function(t){this.waterRecord.pagesize=t,this.userWaters()},userWaters:function(t){var e=this;0==t&&(this.waterRecord.page=1),this.waterList=[],this.waterRecord.app_id=this.app_id||12,this.waterRecord.source=this.sourceType||[],this.waterRecord.pack_no=Number(this.packNo)||0,this.waterRecord.uid=Number(this.suid)||0,this.waterDate[0]&&this.waterDate[1]?(this.waterRecord.start=Math.round(this.waterDate[0].getTime()/1e3),this.waterRecord.end=Math.round(this.waterDate[1].getTime()/1e3+86400-1)):(this.waterRecord.start=0,this.waterRecord.end=0),X({_mod:"jcmanager",_func:"PointLog",_check:"",_param:this.waterRecord}).then(function(t){e.waterData=t.data._param,e.waterList=t.data._param.list,e.waterNumber=t.data._param.total})},getUserInfo:function(){var t=this;return""==this.uid||isNaN(Number(this.uid))?this.$Message.error("请输入正确的uid"):""==this.point||isNaN(Number(this.point))?this.$Message.error("请输入正确的充值金额"):void X({_mod:"jcmanager",_func:"GetUserInfo",_check:"",_param:{uid:Number(this.uid)}}).then(function(e){t.modalAddPoint.userInfo=e.data._param,t.modalAddPoint.show=!0})},handleAdd:function(){var t=this;this.modalAddPoint.modal_loading=!0,setTimeout(function(){t.modalAddPoint.modal_loading=!1},5e3),X({_mod:"jcmanager",_func:"AddPoint",_check:"",_param:{uid:Number(this.uid),point:Number(this.point),remarks:this.remarks}}).then(function(e){t.modalAddPoint.modal_loading=!1,t.modalAddPoint.show=!1,t.$Message.success("充值"+t.point+"元成功"),t.userWaters(0)})}}},Ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"pay-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{staticStyle:{width:"150px"},attrs:{"label-width":60,label:"玩家ID"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入充值ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",{staticStyle:{width:"150px"},attrs:{"label-width":60,label:"充值金额"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入添加数目"},model:{value:t.point,callback:function(e){t.point=e},expression:"point"}})],1),t._v(" "),a("FormItem",{staticStyle:{width:"360px"},attrs:{"label-width":60,label:"充值备注"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入充值备注"},model:{value:t.remarks,callback:function(e){t.remarks=e},expression:"remarks"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.getUserInfo}},[t._v("充值")])],1)],1)],1),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"渠道号"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.packNo,callback:function(e){t.packNo=e},expression:"packNo"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"玩家ID"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入查询玩家ID"},model:{value:t.suid,callback:function(e){t.suid=e},expression:"suid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.waterDate,callback:function(e){t.waterDate=e},expression:"waterDate"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.userWaters(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{staticClass:"total-info"},[a("Page",{attrs:{"page-size":t.waterRecord.pagesize,total:t.waterNumber,"show-total":"",placement:"bottom",current:t.waterRecord.page,"show-sizer":""},on:{"on-change":t.waterPageChanges,"on-page-size-change":t.pageSizeChange}}),t._v(" "),t.waterData.total_point?a("div",{staticClass:"data-info"},[t._v("充值总金额："+t._s(t._f("isNullRmb")(t.waterData.total_point)))]):t._e()],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.waters,data:t.waterList}}),t._v(" "),a("br"),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,closable:!0,width:"320"},model:{value:t.modalAddPoint.show,callback:function(e){t.$set(t.modalAddPoint,"show",e)},expression:"modalAddPoint.show"}},[a("p",{staticClass:"modal-header",attrs:{slot:"header"},slot:"header"},[t._v("玩家充值")]),t._v(" "),a("Form",{attrs:{"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"玩家ID:"}},[a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.modalAddPoint.userInfo.uid))])]),t._v(" "),a("FormItem",{attrs:{label:"玩家昵称:"}},[a("span",[t._v(t._s(t.modalAddPoint.userInfo.nickname))])]),t._v(" "),a("FormItem",{attrs:{label:"充值金额:"}},[a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.point))])]),t._v(" "),a("FormItem",{attrs:{label:"充值备注:"}},[a("span",[t._v(t._s(t.remarks))])])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalAddPoint.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success",loading:t.modalAddPoint.modal_loading},on:{click:t.handleAdd}},[t._v("确认")])],1)],1)],1)},staticRenderFns:[]};var Gt=[{path:"approvallist",name:"ApprovalList",component:a("VU/8")(Pt,Et,!1,function(t){a("JbDu")},"data-v-747dd0f7",null).exports,meta:{name:"finance"}},{path:"paysearch",name:"PaySearch",component:a("VU/8")(Ut,Wt,!1,function(t){a("Vlnx")},"data-v-63c8c8b6",null).exports,meta:{name:"finance"}},{path:"bankstatement",name:"BankStatement",component:a("VU/8")(Rt,Bt,!1,function(t){a("FpTF")},"data-v-9fea001c",null).exports,meta:{name:"finance"}},{path:"userrecharge",name:"UserRecharge",component:a("VU/8")(zt,Ot,!1,function(t){a("stzR")},"data-v-10b83d2a",null).exports,meta:{name:"finance"}}],jt={name:"CustomeService",data:function(){var t=this;return{userinfo:JSON.parse(x("userinfo")),appListData:[],app_id:"",dayData:[],tableData:[],columns1:[{title:"编号",key:"id",align:"center",minWidth:120},{title:"文本",key:"info",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.s_type+":"+e.row.info)}},{title:"跳转应用",key:"type",align:"center",minWidth:120,render:function(e,a){return e("span",t.getChatAppStr(a.row.type))}},{title:"编辑",key:"action",minWidth:120,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){t.modalEdit.actID=a.row.id,t.modalEdit.info=a.row.info,t.modalEdit.chatApp=a.row.type,t.modalEdit.show=!0}}},"修改"),e("Button",{props:{type:"primary"},on:{click:function(){t.modalDel.actID=a.row.id,t.modalDel.show=!0}}},"删除")])}}],customeList:[],total:0,chatAppList:[{id:1,text:"QQ"},{id:2,text:"微信"}],modalAdd:{show:!1,chatApp:1,info:""},modalEdit:{show:!1,actID:0,info:"",chatApp:""},modalDel:{show:!1,actID:0}}},created:function(){this.getAppListData(),this.$nextTick(function(){})},mounted:function(){},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.searchInfo()})})},searchInfo:function(){var t=this;if(""==this.app_id)return this.$Message.error("请选择渠道");this.customeList=[],X({_mod:"jcmanager",_func:"GetCustomeServiceList",_check:"",_param:{appid:Number(this.app_id)}}).then(function(e){t.customeList=e.data._param.list||[],t.total=e.data._param.total||0})},reqDelLevel:function(){var t=this;X({_mod:"jcmanager",_func:"delCustomeService",_check:"",_param:{id:this.modalDel.actID}}).then(function(e){t.$Message.success("删除成功！"),t.modalDel.show=!1,t.searchInfo()})},openAddModal:function(){this.modalAdd.show=!0,this.modalAdd.info="",this.modalAdd.chatApp=1},reqAddNew:function(){var t=this;X({_mod:"jcmanager",_func:"UpdateCustomeService",_check:"",_param:{appid:Number(this.app_id),info:this.modalAdd.info,type:Number(this.modalAdd.chatApp),id:0}}).then(function(e){t.$Message.success("新增成功！"),t.modalAdd.show=!1,t.searchInfo()})},reqEdit:function(){var t=this;X({_mod:"jcmanager",_func:"UpdateCustomeService",_check:"",_param:{id:this.modalEdit.actID,appid:Number(this.app_id),info:this.modalEdit.info,type:Number(this.modalEdit.chatApp)}}).then(function(e){t.$Message.success("修改成功！"),t.modalEdit.show=!1,t.searchInfo()})},getChatAppStr:function(t){for(var e=0;e<this.chatAppList.length;e++)if(t==this.chatAppList[e].id)return this.chatAppList[e].text}},filters:{isNull:function(t){return t||"0"},isNullRmb:function(t){return t?t/100:"0"}}},qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"custome-service"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.searchInfo}},[t._v("查询")]),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.openAddModal}},[t._v("新增")])],1),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{border:"",columns:t.columns1,data:t.customeList}}),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalAdd.show,callback:function(e){t.$set(t.modalAdd,"show",e)},expression:"modalAdd.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("新增信息")])],1),t._v(" "),a("Form",{attrs:{"label-position":"right"}},[a("FormItem",{attrs:{"label-width":100,label:"内容编辑"}},[a("Input",{staticStyle:{width:"200px"},attrs:{clearable:!0,placeholder:"最多可输入20个字符"},model:{value:t.modalAdd.info,callback:function(e){t.$set(t.modalAdd,"info",e)},expression:"modalAdd.info"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"跳转应用"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},model:{value:t.modalAdd.chatApp,callback:function(e){t.$set(t.modalAdd,"chatApp",e)},expression:"modalAdd.chatApp"}},t._l(t.chatAppList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.text))])}))],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success"},on:{click:t.reqAddNew}},[t._v("保存信息")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalEdit.show,callback:function(e){t.$set(t.modalEdit,"show",e)},expression:"modalEdit.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("文本编辑")])],1),t._v(" "),a("Form",{attrs:{"label-position":"right"}},[a("FormItem",{attrs:{"label-width":100,label:"内容编辑"}},[a("Input",{staticStyle:{width:"200px"},attrs:{clearable:!0,placeholder:"最多可输入20个字符"},model:{value:t.modalEdit.info,callback:function(e){t.$set(t.modalEdit,"info",e)},expression:"modalEdit.info"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"跳转应用"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},model:{value:t.modalEdit.chatApp,callback:function(e){t.$set(t.modalEdit,"chatApp",e)},expression:"modalEdit.chatApp"}},t._l(t.chatAppList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.text))])}))],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalEdit.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqEdit}},[t._v("确认修改")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"320"},model:{value:t.modalDel.show,callback:function(e){t.$set(t.modalDel,"show",e)},expression:"modalDel.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("提示")])],1),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v("是否确认删除该条信息？")]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalDel.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqDelLevel}},[t._v("确认")])],1)])],1)])},staticRenderFns:[]};var Ht=a("VU/8")(jt,qt,!1,function(t){a("Pdvz")},null,null).exports,Vt={name:"managerActiveMessage",data:function(){var t=this;return{userinfo:JSON.parse(x("userinfo")),appListData:[],app_id:"",date:[],shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]},tableData:[],pageTotal:0,columns:[{type:"index",minWidth:60,align:"center"},{title:"喇叭id",key:"id",minWidth:60,align:"center"},{title:"消息",key:"message",minWidth:300,align:"center"},{title:"有效时间",key:"start",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.start+"~"+e.row.end)}},{title:"每日播放时间",key:"today_start",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.today_start+"~"+e.row.today_end)}},{title:"发送间隔(分)",key:"space",align:"center",minWidth:100},{title:"广播状态",key:"status",align:"center",minWidth:100,render:function(t,e){return t("span",1==e.row.status?"开放":"过期")}},{title:"广播类型",key:"type",align:"center",minWidth:100,render:function(t,e){return t("span",1==e.row.type?"低级系统消息":2==e.row.type?"玩家盈利信息":"高级系统消息")}},{title:"创建时间",key:"created_date",align:"center",sortable:!0,minWidth:100},{title:"管理",key:"action",minWidth:160,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){t.openDetails(a.row)}}},"详情"),e("Button",{props:{type:"primary"},on:{click:function(){t.modalDel=!0,t.editCfg.dealID=a.row.id}}},"删除")])}}],editCfg:{modalEdit:!1,modalTitle:"",dealID:0,type:"1",beginDate:"",endDate:"",dayBeginTime:"00:00",dayEndTime:"23:59",space:1,status:"1",message:"",isAddOpt:!1,showType:"1"},modalDel:!1,modal_loading:!1}},created:function(){this.getAppListData()},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.searchInfo()})})},searchInfo:function(){var t=this;if(""==this.app_id)return this.$Message.error("请选择渠道");this.tableData=[],X({_mod:"jcmanager",_func:"GetActiveMessage",_check:"",_param:{appid:Number(this.app_id),start:this.date[0]&&Math.round(this.date[0].getTime()/1e3)||0,end:this.date[1]&&Math.round(this.date[1].getTime()/1e3+86400-1)||0}}).then(function(e){t.tableData=e.data._param.list,t.pageTotal=e.data._param.total})},openDetails:function(t){this.editCfg.isAddOpt=!1,this.editCfg.modalEdit=!0,this.editCfg.modalTitle="修改喇叭信息",this.editCfg.dealID=t.id,this.editCfg.beginDate=t.start,this.editCfg.endDate=t.end,this.editCfg.dayBeginTime=t.today_start,this.editCfg.dayEndTime=t.today_end,this.editCfg.status=String(t.status),this.editCfg.space=t.space,this.editCfg.message=t.message,this.editCfg.type=String(t.type)},openAddMsg:function(){this.editCfg.isAddOpt=!0,this.editCfg.modalEdit=!0,this.editCfg.modalTitle="新增喇叭信息",this.editCfg.beginDate="",this.editCfg.endDate="",this.editCfg.dayBeginTime="00:00",this.editCfg.dayEndTime="23:59",this.editCfg.status="1",this.editCfg.space=1,this.editCfg.message="",this.editCfg.type="1"},deleteItem:function(){var t=this;this.modal_loading=!0;var e={_mod:"jcmanager",_func:"DelActiveMessage",_check:"",_param:{id:Number(this.editCfg.dealID)}};setTimeout(function(){t.modal_loading=!1},5e3),X(e).then(function(e){t.modalDel=!1,t.modal_loading=!1,t.$Message.success("删除成功"),t.searchInfo()})},handleSubmit:function(){var t=this;if(""==this.editCfg.beginDate||""==this.editCfg.endDate)return this.$Message.error("请设定正确的上线时间！");X({_mod:"jcmanager",_func:"ActionActiveMessage",_check:"",_param:{id:!this.editCfg.isAddOpt&&this.editCfg.dealID||void 0,appid:Number(this.app_id),message:this.editCfg.message,start:this.formatDate(this.editCfg.beginDate)||"",end:this.formatDate(this.editCfg.endDate)||"",today_start:this.editCfg.dayBeginTime,today_end:this.editCfg.dayEndTime,space:this.editCfg.space,status:Number(this.editCfg.status),type:Number(this.editCfg.type)}}).then(function(e){t.$Message.success(t.editCfg.isAddOpt?"新建成功":"修改成功"),t.searchInfo()})},formatDate:function(t){return"string"==typeof t?t:t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},filters:{}},Qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{ref:"accountManage",staticClass:"poolManage"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.searchInfo}},[t._v("查询")]),t._v(" "),a("FormItem",[a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.openAddMsg}},[t._v("新增")])],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,closable:!0},on:{"on-ok":t.handleSubmit},model:{value:t.editCfg.modalEdit,callback:function(e){t.$set(t.editCfg,"modalEdit",e)},expression:"editCfg.modalEdit"}},[a("p",{staticClass:"modal-header",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.editCfg.modalTitle))]),t._v(" "),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":90,label:"播报模式"}},[a("RadioGroup",{model:{value:t.editCfg.showType,callback:function(e){t.$set(t.editCfg,"showType",e)},expression:"editCfg.showType"}},[a("Radio",{attrs:{label:"1"}},[a("span",[t._v("定时广播")])])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"上线时间"}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("DatePicker",{attrs:{type:"date",placeholder:"Select date",transfer:""},model:{value:t.editCfg.beginDate,callback:function(e){t.$set(t.editCfg,"beginDate",e)},expression:"editCfg.beginDate"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{span:"6"}},[t._v("下线时间")]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("DatePicker",{attrs:{type:"date",placeholder:"Select date",transfer:""},model:{value:t.editCfg.endDate,callback:function(e){t.$set(t.editCfg,"endDate",e)},expression:"editCfg.endDate"}})],1)],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"当天开始时间"}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("TimePicker",{attrs:{type:"time",format:"HH:mm",placeholder:"Select time"},model:{value:t.editCfg.dayBeginTime,callback:function(e){t.$set(t.editCfg,"dayBeginTime",e)},expression:"editCfg.dayBeginTime"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{span:"6"}},[t._v("当天结束时间")]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("TimePicker",{attrs:{type:"time",format:"HH:mm",placeholder:"Select time"},model:{value:t.editCfg.dayEndTime,callback:function(e){t.$set(t.editCfg,"dayEndTime",e)},expression:"editCfg.dayEndTime"}})],1)],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"发送间隔"}},[a("Row",[a("Col",{attrs:{span:"9"}},[a("InputNumber",{attrs:{min:1},model:{value:t.editCfg.space,callback:function(e){t.$set(t.editCfg,"space",e)},expression:"editCfg.space"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{span:"5"}},[t._v("状态")]),t._v(" "),a("Col",{attrs:{span:"9"}},[a("Select",{staticStyle:{width:"150px"},attrs:{transfer:""},model:{value:t.editCfg.status,callback:function(e){t.$set(t.editCfg,"status",e)},expression:"editCfg.status"}},[a("Option",{attrs:{value:"1"}},[t._v("开放")]),t._v(" "),a("Option",{attrs:{value:"0"}},[t._v("过期")])],1)],1)],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"广播类型"}},[a("RadioGroup",{model:{value:t.editCfg.type,callback:function(e){t.$set(t.editCfg,"type",e)},expression:"editCfg.type"}},[a("Radio",{attrs:{label:"1"}},[a("span",[t._v("低级系统消息")])]),t._v(" "),a("Radio",{attrs:{label:"2"}},[a("span",[t._v("玩家盈利消息")])]),t._v(" "),a("Radio",{attrs:{label:"3"}},[a("span",[t._v("高级系统消息")])])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"消息内容"}},[a("Input",{staticStyle:{width:"360px"},attrs:{placeholder:"请输入消息内容"},model:{value:t.editCfg.message,callback:function(e){t.$set(t.editCfg,"message",e)},expression:"editCfg.message"}}),t._v(" "),a("p",{staticStyle:{color:"red"}},[t._v("建议不要超过40字符")])],1)],1)],1),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalDel,callback:function(e){t.modalDel=e},expression:"modalDel"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("再次确认")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("确认后，将删除该条广播消息。")]),t._v(" "),a("p",[t._v("是否确认删除？")])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning",size:"large",long:"",loading:t.modal_loading},on:{click:t.deleteItem}},[t._v("确认")])],1)])],1)])},staticRenderFns:[]};var Jt=a("VU/8")(Vt,Qt,!1,function(t){a("lMbP")},null,null).exports,Yt={name:"payType",data:function(){var t=this;return{payTypeAppId:"",userinfo:JSON.parse(x("userinfo")),pagesize:10,page:1,pageTotal:0,app_id:"",appListData:[],tableData:[],modalType:!0,modal:!1,modelloading:!0,modalTitle:"",rulePayTypeValidate:{app_id:[{required:!0,message:"请选择渠道",trigger:"blur",type:"number"}],name:[{required:!0,message:"请填写代理名称",trigger:"blur"}],describes:[{required:!0,message:"请填写代理介绍",trigger:"blur"}],qq:[{required:!0,message:"请填写代理QQ号",trigger:"blur"}],wx:[{required:!0,message:"请填写微信号",trigger:"blur"}]},editPayType:{id:"",app_id:"",name:"",wx:"",qq:"",describes:"",status:"0"},columns:[{title:"代理名称",key:"name",align:"center",minWidth:150},{title:"代理介绍",key:"describes",align:"center",minWidth:150},{title:"QQ号",key:"qq",align:"center",minWidth:100},{title:"微信号",key:"wx",align:"center",minWidth:120},{title:"状态",key:"status",align:"center",minWidth:100,render:function(t,e){return t("span",{style:{color:1==e.row.status?"":"red"}},void 0==e.row.status||0==e.row.status?"禁用":"可用")}},{title:"创建时间",key:"created_date",align:"center",minWidth:120},{title:"管理",key:"action",minWidth:120,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editPayTypeInfo(a.index)}}},"编辑")])}}]}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData()},methods:{addPayTypeInfo:function(){this.$refs.rulePayType.resetFields(),this.modalTitle="添加代理充值信息",this.modalType=!0,this.modal=!0},editPayTypeInfo:function(t){this.$refs.rulePayType.resetFields(),console.log(t),console.log(this.tableData[t]),this.editPayType.id=this.tableData[t].id,this.editPayType.name=this.tableData[t].name,this.editPayType.describes=this.tableData[t].describes,this.editPayType.qq=this.tableData[t].qq,this.editPayType.wx=this.tableData[t].wx,this.editPayType.status=String(this.tableData[t].status),this.editPayType.app_id=this.tableData[t].appid,this.modalTitle="修改代理充值信息",this.modalType=!1,this.modal=!0},addPayTypeSubmit:function(){var t=this;console.log(this.editPayType),X({_mod:"jcmanager",_func:"ActionPayType",_check:"",_param:{id:Number(this.editPayType.id),appid:Number(this.editPayType.app_id),name:this.editPayType.name,wx:this.editPayType.wx,qq:this.editPayType.qq,describes:this.editPayType.describes,status:Number(this.editPayType.status)}}).then(function(e){t.submitFun(0,e)})},submitFun:function(t,e){if(void 0!=e.data._errno||e.data._errno>0)return this.$Message.error({content:e.data._errstr});t=0==t?"添加":"编辑",this.modal=!1,this.$Message.success(t+"成功"),this.modelloading=!1,this.app_id>0&&this.search()},editPayTypeSubmit:function(){var t=this;X({_mod:"jcmanager",_func:"ActionPayType",_check:"",_param:{id:Number(this.editPayType.id),appid:Number(this.editPayType.app_id),name:this.editPayType.name,wx:this.editPayType.wx,qq:this.editPayType.qq,describes:this.editPayType.describes,status:Number(this.editPayType.status)}}).then(function(e){t.submitFun(1,e)})},handleSubmit:function(){var t=this,e=0;this.$refs.rulePayType.validate(function(a){a?t.modalType?t.addPayTypeSubmit():t.editPayTypeSubmit():(t.$Message.error("请输入正确的信息!"),0==e&&(t.modelloading=!1,e++,setTimeout(function(){t.modelloading=!0},10)))})},search:function(t){var e=this;if(""==this.app_id)return this.$Message.error("请选择渠道");0==t&&(this.page=1),this.tableData=[],X({_mod:"jcmanager",_func:"GetPayType",_check:"",_param:{page:Number(this.page),pagesize:Number(this.pagesize),appid:Number(this.app_id)}}).then(function(t){void 0==t.data._param.list?e.tableData=[]:e.tableData=t.data._param.list,e.pageTotal=t.data._param.total})},pageChange:function(t){this.page=t,this.search()},getAppListData:function(){var t=this;Y().then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.search()})})}}},Xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname)+"\n                    ")])}))],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1),t._v(" "),a("Button",{staticClass:"add-payType",attrs:{type:"primary",icon:"plus-round"},on:{click:t.addPayTypeInfo}},[t._v("添加代理充值")])],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{loading:t.modelloading},on:{"on-ok":t.handleSubmit},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.modalTitle))]),t._v(" "),a("Form",{ref:"rulePayType",attrs:{rules:t.rulePayTypeValidate,model:t.editPayType,"label-width":80}},[a("Form-item",{attrs:{label:"渠道",prop:"app_id"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},model:{value:t.editPayType.app_id,callback:function(e){t.$set(t.editPayType,"app_id",e)},expression:"editPayType.app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname)+"\n                    ")])}))],1),t._v(" "),a("Form-item",{attrs:{label:"代理名称",prop:"name"}},[a("Input",{attrs:{type:"text"},model:{value:t.editPayType.name,callback:function(e){t.$set(t.editPayType,"name",e)},expression:"editPayType.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"代理描述",prop:"describes"}},[a("Input",{attrs:{type:"text"},model:{value:t.editPayType.describes,callback:function(e){t.$set(t.editPayType,"describes",e)},expression:"editPayType.describes"}})],1),t._v(" "),a("Form-item",{attrs:{label:"QQ账号",prop:"qq"}},[a("Input",{attrs:{type:"text"},model:{value:t.editPayType.qq,callback:function(e){t.$set(t.editPayType,"qq",e)},expression:"editPayType.qq"}})],1),t._v(" "),a("Form-item",{attrs:{label:"微信号",prop:"wx"}},[a("Input",{attrs:{type:"text"},model:{value:t.editPayType.wx,callback:function(e){t.$set(t.editPayType,"wx",e)},expression:"editPayType.wx"}})],1),t._v(" "),a("Form-item",{attrs:{label:"状态",prop:"status"}},[a("Radio-group",{model:{value:t.editPayType.status,callback:function(e){t.$set(t.editPayType,"status",e)},expression:"editPayType.status"}},[a("Radio",{attrs:{label:"0"}},[t._v("禁用")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("可用")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Kt=a("VU/8")(Yt,Xt,!1,function(t){a("vWXd")},"data-v-b5539d3a",null).exports,Zt=a("bOdI"),te=a.n(Zt),ee={name:"PaySetting",data:function(){var t,e=this;return t={appListData:[],app_id:"",sourceList:[],sourceMap:{},tableData:[],columns1:[{title:"商城展示页",key:"name",align:"center",minWidth:120},{title:"支付通道",key:"PayConfigInfo",align:"center",minWidth:120,render:function(t,a){if(a.row.PayConfigInfo){for(var i=a.row.PayConfigInfo.pay_key||[],n="",o=0;o<i.length;o++){n+=(e.sourceMap[i[o]]||{}).name,o!=i.length-1&&(n+=",")}return t("span",n)}}},{title:"按钮1展示数字",key:"PayConfigInfo",align:"center",minWidth:120,render:function(t,e){if(e.row.PayConfigInfo)return t("span",e.row.PayConfigInfo.pay_num_list[0])}},{title:"按钮2展示数字",key:"PayConfigInfo",align:"center",minWidth:120,render:function(t,e){if(e.row.PayConfigInfo)return t("span",e.row.PayConfigInfo.pay_num_list[1])}},{title:"按钮3展示数字",key:"PayConfigInfo",align:"center",minWidth:120,render:function(t,e){if(e.row.PayConfigInfo)return t("span",e.row.PayConfigInfo.pay_num_list[2])}},{title:"按钮4展示数字",key:"PayConfigInfo",align:"center",minWidth:120,render:function(t,e){if(e.row.PayConfigInfo)return t("span",e.row.PayConfigInfo.pay_num_list[3])}},{title:"按钮5展示数字",key:"PayConfigInfo",align:"center",minWidth:120,render:function(t,e){if(e.row.PayConfigInfo)return t("span",e.row.PayConfigInfo.pay_num_list[4])}},{title:"按钮6展示数字",key:"PayConfigInfo",align:"center",minWidth:120,render:function(t,e){if(e.row.PayConfigInfo)return t("span",e.row.PayConfigInfo.pay_num_list[5])}},{title:"状态",key:"status",align:"center",minWidth:120,render:function(t,e){var a=1==e.row.status?"开启":"关闭";return t("span",{style:{color:1==e.row.status?"green":"red"}},a)}},{title:"管理",key:"action",minWidth:120,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary"},on:{click:function(){e.modalEdit.show=!0,e.modalEdit.actID=a.row.id,e.modalEdit.name=a.row.name,e.modalEdit.status=String(a.row.status),e.modalEdit.pay_key=a.row.PayConfigInfo.pay_key||[],e.modalEdit.pay_num_list=a.row.PayConfigInfo.pay_num_list||[]}}},"修改")])}}]},te()(t,"tableData",[]),te()(t,"total",0),te()(t,"modalEdit",{show:!1,actID:0,name:"",status:0,pay_key:[],pay_num_list:[]}),t},created:function(){this.getAppListData()},mounted:function(){},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.getPaySourceCfg()})},getPaySourceCfg:function(){var t=this;X({_mod:"jcmanager",_func:"GetPaySourceList",_check:"",_param:{}}).then(function(e){t.sourceList=e.data._param.data,t.createSourceMap(t.sourceList),t.$nextTick(function(){t.searchInfo()})})},createSourceMap:function(t){if(this.sourceMap={},null!=t&&void 0!=t)for(var e=0;e<t.length;e++)this.sourceMap[t[e].pay_key]=t[e]},searchInfo:function(){var t=this;if(""==this.app_id)return this.$Message.error("请选择渠道");this.tableData=[],X({_mod:"jcmanager",_func:"GetPayInfoList",_check:"",_param:{appid:Number(this.app_id)}}).then(function(e){t.tableData=e.data._param.data,t.total=e.data._param.total||0})},reqEdit:function(){var t=this;X({_mod:"jcmanager",_func:"UpdatePayInfo",_check:"",_param:{id:this.modalEdit.actID,status:Number(this.modalEdit.status),PayConfigInfo:{pay_key:this.modalEdit.pay_key,pay_num_list:this.modalEdit.pay_num_list}}}).then(function(e){t.$Message.success("修改成功！"),t.modalEdit.show=!1,t.searchInfo()})}},filters:{isNull:function(t){return t||"0"},isNullRmb:function(t){return t?t/100:"0"}}},ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"pay-setting"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.searchInfo}},[t._v("查询")])],1),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{border:"",columns:t.columns1,data:t.tableData}}),t._v(" "),a("Modal",{attrs:{width:"480"},model:{value:t.modalEdit.show,callback:function(e){t.$set(t.modalEdit,"show",e)},expression:"modalEdit.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改游戏支付显示配置")])]),t._v(" "),a("Form",{attrs:{"label-position":"right"}},[a("FormItem",{attrs:{"label-width":100,label:"修改支付项"}},[a("span",[t._v(t._s(t.modalEdit.name))])]),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"状态"}},[a("RadioGroup",{model:{value:t.modalEdit.status,callback:function(e){t.$set(t.modalEdit,"status",e)},expression:"modalEdit.status"}},[a("Radio",{attrs:{label:"1"}},[a("span",[t._v("开启")])]),t._v(" "),a("Radio",{attrs:{label:"0"}},[a("span",[t._v("关闭")])])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"选择支付通道"}},[a("Select",{staticStyle:{width:"320px"},attrs:{placeholder:"请选择",multiple:"",transfer:""},model:{value:t.modalEdit.pay_key,callback:function(e){t.$set(t.modalEdit,"pay_key",e)},expression:"modalEdit.pay_key"}},t._l(t.sourceList,function(e){return a("Option",{key:e.pay_key,attrs:{value:e.pay_key}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"按钮1展示数字"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.pay_num_list[0],callback:function(e){t.$set(t.modalEdit.pay_num_list,0,e)},expression:"modalEdit.pay_num_list[0]"}}),t._v(" 元\n                ")],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"按钮2展示数字"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.pay_num_list[1],callback:function(e){t.$set(t.modalEdit.pay_num_list,1,e)},expression:"modalEdit.pay_num_list[1]"}}),t._v(" 元\n                ")],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"按钮1展示数字"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.pay_num_list[2],callback:function(e){t.$set(t.modalEdit.pay_num_list,2,e)},expression:"modalEdit.pay_num_list[2]"}}),t._v(" 元\n                ")],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"按钮2展示数字"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.pay_num_list[3],callback:function(e){t.$set(t.modalEdit.pay_num_list,3,e)},expression:"modalEdit.pay_num_list[3]"}}),t._v(" 元\n                ")],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"按钮1展示数字"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.pay_num_list[4],callback:function(e){t.$set(t.modalEdit.pay_num_list,4,e)},expression:"modalEdit.pay_num_list[4]"}}),t._v(" 元\n                ")],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"按钮2展示数字"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.pay_num_list[5],callback:function(e){t.$set(t.modalEdit.pay_num_list,5,e)},expression:"modalEdit.pay_num_list[5]"}}),t._v(" 元\n                ")],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalEdit.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqEdit}},[t._v("确认修改")])],1)],1)],1)])},staticRenderFns:[]};var ie=[{path:"customeservice",name:"CustomeService",component:Ht,meta:{name:"message"}},{path:"activemessage",name:"ActiveMessage",component:Jt,meta:{name:"message"}},{path:"paytype",name:"PayType",component:Kt,meta:{name:"message"}},{path:"paysetting",name:"PaySetting",component:a("VU/8")(ee,ae,!1,function(t){a("acdc")},null,null).exports,meta:{name:"message"}}],ne={name:"LotteryStat",data:function(){return{date:[S(0).from,S(0).to],lotID:"",lotListData:[],tableData1:[],tableData2:[],curTableData:[],page:1,pagesize:10,pageTotal:0,shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]},columns1:[{title:"gid",key:"gameid",align:"center",minWidth:100},{title:"彩种",key:"name",align:"center",minWidth:100},{title:"投注",key:"tzPoint",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",e.row.tzPoint/100)}},{title:"返奖",key:"hitPoint",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",e.row.hitPoint/100)}},{title:"玩家返利金额",key:"sharePoint",align:"center",sortable:!0,minWidth:130,render:function(t,e){return t("span",e.row.sharePoint/100)}},{title:"盈亏",key:"subPoint",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",e.row.subPoint/100)}}],columns2:[{title:"期次",key:"qihao",align:"center",minWidth:100},{title:"投注金额",key:"tzPoint",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.tzPoint/100)}},{title:"返奖金额",key:"hitPoint",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.hitPoint/100)}},{title:"玩家返利额度",key:"sharePoint",align:"center",sortable:!0,minWidth:130,render:function(t,e){return t("span",e.row.sharePoint/100)}},{title:"盈亏",key:"subPoint",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.subPoint/100)}}]}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){var t=this;this.getLotListData(),this.$nextTick(function(){t.getTotalData()})},methods:{getLotListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotListData=e.data._param.list,t.$nextTick(function(){t.lotID=e.data._param.default,t.search(0)})})},getTotalData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryProfitData",_check:"",_param:{}}).then(function(e){t.tableData1=e.data._param})},search:function(t){var e=this;return""==this.lotID?this.$Message.error("请选择彩票彩种"):""==this.date[0]||""==this.date[1]?this.$Message.error("请选择正确的时间查询"):(this.tableData2=[],0==t&&(this.page=1),void X({_mod:"jcmanager",_func:"GetLotteryProfitDetail",_check:"",_param:{gameid:this.lotID,beginTime:this.date[0]&&Math.round(this.date[0].getTime()/1e3)||0,endTime:this.date[1]&&Math.round(this.date[1].getTime()/1e3+86400-1)||0,page:this.page,pagesize:this.pagesize,type:1}}).then(function(t){void 0==t.data._param.list?e.tableData2=[]:e.tableData2=t.data._param.list,e.pageTotal=t.data._param.total}))},pageChange:function(t){this.page=t,this.search()}}},oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"box"},[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"6"}},[a("Card",{staticStyle:{"min-height":"250px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("总投注金额")]),t._v(" "),a("p",{staticClass:"text"},[t._v(t._s(t._f("isNullRmb")(t.tableData1.totalTzPoint)))])])],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Card",{staticStyle:{"min-height":"250px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("总返奖金额")]),t._v(" "),a("p",{staticClass:"text"},[t._v(t._s(t._f("isNullRmb")(t.tableData1.totalHitPoint)))])])],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Card",{staticStyle:{"min-height":"250px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("玩家返利金额")]),t._v(" "),a("p",{staticClass:"text"},[t._v(t._s(t._f("isNullRmb")(t.tableData1.totalSharePoint)))])])],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Card",{staticStyle:{"min-height":"250px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("总盈亏金额")]),t._v(" "),a("p",{staticClass:"text"},[t._v(t._s(t._f("isNullRmb")(t.tableData1.totalSubPoint)))])])],1)],1),t._v(" "),a("br"),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1.list}})],1),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"开奖日期"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns2,data:t.tableData2}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData2.length,expression:"tableData2.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}})],1)},staticRenderFns:[]};var re=a("VU/8")(ne,oe,!1,function(t){a("EfeE")},"data-v-b07b4984",null).exports,se={name:"LotteryRun",data:function(){var t=this;return{stateCfg:[{id:1,text:"未开售"},{id:2,text:"销售中"},{id:3,text:"待开奖"},{id:4,text:"已派彩"}],searchParam:{status:3,gameID:"",beginQh:"",endQh:"",page:1,pagesize:15},lotListData:[],tableData1:[],pageTotal:0,columns1:[{title:"期次",key:"qihao",align:"center",sortable:!0,minWidth:100},{title:"开始时间",key:"tzBeginTime",align:"center",sortable:!0,minWidth:120},{title:"截止时间",key:"tzEndTime",align:"center",sortable:!0,minWidth:120},{title:"官方开始时间",key:"gfBeginTime",align:"center",sortable:!0,minWidth:130},{title:"官方截止时间",key:"gfEndTime",align:"center",sortable:!0,minWidth:130},{title:"开奖号码",key:"kjhm",align:"center",minWidth:200},{title:"状态",key:"status",align:"center",minWidth:100,render:function(e,a){return e("span",t.getStatusStr(a.row.status))}},{title:"操作",key:"status",align:"center",width:160,render:function(e,a){return e("div",[e("Button",{props:{type:"primary",disabled:3!=a.row.status},style:{marginRight:"6px"},on:{click:function(){t.modalRun.show=!0,t.modalRun.gameID=a.row.gameid,t.modalRun.qihao=a.row.qihao,t.modalRun.dataSource1=a.row.kjhm1,t.modalRun.dataSource2=a.row.kjhm2,t.modalRun.gameName=a.row.name,t.modalRun.kjhm="",t.modalRun.pwd="",t.modalRun.remak=""}}},"开奖"),e("Button",{props:{type:"primary",disabled:2!=a.row.status&&1!=a.row.status},on:{click:function(){t.modalEdit.show=!0,t.modalEdit.gameID=a.row.gameid,t.modalEdit.gameName=a.row.name,t.modalEdit.qihao=a.row.qihao,t.modalEdit.tzBeginTime=a.row.tzBeginTime,t.modalEdit.tzEndTime=a.row.tzEndTime,t.modalEdit.gfBeginTime=a.row.gfBeginTime,t.modalEdit.gfEndTime=a.row.gfEndTime}}},"修改")])}}],modalNew:{show:!1,gameID:"",gameName:"",qihao:"",tzBeginTime:"",tzEndTime:"",gfBeginTime:"",gfEndTime:""},modalEdit:{show:!1,gameID:"",gameName:"",qihao:"",tzBeginTime:"",tzEndTime:"",gfBeginTime:"",gfEndTime:""},modalRun:{show:!1,gameID:"",qihao:"",kjhm:"",dataSource1:"",dataSource2:"",gameName:"",pwd:"",remak:""},modalModify:{show:!1,isReadonlyA:!0,isReadonlyB:!0,sourceA:"",sourceB:""}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getGameListData(),this.$nextTick(function(){})},methods:{getGameListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotListData=e.data._param.list,t.$nextTick(function(){t.searchParam.gameID=e.data._param.default,t.search(0)})})},search:function(t){var e=this;if(""==this.searchParam.gameID)return this.$Message.error("请选择彩种");0==t&&(this.searchParam.page=1),this.tableData1=[],X({_mod:"jcmanager",_func:"GetLotteryQh",_check:"",_param:{gameid:this.searchParam.gameID,status:this.searchParam.status,beginQh:this.searchParam.beginQh,endQh:this.searchParam.endQh,page:this.searchParam.page,pagesize:this.searchParam.pagesize}}).then(function(t){void 0==t.data._param.list?e.tableData1=[]:e.tableData1=t.data._param.list,e.pageTotal=t.data._param.total})},pageChange:function(t){this.searchParam.page=t,this.search()},openAddModal:function(){if(""==this.searchParam.gameID)return this.$Message.error("请先选择一个彩票彩种");this.modalNew.show=!0,this.modalNew.qihao="",this.modalNew.tzBeginTime="",this.modalNew.tzEndTime="",this.modalNew.gfBeginTime="",this.modalNew.gfEndTime="",this.modalNew.gameName=this.getLotName(this.searchParam.gameID)},newAdd:function(){var t=this;return""==this.modalNew.qihao?this.$Message.error("请输入期次"):""==this.modalNew.gfBeginTime||""==this.modalNew.gfEndTime?this.$Message.error("请确认官方起止时间"):""==this.modalNew.tzBeginTime||""==this.modalNew.tzEndTime?this.$Message.error("请确认起止时间"):void X({_mod:"jcmanager",_func:"AddLotteryQh",_check:"",_param:{gameid:this.searchParam.gameID,qihao:this.modalNew.qihao,tzBeginTime:Math.round(this.getDateTime(this.modalNew.tzBeginTime)/1e3),tzEndTime:Math.round(this.getDateTime(this.modalNew.tzEndTime)/1e3),gfBeginTime:Math.round(this.getDateTime(this.modalNew.tzEndTime)/1e3),gfEndTime:Math.round(this.getDateTime(this.modalNew.tzEndTime)/1e3)}}).then(function(e){t.$Message.success("增加期号成功"),t.modalNew.show=!1,t.search(0)})},editLotQh:function(){var t=this;return""==this.modalEdit.gfBeginTime||""==this.modalEdit.gfEndTime?this.$Message.error("请确认官方起止时间"):""==this.modalEdit.tzBeginTime||""==this.modalEdit.tzEndTime?this.$Message.error("请确认起止时间"):(console.error(m()(this.modalEdit)),void X({_mod:"jcmanager",_func:"ChangeLotteryQh",_check:"",_param:{gameid:this.modalEdit.gameID,qihao:this.modalEdit.qihao,tzBeginTime:Math.round(this.getDateTime(this.modalEdit.tzBeginTime)/1e3),tzEndTime:Math.round(this.getDateTime(this.modalEdit.tzEndTime)/1e3),gfBeginTime:Math.round(this.getDateTime(this.modalEdit.gfBeginTime)/1e3),gfEndTime:Math.round(this.getDateTime(this.modalEdit.gfEndTime)/1e3)}}).then(function(e){t.$Message.success("修改时间成功"),t.modalEdit.show=!1,t.search()}))},getDateTime:function(t){var e=t;return"string"==typeof t&&(e=M(t)),e.getTime()},runLottery:function(){var t=this;X({_mod:"jcmanager",_func:"OpenLotteryPrize",_check:"",_param:{gameid:this.modalRun.gameID,qihao:this.modalRun.qihao,kjhm:this.modalRun.kjhm,kjhm1:this.modalRun.dataSource1,kjhm2:this.modalRun.dataSource2,pwd:W()(this.modalRun.pwd),remak:this.modalRun.remak}}).then(function(e){t.$Message.success("开奖成功"),t.modalRun.show=!1,t.search()})},showSourceModifyModal:function(t){this.modalModify.show=!0,this.modalModify.sourceA=this.modalRun.dataSource1,this.modalModify.sourceB=this.modalRun.dataSource2,1==t?(this.modalModify.isReadonlyA=!1,this.modalModify.isReadonlyB=!0):2==t&&(this.modalModify.isReadonlyA=!0,this.modalModify.isReadonlyB=!1)},saveSourceModify:function(){this.modalRun.dataSource1=this.modalModify.sourceA,this.modalRun.dataSource2=this.modalModify.sourceB,this.modalModify.show=!1},getLotName:function(t){for(var e="",a=0;a<this.lotListData.length;a++)if(t==this.lotListData[a].gameid){e=this.lotListData[a].name;break}return e},getStatusStr:function(t){for(var e="",a=0;a<this.stateCfg.length;a++)if(t==this.stateCfg[a].id){e=this.stateCfg[a].text;break}return e},showHelpView:function(){var t=document.createElement("a");t.href="./static/LotteryHelp.pdf",t.target="_blank",t.type="application/pdf",t.click()}}},le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.searchParam.gameID,callback:function(e){t.$set(t.searchParam,"gameID",e)},expression:"searchParam.gameID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"状态"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.searchParam.status,callback:function(e){t.$set(t.searchParam,"status",e)},expression:"searchParam.status"}},t._l(t.stateCfg,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"开始期次"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入开始期次"},model:{value:t.searchParam.beginQh,callback:function(e){t.$set(t.searchParam,"beginQh",e)},expression:"searchParam.beginQh"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"截止期次"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入截止期次"},model:{value:t.searchParam.endQh,callback:function(e){t.$set(t.searchParam,"endQh",e)},expression:"searchParam.endQh"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.openAddModal}},[t._v("新增期号")])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.showHelpView}},[t._v("开奖帮助")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData1.length,expression:"tableData1.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.searchParam.pagesize,total:t.pageTotal,"show-total":"",current:t.searchParam.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"600",closable:!0},model:{value:t.modalNew.show,callback:function(e){t.$set(t.modalNew,"show",e)},expression:"modalNew.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("新增期号")]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":100,label:"彩种："}},[a("div",[t._v(t._s(t.modalNew.gameName))])]),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"期次："}},[a("Input",{staticStyle:{width:"150px"},attrs:{clearable:!0,placeholder:"请输入期次号"},model:{value:t.modalNew.qihao,callback:function(e){t.$set(t.modalNew,"qihao",e)},expression:"modalNew.qihao"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"官方开始时间："}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"Select date and time",transfer:""},model:{value:t.modalNew.gfBeginTime,callback:function(e){t.$set(t.modalNew,"gfBeginTime",e)},expression:"modalNew.gfBeginTime"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{span:"6"}},[t._v("官方截止时间：")]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"Select date and time",transfer:""},model:{value:t.modalNew.gfEndTime,callback:function(e){t.$set(t.modalNew,"gfEndTime",e)},expression:"modalNew.gfEndTime"}})],1)],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"开始时间："}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"Select date and time",transfer:""},model:{value:t.modalNew.tzBeginTime,callback:function(e){t.$set(t.modalNew,"tzBeginTime",e)},expression:"modalNew.tzBeginTime"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{span:"6"}},[t._v("截止时间：")]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"Select date and time",transfer:""},model:{value:t.modalNew.tzEndTime,callback:function(e){t.$set(t.modalNew,"tzEndTime",e)},expression:"modalNew.tzEndTime"}})],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalNew.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.newAdd}},[t._v("保存")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"600",closable:!0},model:{value:t.modalEdit.show,callback:function(e){t.$set(t.modalEdit,"show",e)},expression:"modalEdit.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("时间修改")]),t._v(" "),a("div",{staticClass:"modal-header"},[a("Row",[a("Col",{attrs:{span:"12"}},[a("div",[t._v("彩种："+t._s(t.modalEdit.gameName))])]),t._v(" "),a("Col",{attrs:{span:"10"}},[a("div",[t._v("期次："+t._s(t.modalEdit.qihao))])])],1)],1),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":100,label:"官方开始时间："}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"Select date and time",transfer:""},model:{value:t.modalEdit.gfBeginTime,callback:function(e){t.$set(t.modalEdit,"gfBeginTime",e)},expression:"modalEdit.gfBeginTime"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{span:"6"}},[t._v("官方截止时间：")]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"Select date and time",transfer:""},model:{value:t.modalEdit.gfEndTime,callback:function(e){t.$set(t.modalEdit,"gfEndTime",e)},expression:"modalEdit.gfEndTime"}})],1)],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"开始时间："}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"Select date and time",transfer:""},model:{value:t.modalEdit.tzBeginTime,callback:function(e){t.$set(t.modalEdit,"tzBeginTime",e)},expression:"modalEdit.tzBeginTime"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{span:"6"}},[t._v("截止时间：")]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"Select date and time",transfer:""},model:{value:t.modalEdit.tzEndTime,callback:function(e){t.$set(t.modalEdit,"tzEndTime",e)},expression:"modalEdit.tzEndTime"}})],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalEdit.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.editLotQh}},[t._v("保存")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"480",closable:!0},model:{value:t.modalRun.show,callback:function(e){t.$set(t.modalRun,"show",e)},expression:"modalRun.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("开奖")]),t._v(" "),a("div",{staticClass:"modal-header"},[a("Row",[a("Col",{attrs:{span:"12"}},[a("div",[t._v("彩种："+t._s(t.modalRun.gameName))])]),t._v(" "),a("Col",{attrs:{span:"10"}},[a("div",[t._v("期次："+t._s(t.modalRun.qihao))])])],1)],1),t._v(" "),a("Form",[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":100,label:"数据源A："}},[a("div",{staticStyle:{color:"green","font-size":"1rem"}},[t._v(t._s(t.modalRun.dataSource1))])]),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.showSourceModifyModal(1)}}},[t._v("修改")])],1)],1),t._v(" "),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":100,label:"数据源B："}},[a("div",{staticStyle:{color:"green","font-size":"1rem"}},[t._v(t._s(t.modalRun.dataSource2))])]),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.showSourceModifyModal(2)}}},[t._v("修改")])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"开奖号码："}},[a("Input",{staticStyle:{width:"160px"},attrs:{clearable:!0,placeholder:"请输入开奖号码"},model:{value:t.modalRun.kjhm,callback:function(e){t.$set(t.modalRun,"kjhm",e)},expression:"modalRun.kjhm"}}),t._v(" "),a("p",{staticStyle:{"text-decoration":"underline",color:"red"}},[t._v("填写格式：数字+英文下的逗号")])],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"开奖验证："}},[a("Input",{staticStyle:{width:"160px"},attrs:{clearable:!0,placeholder:"请输入验证密码",type:"password"},model:{value:t.modalRun.pwd,callback:function(e){t.$set(t.modalRun,"pwd",e)},expression:"modalRun.pwd"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"备注："}},[a("Input",{staticStyle:{width:"160px"},attrs:{clearable:!0,type:"textarea",autosize:!0,placeholder:"请输入开奖备注"},model:{value:t.modalRun.remak,callback:function(e){t.$set(t.modalRun,"remak",e)},expression:"modalRun.remak"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalRun.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.runLottery}},[t._v("开奖")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"360",closable:!0},model:{value:t.modalModify.show,callback:function(e){t.$set(t.modalModify,"show",e)},expression:"modalModify.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("数据源"+t._s(t.modalModify.isReadonlyA?"B":"A")+"修改")]),t._v(" "),a("Form",[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":100,label:"数据源A："}},[a("Input",{staticStyle:{color:"green","font-size":"1rem"},attrs:{readonly:t.modalModify.isReadonlyA},model:{value:t.modalModify.sourceA,callback:function(e){t.$set(t.modalModify,"sourceA",e)},expression:"modalModify.sourceA"}})],1)],1),t._v(" "),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":100,label:"数据源B："}},[a("Input",{attrs:{readonly:t.modalModify.isReadonlyB},model:{value:t.modalModify.sourceB,callback:function(e){t.$set(t.modalModify,"sourceB",e)},expression:"modalModify.sourceB"}})],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:""}},[a("p",{staticStyle:{"text-decoration":"underline",color:"red"}},[t._v("填写格式：数字+英文下的逗号")])])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalModify.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.saveSourceModify}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var de=a("VU/8")(se,le,!1,function(t){a("IijS")},"data-v-9176b83c",null).exports,ce={name:"LotteryRate",data:function(){var t=this;return{lotID:"",subID:"",lotteryListData:[],childGameList:[],tableData1:[],curTableData:[],page:1,pageSize:15,pageTotal:0,columns1:[{title:"子玩法",key:"subName",align:"center",minWidth:160},{title:"子选项",key:"optName",align:"center",minWidth:100},{title:"基础值",key:"baseVal",align:"center",minWidth:100},{title:"基础赔率",key:"baseOdd",align:"center",minWidth:100},{title:"单注奖金",key:"odd",align:"center",minWidth:100},{title:"操作",key:"baseOdd",align:"center",minWidth:100,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},on:{click:function(){t.editCfg.modalEdit=!0,t.editCfg.editData=a.row,t.editCfg.editRate=a.row.baseOdd}}},"修改")])}}],editCfg:{modalEdit:!1,editRate:0,editData:[]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getLotteryListData(),this.$nextTick(function(){})},methods:{getLotteryListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotteryListData=e.data._param.list,t.$nextTick(function(){t.lotID=e.data._param.default,t.getLotteryChildListData(),t.search(0)})})},getLotteryChildListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryOpt",_check:"",_param:{appid:12,gameid:Number(this.lotID)}}).then(function(e){t.childGameList=e.data._param.list})},search:function(t){var e=this;if(""==this.lotID)return this.$Message.error("请选择彩票彩种");this.tableData1=[],X({_mod:"jcmanager",_func:"GetLotteryOdd",_check:"",_param:{appid:12,gameid:Number(this.lotID),subType:Number(this.subID)||0}}).then(function(a){0==t&&(e.page=1),void 0==a.data._param.list?e.tableData1=[]:e.tableData1=a.data._param.list,e.curTableData=e.getPageData(e.page,e.tableData1),e.pageTotal=e.tableData1.length})},pageChange:function(t){this.page=t,this.curTableData=this.getPageData(t,this.tableData1)},getPageData:function(t,e){var a=(t-1)*this.pageSize,i=t*this.pageSize;return e.slice(a,i)},editBaseOdd:function(){var t=this;X({_mod:"jcmanager",_func:"UpdateLotteryOdd",_check:"",_param:{appid:12,gameid:Number(this.editCfg.editData.gameid),subType:Number(this.editCfg.editData.subType),optid:Number(this.editCfg.editData.optid),baseOdd:Number(this.editCfg.editRate)}}).then(function(e){t.$Message.success("修改赔率成功"),t.editCfg.modalEdit=!1,t.search()})},onLotSelect:function(t){this.getLotteryChildListData(),this.subID=""}}},me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onLotSelect},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.lotteryListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"子玩法"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.subID,callback:function(e){t.subID=e},expression:"subID"}},t._l(t.childGameList,function(e){return a("Option",{key:e.subType,attrs:{value:e.subType}},[t._v(t._s(e.subName))])}))],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.curTableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.curTableData.length,expression:"curTableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pageSize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,closable:!0,width:"400"},model:{value:t.editCfg.modalEdit,callback:function(e){t.$set(t.editCfg,"modalEdit",e)},expression:"editCfg.modalEdit"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("子选项奖金设置修改")]),t._v(" "),a("p",{staticClass:"modal-title"},[t._v("\n            彩种："+t._s(t.editCfg.editData.name)+"\n            "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("子玩法："+t._s(t.editCfg.editData.subName))]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("子选项："+t._s(t.editCfg.editData.optName))])]),t._v(" "),a("Form",{staticStyle:{"padding-left":"10px"},attrs:{"label-position":"left"}},[a("FormItem",{attrs:{label:"基数值:","label-width":70}},[a("div",[t._v(t._s(t.editCfg.editData.baseVal))])]),t._v(" "),a("FormItem",{attrs:{label:"赔率:","label-width":70}},[a("InputNumber",{staticStyle:{},attrs:{min:0,max:1,step:.001},model:{value:t.editCfg.editRate,callback:function(e){t.$set(t.editCfg,"editRate",e)},expression:"editCfg.editRate"}})],1),t._v(" "),a("FormItem",{attrs:{label:"中奖金额:","label-width":70}},[a("div",[t._v(t._s(Math.floor(t.editCfg.editData.baseVal*t.editCfg.editRate*100)/100))])])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.editCfg.modalEdit=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.editBaseOdd}},[t._v("确认修改")])],1)],1)],1)},staticRenderFns:[]};var ue=a("VU/8")(ce,me,!1,function(t){a("Vm+M")},"data-v-063d875d",null).exports,pe={name:"LotteryLimit",data:function(){var t=this;return{lotID:"",lotteryListData:[],childGameList:[],tableData1:[],curTableData:[],page:1,pageSize:15,pageTotal:0,columns1:[{title:"子玩法",key:"subName",align:"center",minWidth:160},{title:"最大选号数",key:"maxNums",align:"center",minWidth:100},{title:"单注金额",key:"price",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.price/100)}},{title:"个人投注限额",key:"perLimit",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.perLimit/100)}},{title:"累计投注限额",key:"sumLimit",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.sumLimit/100)}},{title:"操作",key:"baseOdd",align:"center",minWidth:100,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},on:{click:function(){t.editCfg.modalEdit=!0,t.editCfg.editData=a.row,t.editCfg.maxNums=a.row.maxNums,t.editCfg.price=a.row.price/100,t.editCfg.perLimit=a.row.perLimit/100,t.editCfg.sumLimit=a.row.sumLimit/100}}},"修改")])}}],editCfg:{modalEdit:!1,editData:[],maxNums:0,price:0,perLimit:0,sumLimit:0}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getLotteryListData(),this.$nextTick(function(){})},methods:{getLotteryListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotteryListData=e.data._param.list,t.$nextTick(function(){t.lotID=e.data._param.default,t.search(0)})})},search:function(t){var e=this;if(""==this.lotID)return this.$Message.error("请选择彩票彩种");this.tableData1=[],X({_mod:"jcmanager",_func:"GetLotteryCfg",_check:"",_param:{appid:12,gameid:Number(this.lotID)}}).then(function(a){0==t&&(e.page=1),void 0==a.data._param.list?e.tableData1=[]:e.tableData1=a.data._param.list,e.curTableData=e.getPageData(e.page,e.tableData1),e.pageTotal=e.tableData1.length})},pageChange:function(t){this.page=t,this.curTableData=this.getPageData(t,this.tableData1)},getPageData:function(t,e){var a=(t-1)*this.pageSize,i=t*this.pageSize;return e.slice(a,i)},updateLotCfg:function(){var t=this;X({_mod:"jcmanager",_func:"UpdateLotteryCfg",_check:"",_param:{appid:12,gameid:Number(this.editCfg.editData.gameid),subType:Number(this.editCfg.editData.subType),maxNums:Number(this.editCfg.maxNums),price:100*Number(this.editCfg.price),perLimit:100*Number(this.editCfg.perLimit),sumLimit:100*Number(this.editCfg.sumLimit)}}).then(function(e){t.$Message.success("修改赔率成功"),t.editCfg.modalEdit=!1,t.search()})},onLotSelect:function(t){console.error(t)}}},he={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onLotSelect},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.lotteryListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.curTableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.curTableData.length,expression:"curTableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pageSize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,closable:!0,width:"320"},model:{value:t.editCfg.modalEdit,callback:function(e){t.$set(t.editCfg,"modalEdit",e)},expression:"editCfg.modalEdit"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("子选项信息修改")]),t._v(" "),a("p",{staticClass:"modal-title"},[t._v("\n            彩种："+t._s(t.editCfg.editData.name)+"\n            "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("子玩法："+t._s(t.editCfg.editData.subName))])]),t._v(" "),a("Form",{staticStyle:{"padding-left":"10px"},attrs:{"label-position":"left"}},[a("FormItem",{attrs:{label:"最大选号数:","label-width":80}},[a("InputNumber",{staticStyle:{},attrs:{min:0},model:{value:t.editCfg.maxNums,callback:function(e){t.$set(t.editCfg,"maxNums",e)},expression:"editCfg.maxNums"}})],1),t._v(" "),a("FormItem",{attrs:{label:"单注金额:","label-width":80}},[a("InputNumber",{staticStyle:{},attrs:{min:0},model:{value:t.editCfg.price,callback:function(e){t.$set(t.editCfg,"price",e)},expression:"editCfg.price"}})],1),t._v(" "),a("FormItem",{attrs:{label:"个人投注限额:","label-width":90}},[a("InputNumber",{staticStyle:{},attrs:{min:0},model:{value:t.editCfg.perLimit,callback:function(e){t.$set(t.editCfg,"perLimit",e)},expression:"editCfg.perLimit"}})],1),t._v(" "),a("FormItem",{attrs:{label:"累计投注限额:","label-width":90}},[a("InputNumber",{staticStyle:{},attrs:{min:0},model:{value:t.editCfg.sumLimit,callback:function(e){t.$set(t.editCfg,"sumLimit",e)},expression:"editCfg.sumLimit"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.editCfg.modalEdit=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.updateLotCfg}},[t._v("确认修改")])],1)],1)],1)},staticRenderFns:[]};var fe,ge=a("VU/8")(pe,he,!1,function(t){a("3619")},"data-v-e0f277ce",null).exports,_e=a("pFYg"),ve=a.n(_e),be=(fe={},te()(fe,1,1),te()(fe,2,1),te()(fe,3,2),te()(fe,4,2),te()(fe,5,1),te()(fe,6,1),te()(fe,7,1),te()(fe,8,1),te()(fe,9,2),te()(fe,10,2),te()(fe,11,1),te()(fe,12,1),te()(fe,13,1),te()(fe,14,2),te()(fe,15,2),te()(fe,16,3),te()(fe,17,3),te()(fe,18,1),te()(fe,19,1),te()(fe,20,2),te()(fe,21,3),te()(fe,22,3),te()(fe,23,1),te()(fe,24,1),te()(fe,25,2),te()(fe,26,2),te()(fe,27,3),te()(fe,28,3),te()(fe,29,1),te()(fe,30,1),te()(fe,31,2),te()(fe,32,3),te()(fe,33,3),te()(fe,34,1),te()(fe,35,1),te()(fe,36,2),te()(fe,37,2),te()(fe,38,3),te()(fe,39,3),te()(fe,40,1),te()(fe,41,2),te()(fe,42,2),te()(fe,43,3),te()(fe,44,3),te()(fe,45,1),te()(fe,46,1),te()(fe,47,2),te()(fe,48,2),te()(fe,49,3),fe);var we={name:"LotteryOrder",data:function(){var t=this;return{gameStateCfg:[{id:1,text:"待开奖"},{id:2,text:"已中奖"},{id:3,text:"未中奖"}],date:[S(0,null,!0).from,S(0,null,!0).to],lotID:"",lotState:"",searchUid:"",orderID:"",betPoint:0,page:1,pagesize:15,lotListData:[],subtypeOptMap:{},packListData:[],pack_id:"",allData:[],tableData1:[],pageTotal:0,shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;t=new Date(1e3*parseInt(t/1e3));var e=new Date((new Date).setHours(0,0,0,0))-1;return[t,e=new Date(1e3*parseInt(e/1e3))]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1)]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1)]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1)]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1)]}}]},columns1:[{title:"订单号",key:"orderid",align:"center",minWidth:160},{title:"玩家ID",key:"uid",align:"center",minWidth:100},{title:"投注金额",key:"tzPoint",align:"center",sortable:!0,minWidth:105,render:function(e,a){return e("a",{on:{click:function(){t.$router.push({path:"/home/mallAdminister/waterdata",query:{gid:a.row.gameid,stype:32,back:1}})}}},a.row.tzPoint/100)}},{title:"代理佣金",key:"sharePoint",align:"center",sortable:!0,minWidth:105,render:function(t,e){return t("span",e.row.sharePoint/100)}},{title:"中奖状态",key:"status",align:"center",minWidth:100,render:function(e,a){return e("span",t.getStateStr(a.row.status))}},{title:"中奖金额",key:"hitPoint",align:"center",sortable:!0,minWidth:105,render:function(t,e){return t("span",e.row.hitPoint/100)}},{title:"投注彩种",key:"name",align:"center",minWidth:100},{title:"子玩法",key:"tzInfo",align:"center",minWidth:100,render:function(e,a){var i=JSON.parse(a.row.tzInfo);return null==i||null==i[0]?e("span",""):e("span",t.subtypeOptMap[i[0].subType].subName)}},{title:"投注项",key:"tzInfo",align:"center",minWidth:240,render:function(e,a){var i=JSON.parse(a.row.tzInfo);return null==i||null==i[0]?e("span",""):e("span",t.getBetItemStrCN(i[0].tzhm,i[0].subType))}},{title:"投注期次",key:"qihao",align:"center",sortable:!0,minWidth:120},{title:"投注时间",key:"orderTime",align:"center",sortable:!0,minWidth:130},{title:"操作",key:"orderid",align:"center",minWidth:100,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},on:{click:function(){t.detailCfg.modalShow=!0,t.detailCfg.detailData=a.row;var e=function(t,e,a,i){var n=!1;if(3101101==e||"六合彩"===a){var o=t.split(","),r="";n=!0;for(var s=0;s<o.length;s++){var l=Number(o[s]);0!=s&&(r+=",");var d=be[l];1===d&&(r=r+"<span style='color:#ff0000'>"+o[s]+"</span>"),2===d&&(r=r+"<span style='color:#0000ff'>"+o[s]+"</span>"),3===d&&(r=r+"<span style='color:#00ff00'>"+o[s]+"</span>")}return[r,n]}return[t,n]}(t.detailCfg.detailData.kjhm,t.detailCfg.detailData.gameid,t.detailCfg.detailData.name);t.detailCfg.hitStr=e[0]||"未开奖",t.detailCfg.isHtml=e[1],a.row.tzInfo&&(t.detailCfg.betDetail=JSON.parse(a.row.tzInfo))}}},"详情")])}}],detailCfg:{modalShow:!1,detailData:[],betDetail:[],isHtml:!1,betTable:[{title:"子玩法",key:"subType",align:"center",render:function(e,a){return e("span",t.subtypeOptMap[a.row.subType].subName)}},{title:"投注项",key:"tzhm",align:"center",width:200,render:function(e,a){return e("span",t.getBetItemStrCN(a.row.tzhm,a.row.subType))}},{title:"投注数",key:"tz_nums",align:"center"},{title:"投注倍数",key:"mult",align:"center"},{title:"投注金额",key:"tz_point",align:"center",render:function(t,e){return t("span",void 0==e.row.tz_point?"0":e.row.tz_point/100)}},{title:"中奖金额",key:"tz_point",align:"center",render:function(e,a){return e("span",void 0==t.detailCfg.detailData.hitPoint?"0":t.detailCfg.detailData.hitPoint/100)}}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getPackList(),this.getLotListData()},methods:{getPackList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackAllList",_check:"",_param:{}}).then(function(e){t.packListData=e.data._param.pack_list})},getLotListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotListData=e.data._param.list,t.$nextTick(function(){t.lotID=e.data._param.default,t.getLotteryChildListData()})})},search:function(t){var e=this;if(""==this.date[0]||""==this.date[1])return this.$Message.error("请选择正确的时间查询");0==t&&(this.page=1),this.tableData1=[],X({_mod:"jcmanager",_func:"GetLotteryOrder",_check:"",_param:{appid:12,gameid:this.lotID,beginTime:this.date[0]&&Math.round(this.date[0].getTime()/1e3)||0,endTime:this.date[1]&&Math.round(this.date[1].getTime()/1e3)||0,status:Number(this.lotState)||0,uid:Number(this.searchUid)||0,orderid:this.orderID,packNo:Number(this.pack_id),point:100*this.betPoint||0,page:this.page,pagesize:this.pagesize}}).then(function(t){e.allData=t.data._param||[],void 0==t.data._param.list?e.tableData1=[]:e.tableData1=t.data._param.list,e.pageTotal=t.data._param.total||0})},pageChange:function(t){this.page=t,this.search()},getLotteryChildListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryOpt",_check:"",_param:{appid:12,gameid:Number(this.lotID)}}).then(function(e){t.childGameList=e.data._param.list,t.createSubOptMap(t.childGameList),t.search(0)})},onLotSelect:function(t){this.getLotteryChildListData()},createSubOptMap:function(t){for(var e=0;e<t.length;e++){var a=t[e].subType;this.subtypeOptMap[a]=t[e]}},getBetItemStrCN:function(t,e){var a="";if(this.subtypeOptMap[e]){var i=JSON.parse(this.subtypeOptMap[e].optName);if(i[t])a=i[t];else{if("string"==typeof t)for(var n=t.split(","),o=0;o<n.length;o++){var r=n[o];o>0&&(a+=","),i[r]&&(a+=i[r])}if("object"==(void 0===t?"undefined":ve()(t))){var s=JSON.parse(this.subtypeOptMap[e].optName);for(var l in t)t[l]&&!C(t[l])&&(a=a+s[l]+":"+t[l]+"  ")}}}return a},getStateStr:function(t){for(var e="",a=0;a<this.gameStateCfg.length;a++)if(t==this.gameStateCfg[a].id){e=this.gameStateCfg[a].text;break}return e}}},ye={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onLotSelect},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"275px"},attrs:{type:"datetimerange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"中奖状态"}},[a("Select",{staticStyle:{width:"70px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.lotState,callback:function(e){t.lotState=e},expression:"lotState"}},t._l(t.gameStateCfg,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":50,label:"渠道号"}},[a("Input",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.pack_id,callback:function(e){t.pack_id=e},expression:"pack_id"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":50,label:"玩家ID"}},[a("Input",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"请输入查询ID"},model:{value:t.searchUid,callback:function(e){t.searchUid=e},expression:"searchUid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":50,label:"订单号"}},[a("Input",{staticStyle:{width:"120px"},attrs:{clearable:!0,placeholder:"请输入查询订单号"},model:{value:t.orderID,callback:function(e){t.orderID=e},expression:"orderID"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":75,label:"投注金额＞"}},[a("InputNumber",{attrs:{min:0},model:{value:t.betPoint,callback:function(e){t.betPoint=e},expression:"betPoint"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{staticClass:"total-info"},[a("span",[t._v("总投注金额："+t._s(t.allData.total_tzpoint/100)+"     总中奖金额："+t._s(t.allData.total_hitpoint/100))])]),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData1.length,expression:"tableData1.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"680",closable:!0},model:{value:t.detailCfg.modalShow,callback:function(e){t.$set(t.detailCfg,"modalShow",e)},expression:"detailCfg.modalShow"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("订单详情")]),t._v(" "),a("div",{staticClass:"modal-content"},[t.detailCfg.isHtml?t._e():a("p",{staticStyle:{"text-align":"right","padding-right":".8rem"}},[t._v("开奖号码："+t._s(t.detailCfg.detailData.kjhm||"未开奖")+" ")]),t._v(" "),t.detailCfg.isHtml?a("div",{staticStyle:{"text-align":"right","padding-right":".8rem"}},[a("div",[t._v("开奖号码："),a("span",{domProps:{innerHTML:t._s(t.detailCfg.hitStr)}},[t._v(t._s(t.detailCfg.hitStr))])]),t._v(" "),t.detailCfg.detailData.remake?a("div",[t._v("对应生肖："+t._s(t.detailCfg.detailData.remake))]):t._e()]):t._e(),t._v(" "),a("p",[t._v("期次："+t._s(t.detailCfg.detailData.qihao))]),t._v(" "),a("p",[t._v("投注时间："+t._s(t.detailCfg.detailData.orderTime))]),t._v(" "),a("p",[t._v("投注单号："+t._s(t.detailCfg.detailData.orderid))])]),t._v(" "),a("Table",{attrs:{border:"",columns:t.detailCfg.betTable,data:t.detailCfg.betDetail}})],1)],1)},staticRenderFns:[]};var ke={name:"LotteryUserLimit",data:function(){var t=this;return{lotID:"",searchUid:"",page:1,pagesize:15,lotListData:[],lotGameMap:{},childGameList:[],subtypeOptMap:{},gidSubtypeMap:{},tableData1:[],pageTotal:0,columns1:[{title:"用户ID",key:"uid",align:"center",minWidth:80},{title:"用户昵称",key:"name",align:"center",minWidth:120},{title:"子玩法",key:"subtype",align:"center",minWidth:100,render:function(e,a){return e("span",t.subtypeOptMap[a.row.subtype].subName)}},{title:"开始期号",key:"sqihao",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.sqihao||"无")}},{title:"结束期号",key:"eqihao",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.eqihao||"无")}},{title:"最大选号",key:"maxNum",align:"center",minWidth:100},{title:"单注金额",key:"onePoint",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.onePoint/100)}},{title:"每次最低投注",key:"minbet",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.minbet/100)}},{title:"用户限额",key:"limitbet",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.limitbet/100)}},{title:"计入限制总额",key:"is_flag_0",align:"center",minWidth:100,render:function(t,e){return t("span",0==e.row.is_flag_0?"否":"是")}},{title:"计入动态赔率",key:"is_flag_1",align:"center",minWidth:100,render:function(t,e){return t("span",0==e.row.is_flag_1?"否":"是")}},{title:"操作",key:"id",align:"center",width:160,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){t.modalModify.show=!0,t.modalModify.id=a.row.id,t.modalModify.perMinBuy=a.row.minbet/100,t.modalModify.userLimit=a.row.limitbet/100,t.modalModify.selectGame=t.lotGameMap[a.row.gameid].name,t.modalModify.selectSubGame=t.subtypeOptMap[a.row.subtype].subName,t.modalModify.is_flag_0=String(a.row.is_flag_0),t.modalModify.is_flag_1=String(a.row.is_flag_1)}}},"修改"),e("Button",{props:{type:"primary"},on:{click:function(){t.modalDel.id=a.row.id,t.modalDel.show=!0}}},"删除")])}}],modalAddNew:{show:!1,selectLotID:"",selectSubID:"",uid:"",perBetMoney:0,maxChooseNum:0,perMinBuy:1,userLimit:0,sqihao:"",eqihao:"",childList:[]},modalModify:{show:!1,id:0,selectData:[],selectGame:"",selectSubGame:"",perBetMoney:0,maxChooseNum:0,perMinBuy:1,userLimit:0,modal_loading:!1,is_flag_0:0,is_flag_1:0},modalDel:{show:!1,id:0,modal_loading:!1}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getLotListData()},methods:{getLotListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotListData=e.data._param.list,t.createLotMap(t.lotListData),t.$nextTick(function(){t.lotID=e.data._param.default,t.getLotteryChildListData(t.lotID,1,!0)})})},search:function(t){var e=this;0==t&&(this.page=1),this.tableData1=[],X({_mod:"jcmanager",_func:"GetUserLimit",_check:"",_param:{gameid:this.lotID,user_id:Number(this.searchUid)||0,page:this.page,limit:this.pagesize}}).then(function(t){e.subtypeOptMap=e.gidSubtypeMap[e.lotID],void 0==t.data._param.data?e.tableData1=[]:e.tableData1=t.data._param.data,e.pageTotal=t.data._param.total})},pageChange:function(t){this.page=t,this.search()},getLotteryChildListData:function(t,e,a){var i=this;this.gidSubtypeMap[t]?(1==e&&(this.childGameList=this.gidSubtypeMap[t]),2==e&&(this.modalAddNew.childList=this.gidSubtypeMap[t]),a&&this.search(0)):X({_mod:"jcmanager",_func:"GetLotteryOpt",_check:"",_param:{appid:12,gameid:Number(t)}}).then(function(n){i.createGidSubOptMap(n.data._param.list,t),1==e&&(i.childGameList=i.gidSubtypeMap[t]),2==e&&(i.modalAddNew.childList=i.gidSubtypeMap[t]),a&&i.search(0)})},createLotMap:function(t){for(var e=0;e<t.length;e++){var a=t[e].gameid;this.lotGameMap[a]=t[e]}},createGidSubOptMap:function(t,e){if(!this.gidSubtypeMap[e]){for(var a={},i=0;i<t.length;i++){a[t[i].subType]=t[i]}this.gidSubtypeMap[e]=a}},reqGetTempLimit:function(t){var e=this,a=JSON.parse(t.tzInfo);X({_mod:"jcmanager",_func:"GetSysLimit",_check:"",_param:{gameid:t.gameid,subtype:a[0].subType}}).then(function(t){e.modalModify.show=!0,e.modalModify.data=t.data._param,e.modalModify.betLimit=t.data._param.limitpoint/100||0,e.modalModify.minbet=t.data._param.onepoint/100})},openAddModal:function(){this.modalAddNew.show=!0,this.modalAddNew.selectLotID=this.lotID,this.modalAddNew.selectSubID="",this.modalAddNew.uid="",this.modalAddNew.sqihao="",this.modalAddNew.eqihao="",this.modalAddNew.childList=this.gidSubtypeMap[this.lotID]},onLotSelect:function(t){this.getLotteryChildListData(this.lotID,1,!0)},onModalLotSelect:function(t){this.modalAddNew.selectSubID="",this.getLotteryChildListData(this.modalAddNew.selectLotID,2,!1)},handleAdd:function(){var t=this;if(""==this.modalAddNew.uid||isNaN(Number(this.modalAddNew.uid)))return this.$Message.error("请输入正确的用户ID");X({_mod:"jcmanager",_func:"AddUserLimit",_check:"",_param:{user_id:Number(this.modalAddNew.uid),gameid:this.modalAddNew.selectLotID,subtype:this.modalAddNew.selectSubID,sqihao:this.modalAddNew.sqihao,eqihao:this.modalAddNew.eqihao,minbet:100*this.modalAddNew.perMinBuy,limitbet:100*this.modalAddNew.userLimit}}).then(function(e){t.$Message.success("新增成功"),t.search(0)})},handleModify:function(){var t=this;this.modalModify.modal_loading=!0;var e={_mod:"jcmanager",_func:"updateUserLimit",_check:"",_param:{id:this.modalModify.id,type:0,minbet:100*this.modalModify.perMinBuy,limitbet:100*this.modalModify.userLimit,sqihao:this.modalModify.sqihao,eqihao:this.modalModify.eqihao,is_flag_0:Number(this.modalModify.is_flag_0),is_flag_1:Number(this.modalModify.is_flag_1)}};setTimeout(function(){t.modalModify.modal_loading=!1},5e3),X(e).then(function(e){t.modalModify.show=!1,t.modalModify.modal_loading=!1,t.$Message.success("修改成功"),t.search()})},handleDelete:function(){var t=this;this.modalDel.modal_loading=!0;var e={_mod:"jcmanager",_func:"updateUserLimit",_check:"",_param:{id:this.modalDel.id,type:1}};setTimeout(function(){t.modalDel.modal_loading=!1},5e3),X(e).then(function(e){t.$Message.success("删除成功"),t.modalDel.show=!1,t.modalDel.modal_loading=!1,t.search()})}}},De={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onLotSelect},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"用户ID"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入查询用户ID"},model:{value:t.searchUid,callback:function(e){t.searchUid=e},expression:"searchUid"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.openAddModal}},[t._v("新增配置")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData1.length,expression:"tableData1.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{width:"480",closable:!0,draggable:""},model:{value:t.modalAddNew.show,callback:function(e){t.$set(t.modalAddNew,"show",e)},expression:"modalAddNew.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("用户限额新增配置")]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":100,label:"选择彩种："}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onModalLotSelect},model:{value:t.modalAddNew.selectLotID,callback:function(e){t.$set(t.modalAddNew,"selectLotID",e)},expression:"modalAddNew.selectLotID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"子玩法："}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",clearable:!0,transfer:""},model:{value:t.modalAddNew.selectSubID,callback:function(e){t.$set(t.modalAddNew,"selectSubID",e)},expression:"modalAddNew.selectSubID"}},t._l(t.modalAddNew.childList,function(e){return a("Option",{key:e.subType,attrs:{value:e.subType}},[t._v(t._s(e.subName))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"用户ID"}},[a("Input",{staticStyle:{width:"120px"},attrs:{clearable:!0,placeholder:"请输入用户ID"},model:{value:t.modalAddNew.uid,callback:function(e){t.$set(t.modalAddNew,"uid",e)},expression:"modalAddNew.uid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"期次："}},[a("Form",{attrs:{inline:""}},[a("FormItem",[a("Input",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"输入开始期号"},model:{value:t.modalAddNew.sqihao,callback:function(e){t.$set(t.modalAddNew,"sqihao",e)},expression:"modalAddNew.sqihao"}})],1),t._v(" "),a("FormItem",[a("Input",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"输入结束期号"},model:{value:t.modalAddNew.eqihao,callback:function(e){t.$set(t.modalAddNew,"eqihao",e)},expression:"modalAddNew.eqihao"}})],1)],1),t._v(" "),a("div",[t._v("提示：不输入期次则默认永久")])],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"每次最低投注："}},[a("InputNumber",{attrs:{min:1},model:{value:t.modalAddNew.perMinBuy,callback:function(e){t.$set(t.modalAddNew,"perMinBuy",e)},expression:"modalAddNew.perMinBuy"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"30px"}},[t._v("提示：每次下注起步金额投注")])],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"用户限额："}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalAddNew.userLimit,callback:function(e){t.$set(t.modalAddNew,"userLimit",e)},expression:"modalAddNew.userLimit"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"30px"}},[t._v("提示：单个用户当前玩法投注限制")])],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalAddNew.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.handleAdd}},[t._v("确认")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"360",closable:!0},model:{value:t.modalModify.show,callback:function(e){t.$set(t.modalModify,"show",e)},expression:"modalModify.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("用户限额修改")]),t._v(" "),a("p",{staticClass:"modal-title"},[t._v("\n            彩种："+t._s(t.modalModify.selectGame)+"\n            "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("子玩法："+t._s(t.modalModify.selectSubGame))])]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":100,label:"每次最低投注："}},[a("InputNumber",{attrs:{min:1},model:{value:t.modalModify.perMinBuy,callback:function(e){t.$set(t.modalModify,"perMinBuy",e)},expression:"modalModify.perMinBuy"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"用户限额："}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalModify.userLimit,callback:function(e){t.$set(t.modalModify,"userLimit",e)},expression:"modalModify.userLimit"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"计入限制总额："}},[a("Radio-group",{model:{value:t.modalModify.is_flag_0,callback:function(e){t.$set(t.modalModify,"is_flag_0",e)},expression:"modalModify.is_flag_0"}},[a("Radio",{attrs:{label:"1"}},[t._v("是")]),t._v(" "),a("Radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"计入动态赔率："}},[a("Radio-group",{model:{value:t.modalModify.is_flag_1,callback:function(e){t.$set(t.modalModify,"is_flag_1",e)},expression:"modalModify.is_flag_1"}},[a("Radio",{attrs:{label:"1"}},[t._v("是")]),t._v(" "),a("Radio",{attrs:{label:"0"}},[t._v("否")])],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalModify.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success",loading:t.modalModify.modal_loading},on:{click:t.handleModify}},[t._v("确认修改")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalDel.show,callback:function(e){t.$set(t.modalDel,"show",e)},expression:"modalDel.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("再次确认")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("确认后，将删除该条用户限额配置。")]),t._v(" "),a("p",[t._v("是否确认删除？")])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning",size:"large",long:"",loading:t.modalDel.modal_loading},on:{click:t.handleDelete}},[t._v("确认")])],1)])],1)},staticRenderFns:[]};var xe={name:"LotteryModifyLog",data:function(){var t=this;return{date:[S(0).from,S(0).to],lotID:"",page:1,pagesize:15,lotListData:[],lotMap:{},tableData1:[],pageTotal:0,shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]},columns1:[{title:"记录",type:"index",align:"center",minWidth:60},{title:"彩种名称",key:"gameid",align:"center",minWidth:100,render:function(e,a){return e("span",t.lotMap[a.row.gameid].name||a.row.gameid)}},{title:"期次",key:"qihao",align:"center",minWidth:100},{title:"原开奖号码",key:"olb_kjhm",align:"center",minWidth:160,render:function(t,e){return t("span",e.row.olb_kjhm)}},{title:"变更号码",key:"new_kjhm",align:"center",minWidth:160,render:function(t,e){return t("span",e.row.new_kjhm)}},{title:"操作时间",key:"ptime",minWidth:100,align:"center"},{title:"操作人员",key:"name",align:"center",minWidth:100},{title:"备注",key:"remak",align:"center",minWidth:100}]}},filters:{isNull:function(t){return void 0==t?"0":t}},created:function(){this.getLotListData()},methods:{getLotListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotListData=e.data._param.list,t.$nextTick(function(){t.lotID=e.data._param.default,t.search(0)}),t.setLotMap()})},search:function(t){var e=this;if(""==this.lotID)return this.$Message.error("请选择彩票彩种");0==t&&(this.page=1),this.tableData1=[],X({_mod:"jcmanager",_func:"GetUpdateKjhm",_check:"",_param:{gameid:this.lotID,stime:this.date[0]&&Math.round(this.date[0].getTime()/1e3)||0,etime:this.date[1]&&Math.round(this.date[1].getTime()/1e3+86400-1)||0,page:this.page,limit:this.pagesize}}).then(function(t){void 0==t.data._param.data?e.tableData1=[]:e.tableData1=t.data._param.data,e.pageTotal=t.data._param.total})},pageChange:function(t){this.page=t,this.search()},setLotMap:function(){if(null!=this.lotListData&&!C(this.lotListData))for(var t=0;t<this.lotListData.length;t++){var e=this.lotListData[t].gameid;this.lotMap[e]=this.lotListData[t]}}}},Ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData1.length,expression:"tableData1.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}})],1)},staticRenderFns:[]};var Me={name:"LotteryUserRate",data:function(){var t=this;return{lotID:"",searchUid:"",page:1,pagesize:15,lotListData:[],lotGameMap:{},childGameList:[],subID:"",subtypeOptMap:{},gidSubtypeMap:{},tableData1:[],pageTotal:0,columns1:[{title:"用户ID",key:"uid",align:"center",minWidth:80},{title:"用户昵称",key:"username",align:"center",minWidth:120},{title:"子玩法",key:"sub_type",align:"center",minWidth:100,render:function(e,a){return e("span",t.subtypeOptMap[a.row.sub_type].subName)}},{title:"子选项",key:"optname",align:"center",minWidth:100},{title:"基础值",key:"baseVal",align:"center",minWidth:100},{title:"基础倍率",key:"baseOdd",align:"center",minWidth:100},{title:"单注奖金",key:"oneOdd",align:"center",minWidth:100,render:function(t,e){return t("span",Math.floor(100*e.row.oneOdd)/100)}},{title:"操作",key:"id",align:"center",width:160,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){t.modalModify.show=!0,t.modalModify.id=a.row.id,t.modalModify.baseVal=a.row.baseVal,t.modalModify.baseOdd=a.row.baseOdd,t.modalModify.selectGame=t.lotGameMap[a.row.gameid].name,t.modalModify.selectSubGame=t.subtypeOptMap[a.row.sub_type].subName,t.modalModify.selectOptName=a.row.optname}}},"修改"),e("Button",{props:{type:"primary"},on:{click:function(){t.modalDel.id=a.row.id,t.modalDel.show=!0}}},"删除")])}}],modalAddNew:{show:!1,selectLotID:"",selectSubID:"",uid:"",childList:[],selectOptID:"",optList:[],baseVal:0,baseOdd:0},modalModify:{show:!1,id:0,selectGame:"",selectSubGame:"",selectOptName:"",modal_loading:!1,baseVal:0,baseOdd:0},modalDel:{show:!1,id:0,modal_loading:!1}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getLotListData()},methods:{getLotListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotListData=e.data._param.list,t.createLotMap(t.lotListData),t.$nextTick(function(){t.lotID=e.data._param.default,t.getLotteryChildListData(t.lotID,1,!0)})})},search:function(t){var e=this;0==t&&(this.page=1),this.tableData1=[],X({_mod:"jcmanager",_func:"GetUserOddList",_check:"",_param:{appid:12,gameid:this.lotID,sub_type:Number(this.subID)||0,uid:Number(this.searchUid)||0,page:this.page,limit:this.pagesize}}).then(function(t){e.subtypeOptMap=e.gidSubtypeMap[e.lotID],void 0==t.data._param.data?e.tableData1=[]:e.tableData1=t.data._param.data,e.pageTotal=t.data._param.total})},pageChange:function(t){this.page=t,this.search()},getLotteryChildListData:function(t,e,a){var i=this;this.gidSubtypeMap[t]?(1==e&&(this.childGameList=this.gidSubtypeMap[t]),2==e&&(this.modalAddNew.childList=this.gidSubtypeMap[t]),a&&this.search(0)):X({_mod:"jcmanager",_func:"GetLotteryOpt",_check:"",_param:{appid:12,gameid:Number(t)}}).then(function(n){i.createGidSubOptMap(n.data._param.list,t),1==e&&(i.childGameList=i.gidSubtypeMap[t]),2==e&&(i.modalAddNew.childList=i.gidSubtypeMap[t]),a&&i.search(0)})},createLotMap:function(t){for(var e=0;e<t.length;e++){var a=t[e].gameid;this.lotGameMap[a]=t[e]}},createGidSubOptMap:function(t,e){if(!this.gidSubtypeMap[e]){for(var a={},i=0;i<t.length;i++){a[t[i].subType]=t[i]}this.gidSubtypeMap[e]=a}},openAddModal:function(){this.modalAddNew.show=!0,this.modalAddNew.selectLotID=this.lotID,this.modalAddNew.selectSubID="",this.modalAddNew.selectOptID="",this.modalAddNew.uid="",this.modalAddNew.childList=this.gidSubtypeMap[this.lotID],this.modalAddNew.optList=[],this.modalAddNew.baseVal=0,this.modalAddNew.baseOdd=0},onLotSelect:function(t){this.getLotteryChildListData(this.lotID,1,!0)},onModalLotSelect:function(t){this.modalAddNew.selectSubID="",this.getLotteryChildListData(this.modalAddNew.selectLotID,2,!1)},handleAdd:function(){var t=this;return""==this.modalAddNew.selectSubID?this.$Message.error("请选择子玩法"):""==this.modalAddNew.selectOptID?this.$Message.error("请选择子选项"):""==this.modalAddNew.uid?this.$Message.error("请输入用户id"):void X({_mod:"jcmanager",_func:"UpdateUserOddList",_check:"",_param:{type:3,uid:Number(this.modalAddNew.uid),gameid:this.modalAddNew.selectLotID,sub_type:this.modalAddNew.selectSubID,optid:this.modalAddNew.selectOptID,baseOdd:this.modalAddNew.baseOdd}}).then(function(e){t.$Message.success("新增成功"),t.search(0)})},handleModify:function(){var t=this;this.modalModify.modal_loading=!0;var e={_mod:"jcmanager",_func:"UpdateUserOddList",_check:"",_param:{id:this.modalModify.id,type:0,baseOdd:this.modalModify.baseOdd}};setTimeout(function(){t.modalModify.modal_loading=!1},5e3),X(e).then(function(e){t.modalModify.show=!1,t.modalModify.modal_loading=!1,t.$Message.success("修改成功"),t.search()})},handleDelete:function(){var t=this;this.modalDel.modal_loading=!0;var e={_mod:"jcmanager",_func:"UpdateUserOddList",_check:"",_param:{id:this.modalDel.id,type:1}};setTimeout(function(){t.modalDel.modal_loading=!1},5e3),X(e).then(function(e){t.$Message.success("删除成功"),t.modalDel.show=!1,t.modalDel.modal_loading=!1,t.search()})},onModalSubSelect:function(t){this.modalAddNew.selectOptID="",this.getOptList()},getOptList:function(){var t=this;this.modalAddNew.optList=[],X({_mod:"jcmanager",_func:"GetGameOptInfo",_check:"",_param:{appid:12,gameid:this.modalAddNew.selectLotID,sub_type:this.modalAddNew.selectSubID}}).then(function(e){t.modalAddNew.optList=e.data._param.data})},onModalOptSelect:function(t){for(var e=0;e<this.modalAddNew.optList.length;e++)this.modalAddNew.selectOptID==this.modalAddNew.optList[e].optid&&(this.modalAddNew.baseVal=this.modalAddNew.optList[e].baseVal,this.modalAddNew.baseOdd=this.modalAddNew.optList[e].baseOdd,this.modalAddNew.oneOdd=this.modalAddNew.optList[e].oneOdd)}}},Se={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onLotSelect},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"子玩法"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"全部",clearable:!0,transfer:""},model:{value:t.subID,callback:function(e){t.subID=e},expression:"subID"}},t._l(t.childGameList,function(e){return a("Option",{key:e.subType,attrs:{value:e.subType}},[t._v(t._s(e.subName))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"用户ID"}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入查询用户ID"},model:{value:t.searchUid,callback:function(e){t.searchUid=e},expression:"searchUid"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.openAddModal}},[t._v("新增配置")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData1.length,expression:"tableData1.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{width:"480",closable:!0,draggable:""},model:{value:t.modalAddNew.show,callback:function(e){t.$set(t.modalAddNew,"show",e)},expression:"modalAddNew.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("用户赔率新增配置")]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":100,label:"选择彩种："}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onModalLotSelect},model:{value:t.modalAddNew.selectLotID,callback:function(e){t.$set(t.modalAddNew,"selectLotID",e)},expression:"modalAddNew.selectLotID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"子玩法："}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onModalSubSelect},model:{value:t.modalAddNew.selectSubID,callback:function(e){t.$set(t.modalAddNew,"selectSubID",e)},expression:"modalAddNew.selectSubID"}},t._l(t.modalAddNew.childList,function(e){return a("Option",{key:e.subType,attrs:{value:e.subType}},[t._v(t._s(e.subName))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"子选项："}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onModalOptSelect},model:{value:t.modalAddNew.selectOptID,callback:function(e){t.$set(t.modalAddNew,"selectOptID",e)},expression:"modalAddNew.selectOptID"}},t._l(t.modalAddNew.optList,function(e){return a("Option",{key:e.optid,attrs:{value:e.optid}},[t._v(t._s(e.optname))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"用户ID"}},[a("Input",{staticStyle:{width:"120px"},attrs:{clearable:!0,placeholder:"请输入用户ID"},model:{value:t.modalAddNew.uid,callback:function(e){t.$set(t.modalAddNew,"uid",e)},expression:"modalAddNew.uid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"基础值："}},[t._v("\n                "+t._s(t.modalAddNew.baseVal)+"\n            ")]),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"基础赔率："}},[a("InputNumber",{attrs:{min:0,max:1,step:.001},model:{value:t.modalAddNew.baseOdd,callback:function(e){t.$set(t.modalAddNew,"baseOdd",e)},expression:"modalAddNew.baseOdd"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"单注金额："}},[t._v("\n                "+t._s(Math.floor(t.modalAddNew.baseVal*t.modalAddNew.baseOdd*100)/100)+"\n            ")])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalAddNew.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.handleAdd}},[t._v("确定")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"420",closable:!0},model:{value:t.modalModify.show,callback:function(e){t.$set(t.modalModify,"show",e)},expression:"modalModify.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("用户子选项赔率修改")]),t._v(" "),a("p",{staticClass:"modal-title"},[t._v("\n            彩种："+t._s(t.modalModify.selectGame)+"\n            "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("子玩法："+t._s(t.modalModify.selectSubGame))]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("子选项："+t._s(t.modalModify.selectOptName))])]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":100,label:"基础值："}},[t._v("\n                "+t._s(t.modalModify.baseVal)+"\n            ")]),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"基础赔率："}},[a("InputNumber",{attrs:{min:0,max:1,step:.001},model:{value:t.modalModify.baseOdd,callback:function(e){t.$set(t.modalModify,"baseOdd",e)},expression:"modalModify.baseOdd"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"单注金额："}},[t._v("\n                "+t._s(Math.floor(t.modalModify.baseVal*t.modalModify.baseOdd*100)/100)+"\n            ")])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalModify.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success",loading:t.modalModify.modal_loading},on:{click:t.handleModify}},[t._v("确认修改")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalDel.show,callback:function(e){t.$set(t.modalDel,"show",e)},expression:"modalDel.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("再次确认")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("确认后，将删除该条用户赔率配置。")]),t._v(" "),a("p",[t._v("是否确认删除？")])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning",size:"large",long:"",loading:t.modalDel.modal_loading},on:{click:t.handleDelete}},[t._v("确认")])],1)])],1)},staticRenderFns:[]};var Le={name:"LotteryMonitor",data:function(){var t=this;return{lotID:"",page:1,pagesize:15,lotListData:[],lotMap:{},tableData1:[],pageTotal:0,columns1:[{title:"彩种",key:"gameid",align:"center",minWidth:100,render:function(e,a){return e("span",t.lotMap[a.row.gameid].name)}},{title:"期次",key:"qihao",align:"center",minWidth:100},{title:"开奖异常号码",key:"kjhm",align:"center",minWidth:160,render:function(t,e){return t("span",e.row.kjhm)}},{title:"开奖时间",key:"opentime",minWidth:100,align:"center"}]}},filters:{isNull:function(t){return void 0==t?"0":t}},created:function(){this.getLotListData()},mounted:function(){this.startRefreshTimer()},destroyed:function(){this.clearRefreshTimer()},methods:{getLotListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotListData=e.data._param.list,t.lotMap={};for(var a=0;a<t.lotListData.length;a++)t.lotMap[t.lotListData[a].gameid]=t.lotListData[a];t.$nextTick(function(){t.search(0)})})},startRefreshTimer:function(){var t=this;this.timer?clearInterval(this.timer):this.timer=setInterval(function(){t.search()},3e4)},clearRefreshTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},search:function(t){var e=this;0==t&&(this.page=1),this.tableData1=[],X({_mod:"jcmanager",_func:"GetCallThePolice",_check:"",_param:{gameid:Number(this.lotID)||0,page:this.page,limit:this.pagesize}}).then(function(t){void 0==t.data._param.data?e.tableData1=[]:e.tableData1=t.data._param.data,e.pageTotal=t.data._param.total||0,e.$Notice.close("LotteryWarning"),e.pageTotal>0&&e.showNotice()})},showNotice:function(){this.$Notice.warning({title:"您有开奖异常未处理！",duration:0,name:"LotteryWarning"})},pageChange:function(t){this.page=t,this.search()}}},Ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"全部",transfer:"",clearable:""},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData1.length,expression:"tableData1.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}})],1)},staticRenderFns:[]};var Te={name:"LotterySixRisk",data:function(){var t=this;return{gameid:3101101,modalEdit:{show:!1,subtype:0,total_point:0,limit_point:0,once_point:0,sale_rate:0,sale_step:0,sale_max:0,time_mode:0},time_mode:0,childGameMap:{},dataList:[],columns1:[{title:"子玩法",key:"subtype",align:"center",minWidth:100,render:function(e,a){return e("span",t.childGameMap[a.row.subtype])}},{title:"总奖池",key:"total_point",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.total_point)}},{title:"单号下注",key:"limit_point",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.limit_point)}},{title:"单号总额",key:"once_point",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.once_point)}},{title:"预收比率",key:"sale_rate",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.sale_rate+"%")}},{title:"预售金额",key:"odd",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.once_point*e.row.sale_rate/100)}},{title:"销售步长",key:"sale_step",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.sale_step)}},{title:"赔率总额",key:"sale_max",align:"center",minWidth:100,render:function(t,e){return t("span",e.row.sale_max)}},{title:"操作",key:"baseOdd",align:"center",minWidth:100,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},on:{click:function(){t.modalEdit.show=!0,t.modalEdit.subtype=a.row.subtype,t.modalEdit.total_point=a.row.total_point,t.modalEdit.limit_point=a.row.limit_point,t.modalEdit.once_point=a.row.once_point,t.modalEdit.sale_rate=a.row.sale_rate,t.modalEdit.sale_step=a.row.sale_step,t.modalEdit.sale_max=a.row.sale_max,t.modalEdit.time_mode=String(t.time_mode)}}},"修改")])}}]}},filters:{isNull:function(t){return void 0==t?"0":t}},created:function(){this.getLotteryChildListData()},methods:{getData:function(){var t=this;X({_mod:"jcmanager",_func:"GetMk6RiskList",_check:"",_param:{appid:12,gameid:3101101}}).then(function(e){t.time_mode=e.data._param.time_mode,t.dataList=e.data._param.data})},getLotteryChildListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryOpt",_check:"",_param:{appid:12,gameid:Number(this.gameid)}}).then(function(e){var a=e.data._param.list;t.childGameMap={};for(var i=0;i<a.length;i++)t.childGameMap[a[i].subType]=a[i].subName;t.getData()})},apply:function(){var t=this;X({_mod:"jcmanager",_func:"UpdateMk6Risk",_check:"",_param:{appid:12,subtype:this.modalEdit.subtype,key:["total_point","limit_point","once_point","sale_rate","sale_step","sale_max","time_mode"],value:[this.modalEdit.total_point,this.modalEdit.limit_point,this.modalEdit.once_point,this.modalEdit.sale_rate,this.modalEdit.sale_step,this.modalEdit.sale_max,Number(this.modalEdit.time_mode)]}}).then(function(e){t.$Message.success("修改成功"),t.modalEdit.show=!1,t.getData()})}}},Ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticStyle:{margin:"15px 0","font-size":"20px"}},[t._v("\n        彩种：六合彩     \n        "),a("span",[t._v("生肖计算方式："+t._s(1==t.time_mode?"阳历":2==t.time_mode?"农历":""))]),t._v("     \n        "),a("Button",{attrs:{type:"primary"},on:{click:t.getData}},[t._v("查询")])],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.dataList}}),t._v(" "),a("Modal",{attrs:{width:"640"},model:{value:t.modalEdit.show,callback:function(e){t.$set(t.modalEdit,"show",e)},expression:"modalEdit.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改六合彩风控配置")])]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":80,label:"子游戏："}},[a("span",[t._v(t._s(t.childGameMap[t.modalEdit.subtype]))])]),t._v(" "),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":80,label:"总奖池："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:0},model:{value:t.modalEdit.total_point,callback:function(e){t.$set(t.modalEdit,"total_point",e)},expression:"modalEdit.total_point"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":80,label:"单号下注："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:0},model:{value:t.modalEdit.limit_point,callback:function(e){t.$set(t.modalEdit,"limit_point",e)},expression:"modalEdit.limit_point"}})],1),t._v(" "),a("FormItem",[a("span",[t._v("提示：单号每次下注最大金额")])])],1),t._v(" "),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":80,label:"单号总额："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:0},model:{value:t.modalEdit.once_point,callback:function(e){t.$set(t.modalEdit,"once_point",e)},expression:"modalEdit.once_point"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":80,label:"预收比率："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:0,max:100,formatter:function(t){return t+"%"},parser:function(t){return t.replace("%","")}},model:{value:t.modalEdit.sale_rate,callback:function(e){t.$set(t.modalEdit,"sale_rate",e)},expression:"modalEdit.sale_rate"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":80,label:"预售金额："}},[a("span",[t._v(t._s(t.modalEdit.once_point*t.modalEdit.sale_rate/100))])])],1),t._v(" "),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":80,label:"销售步长："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:0},model:{value:t.modalEdit.sale_step,callback:function(e){t.$set(t.modalEdit,"sale_step",e)},expression:"modalEdit.sale_step"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":80,label:"赔率总额："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:0},model:{value:t.modalEdit.sale_max,callback:function(e){t.$set(t.modalEdit,"sale_max",e)},expression:"modalEdit.sale_max"}})],1),t._v(" "),a("FormItem",[a("span",[t._v("提示：赔率变化上限金额")])])],1),t._v(" "),22==t.modalEdit.subtype?a("Form-item",{attrs:{label:"生肖计算方式："}},[a("Radio-group",{model:{value:t.modalEdit.time_mode,callback:function(e){t.$set(t.modalEdit,"time_mode",e)},expression:"modalEdit.time_mode"}},[a("Radio",{attrs:{label:"1"}},[t._v("阳历")]),t._v(" "),a("Radio",{attrs:{label:"2"}},[t._v("农历")])],1)],1):t._e()],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalEdit.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.apply}},[t._v("应用")])],1)],1)],1)},staticRenderFns:[]};var Ne={name:"LotterySetting",data:function(){var t=this;return{stateList:[{value:0,text:"上线"},{value:1,text:"灰度"},{value:2,text:"停销"}],nState:"",page:1,pagesize:100,tableData1:[],pageTotal:0,columns1:[{title:"彩种ID",key:"gid",align:"center",minWidth:100},{title:"彩种名称",key:"name",align:"center",minWidth:100},{title:"游戏状态",key:"status",align:"center",minWidth:100,render:function(t,e){return t("span",{style:{color:0==e.row.status?"green":2==e.row.status?"red":"orange"}},0==e.row.status?"上线":1==e.row.status?"灰度":"停销")}},{title:"游戏类型",key:"frequency",align:"center",minWidth:100,render:function(t,e){return t("span",1==e.row.frequency?"低频":"高频")}},{title:"销售周期",key:"cycle",align:"center",minWidth:100,render:function(t,e){var a=e.row.cycle;return t("span",a>3600?a/60/60+"h":a>60&&a<3600?a/60+"m":a+"s")}},{title:"销售期数",key:"times",align:"center",minWidth:100},{title:"提前截止时间",key:"advance",align:"center",minWidth:100},{title:"排序",key:"solt",align:"center",sortable:!0,minWidth:100},{title:"操作",key:"id",align:"center",width:120,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},on:{click:function(){t.modalModify.show=!0,t.modalModify.id=a.row.id,t.modalModify.name=a.row.name,t.modalModify.frequency=a.row.frequency,t.modalModify.status=String(a.row.status),t.modalModify.solt=a.row.solt,t.modalModify.advance=a.row.advance}}},"修改")])}}],modalModify:{show:!1,id:0,name:"",frequency:1,status:0,solt:1,advance:1}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.search(0)},methods:{search:function(t){var e=this;0==t&&(this.page=1),this.tableData1=[],X({_mod:"jcmanager",_func:"GetAllGameInfo",_check:"",_param:{appid:12,status:""===this.nState||void 0==this.nState?-1:Number(this.nState),page:this.page,limit:this.pagesize}}).then(function(t){void 0==t.data._param.data?e.tableData1=[]:e.tableData1=t.data._param.data,e.pageTotal=t.data._param.total})},pageChange:function(t){this.page=t,this.search()},handleModify:function(){var t=this;this.modalModify.modal_loading=!0;var e={_mod:"jcmanager",_func:"UpdateAllGameStatus",_check:"",_param:{id:this.modalModify.id,status:Number(this.modalModify.status),solt:this.modalModify.solt,advance:this.modalModify.advance}};setTimeout(function(){t.modalModify.modal_loading=!1},5e3),X(e).then(function(e){t.modalModify.show=!1,t.modalModify.modal_loading=!1,t.$Message.success("修改成功"),t.search()})}}},$e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":40,label:"状态"}},[a("Select",{staticStyle:{width:"80px"},attrs:{placeholder:"全部",transfer:"",clearable:""},model:{value:t.nState,callback:function(e){t.nState=e},expression:"nState"}},t._l(t.stateList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData1.length,expression:"tableData1.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"360",closable:!0},model:{value:t.modalModify.show,callback:function(e){t.$set(t.modalModify,"show",e)},expression:"modalModify.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("修改内容")]),t._v(" "),a("p",{staticClass:"modal-title"},[t._v("\n            彩种名称："+t._s(t.modalModify.name)+"     游戏类型："+t._s(1==t.modalModify.frequency?"低频":"高频")+"\n        ")]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":100,label:"游戏状态："}},[a("Radio-group",{model:{value:t.modalModify.status,callback:function(e){t.$set(t.modalModify,"status",e)},expression:"modalModify.status"}},[a("Radio",{attrs:{label:"0"}},[t._v("上线")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("灰度")]),t._v(" "),a("Radio",{attrs:{label:"2"}},[t._v("停销")])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"提前截止时间："}},[a("InputNumber",{staticStyle:{width:"100px"},attrs:{min:1,formatter:function(t){return t+"s"},parser:function(t){return t.replace("s","")}},model:{value:t.modalModify.advance,callback:function(e){t.$set(t.modalModify,"advance",e)},expression:"modalModify.advance"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"排序："}},[a("InputNumber",{staticStyle:{width:"100px"},attrs:{min:1},model:{value:t.modalModify.solt,callback:function(e){t.$set(t.modalModify,"solt",e)},expression:"modalModify.solt"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalModify.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success",loading:t.modalModify.modal_loading},on:{click:t.handleModify}},[t._v("确认修改")])],1)],1)],1)},staticRenderFns:[]};var Fe={name:"LotteryPlay",data:function(){var t=this;return{lotID:"",page:1,pagesize:15,lotListData:[],lotGameMap:{},childGameList:[],subtypeOptMap:{},gidSubtypeMap:{},tableData1:[],pageTotal:0,columns1:[{title:"彩种ID",key:"gid",align:"center",minWidth:120,render:function(e,a){return e("span",t.lotGameMap[a.row.gid].name)}},{title:"子玩法ID",key:"subtype",align:"center",minWidth:120},{title:"子玩法名称",key:"subtype",align:"center",minWidth:120,render:function(e,a){return e("span",t.subtypeOptMap[a.row.subtype].subName)}},{title:"子玩法状态",key:"status",align:"center",minWidth:120,render:function(t,e){return t("span",{style:{color:0==e.row.status?"green":"red"}},0==e.row.status?"上线":"注销")}},{title:"操作",key:"id",align:"center",minWidth:120,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},on:{click:function(){t.modalModify.show=!0,t.modalModify.id=a.row.id,t.modalModify.name=t.lotGameMap[a.row.gid].name,t.modalModify.subName=t.subtypeOptMap[a.row.subtype].subName,t.modalModify.status=String(a.row.status)}}},"修改")])}}],modalModify:{show:!1,id:0,name:"",subName:"",status:0,modal_loading:!1}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getLotListData()},methods:{getLotListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetLotteryList",_check:"",_param:{appid:12}}).then(function(e){t.lotListData=e.data._param.list,t.createLotMap(t.lotListData),t.$nextTick(function(){t.lotID=e.data._param.default,t.getLotteryChildListData(t.lotID,1,!0)})})},search:function(t){var e=this;0==t&&(this.page=1),this.tableData1=[],X({_mod:"jcmanager",_func:"GetSubTypeInfo",_check:"",_param:{gid:this.lotID,status:-1,page:this.page,limit:this.pagesize}}).then(function(t){e.subtypeOptMap=e.gidSubtypeMap[e.lotID],void 0==t.data._param.data?e.tableData1=[]:e.tableData1=t.data._param.data,e.pageTotal=t.data._param.total})},pageChange:function(t){this.page=t,this.search()},getLotteryChildListData:function(t,e,a){var i=this;this.gidSubtypeMap[t]?(1==e&&(this.childGameList=this.gidSubtypeMap[t]),a&&this.search(0)):X({_mod:"jcmanager",_func:"GetLotteryOpt",_check:"",_param:{appid:12,gameid:Number(t)}}).then(function(n){i.createGidSubOptMap(n.data._param.list,t),1==e&&(i.childGameList=i.gidSubtypeMap[t]),a&&i.search(0)})},createLotMap:function(t){for(var e=0;e<t.length;e++){var a=t[e].gameid;this.lotGameMap[a]=t[e]}},createGidSubOptMap:function(t,e){if(!this.gidSubtypeMap[e]){for(var a={},i=0;i<t.length;i++){a[t[i].subType]=t[i]}this.gidSubtypeMap[e]=a}},onLotSelect:function(t){this.getLotteryChildListData(this.lotID,1,!0)},handleModify:function(){var t=this;this.modalModify.modal_loading=!0;var e={_mod:"jcmanager",_func:"UpdateSubType",_check:"",_param:{id:this.modalModify.id,status:Number(this.modalModify.status)}};setTimeout(function(){t.modalModify.modal_loading=!1},5e3),X(e).then(function(e){t.modalModify.show=!1,t.modalModify.modal_loading=!1,t.$Message.success("修改成功"),t.search()})}}},Pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择彩种"}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onLotSelect},model:{value:t.lotID,callback:function(e){t.lotID=e},expression:"lotID"}},t._l(t.lotListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData1.length,expression:"tableData1.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"360",closable:!0},model:{value:t.modalModify.show,callback:function(e){t.$set(t.modalModify,"show",e)},expression:"modalModify.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("修改内容")]),t._v(" "),a("p",{staticClass:"modal-title"},[t._v("\n            彩种名称："+t._s(t.modalModify.name)+"     子玩法："+t._s(t.modalModify.subName)+"\n        ")]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":100,label:"游戏状态："}},[a("Radio-group",{model:{value:t.modalModify.status,callback:function(e){t.$set(t.modalModify,"status",e)},expression:"modalModify.status"}},[a("Radio",{attrs:{label:"0"}},[t._v("上线")]),t._v(" "),a("Radio",{attrs:{label:"2"}},[t._v("注销")])],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalModify.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success",loading:t.modalModify.modal_loading},on:{click:t.handleModify}},[t._v("确认修改")])],1)],1)],1)},staticRenderFns:[]};var Ee={name:"LotterySysRisk",data:function(){var t=this;return{tableData1:[],tableData2:[],columns1:[{title:"当前奖池",key:"poll_point",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.poll_point/100)}},{title:"最大赔付",key:"total_Point",align:"center",minWidth:120},{title:"每期可亏损",key:"loss_rate",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.loss_rate+"%")}},{title:"抽水",key:"water_fee",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.water_fee+"%")}},{title:"最大可派奖金",key:"hitPoint",align:"center",minWidth:120,render:function(t,e){return t("span","当前下注金额 *（1-抽水）+ 当前奖池*每期可亏损比例")}},{title:"操作",key:"id",align:"center",width:120,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},on:{click:function(){t.modalModify1.show=!0,t.modalModify1.total_Point=a.row.total_Point,t.modalModify1.loss_rate=a.row.loss_rate,t.modalModify1.water_fee=a.row.water_fee}}},"修改")])}}],columns2:[{title:"最小投注",key:"minPoint",align:"center",minWidth:120},{title:"最大投注",key:"maxPoint",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.maxPoint>=0?e.row.maxPoint:"—")}},{title:"最小投注人数",key:"minNum",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.minNum>=0?e.row.minNum:"—")}},{title:"最大投注人数",key:"maxNum",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.maxNum>=0?e.row.maxNum:"—")}},{title:"最高中奖金额比例",key:"rate",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.rate>=0?e.row.rate+"%":"最大可派奖金")}},{title:"操作",key:"id",align:"center",width:120,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},on:{click:function(){t.modalModify2.show=!0,t.modalModify2.actItem=a.row,t.modalModify2.id=a.row.id,t.modalModify2.newminNum=a.row.minNum,t.modalModify2.newmaxNum=a.row.maxNum,a.row.rate>=0?(t.modalModify2.isCount="1",t.modalModify2.rate=a.row.rate):(t.modalModify2.isCount="0",t.modalModify2.rate=0)}}},"修改")])}}],modalModify1:{show:!1,total_Point:0,loss_rate:0,water_fee:0,modal_loading:!1},modalModify2:{show:!1,modal_loading:!1,actItem:{},id:0,isCount:0,newminNum:1,newmaxNum:1,rate:-2}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.search()},methods:{search:function(){var t=this;this.tableData1=[],this.tableData2=[];X({_mod:"jcmanager",_func:"GetLotterySysControl",_check:"",_param:{}}).then(function(e){t.tableData1.push(e.data._param),t.tableData2=e.data._param.data||[]})},updateTotalInfo:function(){var t=this;this.modalModify1.modal_loading=!0,setTimeout(function(){t.modalModify1.modal_loading=!1},5e3),X({_mod:"jcmanager",_func:"UpdateLotterySysControl",_check:"",_param:{total_Point:isNaN(Number(this.modalModify1.total_Point))?-1:Number(this.modalModify1.total_Point),loss_rate:isNaN(Number(this.modalModify1.loss_rate))?-1:Number(this.modalModify1.loss_rate),water_fee:isNaN(Number(this.modalModify1.water_fee))?-1:Number(this.modalModify1.water_fee),data:[]}}).then(function(e){t.$Message.success("修改成功"),t.modalModify1.modal_loading=!1,t.modalModify1.show=!1,t.search()})},updateItemInfo:function(){var t=this;this.modalModify2.modal_loading=!0,setTimeout(function(){t.modalModify2.modal_loading=!1},5e3),X({_mod:"jcmanager",_func:"UpdateLotterySysControl",_check:"",_param:{total_Point:-1,loss_rate:-1,water_fee:-1,data:[{id:this.modalModify2.id,oldminNum:this.modalModify2.actItem.minNum,newminNum:this.modalModify2.newminNum,oldmaxNum:this.modalModify2.actItem.maxNum,newmaxNum:this.modalModify2.newmaxNum,rate:"0"==this.modalModify2.isCount?-1:isNaN(Number(this.modalModify2.rate))?-2:Number(this.modalModify2.rate)}]}}).then(function(e){t.$Message.success("修改成功"),t.modalModify2.modal_loading=!1,t.modalModify2.show=!1,t.search()})},handleModify:function(t){1==t?this.updateTotalInfo():2==t&&this.updateItemInfo()}}},Ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{staticClass:"main-content"},[a("Table",{staticStyle:{"margin-bottom":"20px"},attrs:{border:"",columns:t.columns1,data:t.tableData1}}),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns2,data:t.tableData2}})],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"360",closable:!0},model:{value:t.modalModify1.show,callback:function(e){t.$set(t.modalModify1,"show",e)},expression:"modalModify1.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("内容修改")]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":100,label:"当前奖池："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:1},model:{value:t.modalModify1.total_Point,callback:function(e){t.$set(t.modalModify1,"total_Point",e)},expression:"modalModify1.total_Point"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"每次可亏损："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:0,max:100,formatter:function(t){return t+"%"},parser:function(t){return t.replace("%","")}},model:{value:t.modalModify1.loss_rate,callback:function(e){t.$set(t.modalModify1,"loss_rate",e)},expression:"modalModify1.loss_rate"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"抽水："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:1,max:100,formatter:function(t){return t+"%"},parser:function(t){return t.replace("%","")}},model:{value:t.modalModify1.water_fee,callback:function(e){t.$set(t.modalModify1,"water_fee",e)},expression:"modalModify1.water_fee"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalModify1.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success",loading:t.modalModify1.modal_loading},on:{click:function(e){t.handleModify(1)}}},[t._v("确认修改")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"480",closable:!0},model:{value:t.modalModify2.show,callback:function(e){t.$set(t.modalModify2,"show",e)},expression:"modalModify2.show"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("内容修改")]),t._v(" "),a("Form",[a("FormItem",{attrs:{"label-width":120,label:"最小投注人数："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{min:1},model:{value:t.modalModify2.newminNum,callback:function(e){t.$set(t.modalModify2,"newminNum",e)},expression:"modalModify2.newminNum"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"最大投注人数："}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{disabled:-1==t.modalModify2.newmaxNum,min:1},model:{value:t.modalModify2.newmaxNum,callback:function(e){t.$set(t.modalModify2,"newmaxNum",e)},expression:"modalModify2.newmaxNum"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":120,label:"最高中奖金额比例："}},[a("RadioGroup",{model:{value:t.modalModify2.isCount,callback:function(e){t.$set(t.modalModify2,"isCount",e)},expression:"modalModify2.isCount"}},[a("Radio",{attrs:{label:"0"}},[a("span",[t._v("最大可派奖金")])]),t._v(" "),a("Radio",{attrs:{label:"1"}},[a("InputNumber",{staticStyle:{width:"120px"},attrs:{disabled:"1"!=t.modalModify2.isCount,min:0,max:95,formatter:function(t){return t+"%"},parser:function(t){return t.replace("%","")}},model:{value:t.modalModify2.rate,callback:function(e){t.$set(t.modalModify2,"rate",e)},expression:"modalModify2.rate"}})],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalModify2.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success",loading:t.modalModify2.modal_loading},on:{click:function(e){t.handleModify(2)}}},[t._v("确认修改")])],1)],1)],1)},staticRenderFns:[]};var We=[{path:"lotterystat",name:"LotteryStat",component:re,meta:{name:"lottery"}},{path:"lotteryrun",name:"LotteryRun",component:de,meta:{name:"lottery"}},{path:"lotteryrate",name:"LotteryRate",component:ue,meta:{name:"lottery"}},{path:"lotterylimit",name:"LotteryLimit",component:ge,meta:{name:"lottery"}},{path:"lotteryorder",name:"LotteryOrder",component:a("VU/8")(we,ye,!1,function(t){a("TEAT")},"data-v-cca4f3ca",null).exports,meta:{name:"lottery"}},{path:"lotteryuserlimit",name:"LotteryUserLimit",component:a("VU/8")(ke,De,!1,function(t){a("+wSc")},"data-v-2d1b74ee",null).exports,meta:{name:"lottery"}},{path:"lotterymodifylog",name:"LotteryModifyLog",component:a("VU/8")(xe,Ie,!1,function(t){a("NymP")},"data-v-b6175fa6",null).exports,meta:{name:"lottery"}},{path:"lotteryuserrate",name:"LotteryUserRate",component:a("VU/8")(Me,Se,!1,function(t){a("fFlB")},"data-v-58886156",null).exports,meta:{name:"lottery"}},{path:"lotterymonitor",name:"LotteryMonitor",component:a("VU/8")(Le,Ce,!1,function(t){a("8HEp")},"data-v-45499226",null).exports,meta:{name:"lottery"}},{path:"lotterysixrisk",name:"LotterySixRisk",component:a("VU/8")(Te,Ae,!1,function(t){a("kooc")},"data-v-e9040a5e",null).exports,meta:{name:"lottery"}},{path:"lotterysetting",name:"LotterySetting",component:a("VU/8")(Ne,$e,!1,function(t){a("uO/t")},"data-v-a89248c8",null).exports,meta:{name:"lottery"}},{path:"lotteryplay",name:"LotteryPlay",component:a("VU/8")(Fe,Pe,!1,function(t){a("Iv+X")},"data-v-72739a5c",null).exports,meta:{name:"lottery"}},{path:"lotterysysrisk",name:"LotterySysRisk",component:a("VU/8")(Ee,Ue,!1,function(t){a("mEMz")},"data-v-4c8a08f0",null).exports,meta:{name:"lottery"}}],Re={name:"CapitalRecord",data:function(){return{userinfo:JSON.parse(x("userinfo")),date:[S(0).from,S(0).to],gameID:"",gameListData:[],tableData1:[],tableData2:[],curTableData:[],page:1,pageSize:10,pageTotal:0,shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]},columns1:[{title:"外接游戏",key:"name",align:"center",minWidth:120},{title:"兑出星币数量",key:"chipOut",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.chipOut/100)}},{title:"兑出外接游戏货币数量",key:"coinOut",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.coinOut/100)}},{title:"兑入星币数量",key:"chipIn",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.chipIn/100)}},{title:"兑入外接游戏货币数量",key:"coinIn",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.coinIn/100)}},{title:"公司盈利",key:"diff",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",e.row.diff/100)}}],columns2:[{title:"日期",key:"tt",align:"center",minWidth:100},{title:"外接游戏",key:"name",align:"center",minWidth:100},{title:"兑出星币数量",key:"chipOut",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.chipOut/100)}},{title:"兑出外接游戏货币数量",key:"coinOut",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.coinOut/100)}},{title:"兑入星币数量",key:"chipIn",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.chipIn/100)}},{title:"兑入外接游戏货币数量",key:"coinIn",align:"center",sortable:!0,minWidth:120,render:function(t,e){return t("span",e.row.coinIn/100)}},{title:"公司盈利",key:"diff",align:"center",sortable:!0,minWidth:100,render:function(t,e){return t("span",e.row.diff/100)}}]}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){var t=this;this.getGameListData(),this.$nextTick(function(){t.getTotalData()})},methods:{getGameListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetExternGame",_check:"",_param:{}}).then(function(e){t.gameListData=e.data._param.game})},getTotalData:function(){var t=this;X({_mod:"jcmanager",_func:"GetExternData",_check:"",_param:{}}).then(function(e){t.tableData1=e.data._param})},search:function(){var t=this;return""==this.gameID?this.$Message.error("请选择游戏"):""==this.date[0]||""==this.date[1]?this.$Message.error("请选择正确的时间查询"):(this.tableData2=[],void X({_mod:"jcmanager",_func:"GetExternInfo",_check:"",_param:{name:this.gameID,start:this.date[0]&&Math.round(this.date[0].getTime()/1e3)||0,end:this.date[1]&&Math.round(this.date[1].getTime()/1e3+86400-1)||0}}).then(function(e){t.page=1,void 0==e.data._param.list?t.tableData2=[]:t.tableData2=e.data._param.list,t.curTableData=t.getPageData(1,t.tableData2),t.pageTotal=t.tableData2.length}))},pageChange:function(t){this.page=t,this.curTableData=this.getPageData(t,this.tableData2)},getPageData:function(t,e){var a=(t-1)*this.pageSize,i=t*this.pageSize;return e.slice(a,i)}}},Be={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"box"},[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"8"}},[a("Card",{staticStyle:{"min-height":"250px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("总兑出金额")]),t._v(" "),a("p",{staticClass:"text"},[t._v(t._s(t._f("isNullRmb")(t.tableData1.chipOut)))])])],1),t._v(" "),a("Col",{attrs:{span:"8"}},[a("Card",{staticStyle:{"min-height":"250px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("总兑入金额")]),t._v(" "),a("p",{staticClass:"text"},[t._v(t._s(t._f("isNullRmb")(t.tableData1.chipIn)))])])],1),t._v(" "),a("Col",{attrs:{span:"8"}},[a("Card",{staticStyle:{"min-height":"250px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("公司盈利")]),t._v(" "),a("p",{staticClass:"text"},[t._v(t._s(t._f("isNullRmb")(t.tableData1.diff)))])])],1)],1),t._v(" "),a("br"),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.tableData1.list}})],1),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"外接游戏"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.gameID,callback:function(e){t.gameID=e},expression:"gameID"}},t._l(t.gameListData,function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.game))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns2,data:t.curTableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.curTableData.length,expression:"curTableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pageSize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}})],1)},staticRenderFns:[]};var ze={name:"CapitalDetail",data:function(){return{searchData:{name:"",uid:"",type:1,page:1,pagesize:15,start:0,end:0},gameID:"",uid:"",date:[],stutasType:"",columns:[{title:"兑换时间",key:"date",align:"center",minWidth:100},{title:"兑换人ID",key:"uid",align:"center",minWidth:100},{title:"兑换人昵称",key:"nickname",align:"center",minWidth:120},{title:"外接游戏ID",key:"uin",align:"center",minWidth:100},{title:"外接游戏货币",key:"coin",align:"center",sortable:!0,minWidth:130,render:function(t,e){return t("span",e.row.coin/100)}},{title:"兑换星币数量",key:"chip",align:"center",sortable:!0,minWidth:130,render:function(t,e){return t("span",e.row.chip/100)}},{title:"兑换状态",key:"type",align:"center",minWidth:100,render:function(t,e){return t("span",1==e.row.type?"兑出":"兑入")}},{title:"外接游戏",key:"name",align:"center",minWidth:120},{title:"订单号",key:"orderid",align:"center",minWidth:160}],stutasList:[{text:"兑出",value:1},{text:"兑入",value:2}],gameListData:[],tableData:[],pageTotal:0,shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},created:function(){this.getGameListData()},methods:{search:function(t){var e=this;0==t&&(this.searchData.page=1),this.tableData=[],this.searchData.name=String(this.gameID),this.searchData.uid=Number(this.uid),this.date[0]&&this.date[1]?(this.searchData.start=Math.round(this.date[0].getTime()/1e3),this.searchData.end=Math.round(this.date[1].getTime()/1e3+86400-1)):(this.searchData.start=0,this.searchData.end=0),this.searchData.type=Number(this.stutasType),X({_mod:"jcmanager",_func:"GetExternDetails",_check:"",_param:this.searchData}).then(function(t){void 0==t.data._param.list?e.tableData=[]:e.tableData=t.data._param.list,e.pageTotal=1*t.data._param.total})},getGameListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetExternGame",_check:"",_param:{}}).then(function(e){t.gameListData=e.data._param.game,t.$nextTick(function(){t.search()})})},pageChange:function(t){this.searchData.page=t,this.search()}}},Oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"外接游戏"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部",clearable:"",transfer:""},model:{value:t.gameID,callback:function(e){t.gameID=e},expression:"gameID"}},t._l(t.gameListData,function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.game))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"兑换状态"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",clearable:"",transfer:""},model:{value:t.stutasType,callback:function(e){t.stutasType=e},expression:"stutasType"}},t._l(t.stutasList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"兑换人ID"}},[a("Input",{attrs:{clearable:!0,placeholder:"兑换人ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":70,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"请选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.searchData.pagesize,total:t.pageTotal,"show-total":"",current:t.searchData.page},on:{"on-change":t.pageChange}})],1)},staticRenderFns:[]};var Ge=[{path:"capitalrecord",name:"CapitalRecord",component:a("VU/8")(Re,Be,!1,function(t){a("3CA8")},"data-v-1e64393b",null).exports,meta:{name:"fish"}},{path:"capitaldetail",name:"CapitalDetail",component:a("VU/8")(ze,Oe,!1,function(t){a("bzxV")},"data-v-2169c9be",null).exports,meta:{name:"fish"}}],je={name:"RateSet",data:function(){var t=this;return{userinfo:JSON.parse(x("userinfo")),appListData:[],app_id:"",dayData:[],tableData:[],columns1:[{title:"编号",key:"id",align:"center",minWidth:120},{title:"代理级别",key:"name",align:"center",minWidth:120},{title:"业绩额度",key:"min_point",align:"center",minWidth:120,render:function(e,a){return e("span",t.createRangeStr(a.row._index+1,a.row.min_point,a.row.max_point))}},{title:"返佣金额",key:"info",align:"center",minWidth:120},{title:"管理",key:"action",minWidth:120,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){t.modalEdit.show=!0,t.modalEdit.actID=a.row.id,t.modalEdit.name=a.row.name,t.modalEdit.nMin=a.row.min_point,t.modalEdit.nMax=a.row.max_point,t.modalEdit.nCommi=a.row.commi,t.modalEdit.info=a.row.info}}},"修改"),e("Button",{props:{type:"primary"},on:{click:function(){t.modalDel.show=!0,t.modalDel.actID=a.row.id}}},"删除")])}}],spreadData:[],total:0,modalAdd:{show:!1,name:"",nMin:0,nMax:0,nCommi:0,info:""},modalEdit:{show:!1,actID:0,name:"",nMin:0,nMax:0,nCommi:0,info:""},modalDel:{show:!1,actID:0}}},created:function(){this.getAppListData(),this.$nextTick(function(){})},mounted:function(){},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.searchInfo()})})},searchInfo:function(){var t=this;if(""==this.app_id)return this.$Message.error("请选择渠道");this.spreadData=[],X({_mod:"jcmanager",_func:"GetAgentLevelList",_check:"",_param:{app_id:Number(this.app_id)}}).then(function(e){t.spreadData=e.data._param.list,t.total=e.data._param.total||0})},createRangeStr:function(t,e,a){return 1==t?">"+T(e)+"<"+T(a):t==this.total?"≥"+T(e):"≥"+T(e)+"<"+T(a)},reqDelLevel:function(){var t=this;X({_mod:"jcmanager",_func:"DelAgentLevel",_check:"",_param:{id:this.modalDel.actID}}).then(function(e){t.$Message.success("删除成功！"),t.modalDel.show=!1,t.searchInfo()})},openAddModal:function(){this.modalAdd.show=!0,this.modalAdd.name="",this.modalAdd.nMin=0,this.modalAdd.nMax=0,this.modalAdd.nCommi=0,this.modalAdd.info=""},reqAddNew:function(){var t=this;X({_mod:"jcmanager",_func:"AddAgentLevel",_check:"",_param:{app_id:Number(this.app_id),name:this.modalAdd.name,min_point:this.modalAdd.nMin,max_point:this.modalAdd.nMax,commi:this.modalAdd.nCommi,info:this.modalAdd.info}}).then(function(e){t.$Message.success("新增成功！"),t.modalAdd.show=!1,t.searchInfo()})},reqEdit:function(){var t=this;X({_mod:"jcmanager",_func:"UpdateAgentLevel",_check:"",_param:{id:this.modalEdit.actID,app_id:Number(this.app_id),name:this.modalEdit.name,min_point:this.modalEdit.nMin,max_point:this.modalEdit.nMax,commi:this.modalEdit.nCommi,info:this.modalEdit.info}}).then(function(e){t.$Message.success("修改成功！"),t.modalEdit.show=!1,t.searchInfo()})}},filters:{isNull:function(t){return t||"0"},isNullRmb:function(t){return t?t/100:"0"}}},qe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"rateSet"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.searchInfo}},[t._v("查询")]),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.openAddModal}},[t._v("新增")])],1),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{border:"",columns:t.columns1,data:t.spreadData}}),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalAdd.show,callback:function(e){t.$set(t.modalAdd,"show",e)},expression:"modalAdd.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("新增信息")])],1),t._v(" "),a("Form",{attrs:{"label-position":"right"}},[a("FormItem",{attrs:{"label-width":100,label:"代理级别"}},[a("Input",{staticStyle:{width:"150px"},attrs:{clearable:!0,placeholder:"请输入代理级别"},model:{value:t.modalAdd.name,callback:function(e){t.$set(t.modalAdd,"name",e)},expression:"modalAdd.name"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"业绩额度"}},[a("Form",{attrs:{inline:""}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalAdd.nMin,callback:function(e){t.$set(t.modalAdd,"nMin",e)},expression:"modalAdd.nMin"}}),t._v("\n                        ~\n                        "),a("InputNumber",{attrs:{min:0},model:{value:t.modalAdd.nMax,callback:function(e){t.$set(t.modalAdd,"nMax",e)},expression:"modalAdd.nMax"}})],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"返佣金额"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalAdd.nCommi,callback:function(e){t.$set(t.modalAdd,"nCommi",e)},expression:"modalAdd.nCommi"}}),t._v("  元/万\n                ")],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"返佣金额"}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入返佣描述"},model:{value:t.modalAdd.info,callback:function(e){t.$set(t.modalAdd,"info",e)},expression:"modalAdd.info"}})],1)],1),t._v(" "),a("p",{staticStyle:{color:"red","text-align":"center"}},[t._v("注意：客户端app暂只支持14条配置展示")]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success"},on:{click:t.reqAddNew}},[t._v("保存信息")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalEdit.show,callback:function(e){t.$set(t.modalEdit,"show",e)},expression:"modalEdit.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("修改信息")])],1),t._v(" "),a("Form",{attrs:{"label-position":"right"}},[a("FormItem",{attrs:{"label-width":100,label:"代理级别"}},[a("Input",{staticStyle:{width:"150px"},attrs:{clearable:!0,placeholder:"请输入代理级别"},model:{value:t.modalEdit.name,callback:function(e){t.$set(t.modalEdit,"name",e)},expression:"modalEdit.name"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"业绩额度"}},[a("Form",{attrs:{inline:""}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.nMin,callback:function(e){t.$set(t.modalEdit,"nMin",e)},expression:"modalEdit.nMin"}}),t._v("\n                        ~\n                        "),a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.nMax,callback:function(e){t.$set(t.modalEdit,"nMax",e)},expression:"modalEdit.nMax"}})],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"返佣金额"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.nCommi,callback:function(e){t.$set(t.modalEdit,"nCommi",e)},expression:"modalEdit.nCommi"}}),t._v("  元/万\n                ")],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"返佣金额"}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入返佣描述"},model:{value:t.modalEdit.info,callback:function(e){t.$set(t.modalEdit,"info",e)},expression:"modalEdit.info"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalEdit.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqEdit}},[t._v("确认修改")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"320"},model:{value:t.modalDel.show,callback:function(e){t.$set(t.modalDel,"show",e)},expression:"modalDel.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("提示")])]),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v("是否确认删除该条信息？")]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalDel.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqDelLevel}},[t._v("确认")])],1)])],1)])},staticRenderFns:[]};var He={name:"GameSetting",data:function(){var t,e=this;return t={typeList:[{label:"小游戏",value:1},{label:"彩票",value:2},{label:"外接游戏",value:3}],appListData:[],app_id:"",uid:"",userList:[],userTotal:0,tableData:[],columns1:[{title:"gid",key:"gid",align:"center",minWidth:120},{title:"游戏名称",key:"name",align:"center",minWidth:120},{title:"展示状态",key:"is_show",align:"center",minWidth:120,render:function(t,e){return t("span",0==e.row.is_show?"不显示":1==e.row.is_show?"显示":2==e.row.is_show?"灰度":"停售")}},{title:"最大下注金额(元)",key:"bet_max",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.bet_max)}},{title:"游戏类型",key:"ctype",align:"center",minWidth:120,filters:[{label:"小游戏",value:1},{label:"彩票",value:2},{label:"外接游戏",value:3}],filterMultiple:!1,filterMethod:function(t,e){return 1===t?1===e.ctype:2===t?2===e.ctype:3===t?3===e.ctype:void 0},render:function(t,e){return t("span",1==e.row.ctype?"小游戏":2==e.row.ctype?"彩票":"外接游戏")}},{title:"图标地址",key:"icon",align:"center",width:200},{title:"游戏地址",key:"href",align:"center",width:200,render:function(t,e){return t("span",3==e.row.ctype?e.row.href:"无")}},{title:"排序",key:"power",align:"center",minWidth:120,sortable:!0},{title:"管理",key:"action",minWidth:200,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){e.modalEdit.show=!0,e.modalEdit.actID=a.row.id,e.modalEdit.gid=a.row.gid,e.modalEdit.name=a.row.name,e.modalEdit.is_show=String(a.row.is_show),e.modalEdit.power=a.row.power,e.modalEdit.bet_max=a.row.bet_max,e.modalEdit.iconUrl=a.row.icon,e.modalEdit.gameUrl=a.row.href,e.modalEdit.ctype=a.row.ctype}}},"修改"),t("Button",{props:{type:"primary"},on:{click:function(){e.modalDel.show=!0,e.modalDel.actID=a.row.id}}},"删除")])}}]},te()(t,"tableData",[]),te()(t,"total",0),te()(t,"modalEdit",{show:!1,actID:0,name:"",is_show:0,power:0,bet_max:0,gid:0,iconUrl:"",gameUrl:"",ctype:1}),te()(t,"modalDel",{show:!1,actID:0}),te()(t,"modalAdd",{show:!1,gid:"",name:"",is_show:0,power:0,bet_max:0,iconUrl:"",gameUrl:"",ctype:1}),te()(t,"modalGray",{show:!1,columns1:[{title:"编号",type:"index",align:"center",minWidth:60},{title:"玩家ID",key:"uid",align:"center",minWidth:100},{title:"玩家昵称",key:"nickname",align:"center",minWidth:100},{title:"管理",key:"action",minWidth:100,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary"},on:{click:function(){e.modalGray.actID=a.row.uid,e.delGrayUser()}}},"删除")])}}]}),t},created:function(){this.getAppListData()},mounted:function(){},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.$nextTick(function(){t.searchInfo(),t.getAllGrayUser()})})},searchInfo:function(){var t=this;if(""==this.app_id)return this.$Message.error("请选择渠道");this.tableData=[],X({_mod:"jcmanager",_func:"GetGameList",_check:"",_param:{app_id:Number(this.app_id)}}).then(function(e){t.tableData=e.data._param.data,t.total=e.data._param.total||0})},reqEdit:function(){var t=this;X({_mod:"jcmanager",_func:"UpdateGameList",_check:"",_param:{id:this.modalEdit.actID,is_show:Number(this.modalEdit.is_show),power:Number(this.modalEdit.power),bet_max:Number(this.modalEdit.bet_max),icon:this.modalEdit.iconUrl,href:this.modalEdit.gameUrl,ctype:this.modalEdit.ctype}}).then(function(e){t.$Message.success("修改成功！"),t.modalEdit.show=!1,t.searchInfo()})},getAllGrayUser:function(){var t=this;X({_mod:"jcmanager",_func:"GetAllGameGray",_check:"",_param:{appid:Number(this.app_id)}}).then(function(e){t.userList=e.data._param.data||[],t.userTotal=e.data._param.total||0})},addGrayUser:function(){var t=this;if(""==this.uid)return this.$Message.error("请输入灰度玩家ID");X({_mod:"jcmanager",_func:"AddGameGrayUid",_check:"",_param:{uid:Number(this.uid),appid:Number(this.app_id)}}).then(function(e){t.$Message.success("添加成功"),t.getAllGrayUser()})},delGrayUser:function(){var t=this;X({_mod:"jcmanager",_func:"DelGameGrayUid",_check:"",_param:{uid:Number(this.modalGray.actID),appid:Number(this.app_id)}}).then(function(e){t.$Message.success("删除成功"),t.getAllGrayUser()})},onAppSelect:function(){this.getAllGrayUser()},reqDel:function(){var t=this;X({_mod:"jcmanager",_func:"DelGameList",_check:"",_param:{id:this.modalDel.actID}}).then(function(e){t.$Message.success("删除成功"),t.modalDel.show=!1,t.searchInfo()})},reqAdd:function(){var t=this;X({_mod:"jcmanager",_func:"AddGameList",_check:"",_param:{app_id:Number(this.app_id),gid:Number(this.modalAdd.gid),name:this.modalAdd.name,is_show:Number(this.modalAdd.is_show),power:Number(this.modalAdd.power),bet_max:Number(this.modalAdd.bet_max),icon:this.modalAdd.iconUrl,href:this.modalAdd.gameUrl,ctype:Number(this.modalAdd.ctype)}}).then(function(e){t.$Message.success("修改成功！"),t.modalAdd.show=!1,t.searchInfo()})},openAddModal:function(){this.modalAdd.show=!0,this.modalAdd.gid="",this.modalAdd.name="",this.modalAdd.is_show="1",this.modalAdd.power=0,this.modalAdd.bet_max=0,this.modalAdd.iconUrl="",this.modalAdd.gameUrl="",this.modalAdd.ctype=1}},filters:{isNull:function(t){return t||"0"},isNullRmb:function(t){return t?t/100:"0"},isLottery:function(t){var e=t%100==31011;return e}}},Ve={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"cont"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},on:{"on-change":t.onAppSelect},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.searchInfo}},[t._v("查询")]),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.openAddModal}},[t._v("新增")])],1),t._v(" "),a("div",{staticClass:"gray-action"},[a("Form",{attrs:{inline:""}},[a("FormItem",{staticStyle:{width:"200px"},attrs:{"label-width":100,label:"添加灰度名单："}},[a("Input",{attrs:{clearable:!0,placeholder:"请输入玩家ID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addGrayUser}},[t._v("添加")])],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"灰度名单人数："}},[a("a",{staticClass:"total-link",on:{click:function(e){t.modalGray.show=!0}}},[t._v(t._s(t.userTotal)+"人")])])],1)],1),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{border:"",columns:t.columns1,data:t.tableData}}),t._v(" "),a("Modal",{attrs:{width:"480"},model:{value:t.modalEdit.show,callback:function(e){t.$set(t.modalEdit,"show",e)},expression:"modalEdit.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改游戏配置")])]),t._v(" "),a("Form",{attrs:{"label-position":"right"}},[a("FormItem",{attrs:{"label-width":100,label:"游戏名称"}},[a("span",[t._v(t._s(t.modalEdit.name))])]),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"展示状态"}},[a("RadioGroup",{model:{value:t.modalEdit.is_show,callback:function(e){t.$set(t.modalEdit,"is_show",e)},expression:"modalEdit.is_show"}},[a("Radio",{attrs:{label:"1"}},[a("span",[t._v("显示")])]),t._v(" "),a("Radio",{attrs:{label:"0"}},[a("span",[t._v("不显示")])]),t._v(" "),a("Radio",{attrs:{label:"2"}},[a("span",[t._v("灰度")])]),t._v(" "),a("Radio",{attrs:{label:"3",disabled:2!=t.modalEdit.ctype}},[a("span",[t._v("停售")])])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"排序"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.power,callback:function(e){t.$set(t.modalEdit,"power",e)},expression:"modalEdit.power"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"最大下注额度"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalEdit.bet_max,callback:function(e){t.$set(t.modalEdit,"bet_max",e)},expression:"modalEdit.bet_max"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"图标地址"}},[a("Input",{attrs:{placeholder:"请输入图标地址"},model:{value:t.modalEdit.iconUrl,callback:function(e){t.$set(t.modalEdit,"iconUrl",e)},expression:"modalEdit.iconUrl"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"游戏地址"}},[a("Input",{attrs:{disabled:3!=t.modalEdit.ctype,placeholder:"请输入游戏地址"},model:{value:t.modalEdit.gameUrl,callback:function(e){t.$set(t.modalEdit,"gameUrl",e)},expression:"modalEdit.gameUrl"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalEdit.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqEdit}},[t._v("确认修改")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"640"},model:{value:t.modalGray.show,callback:function(e){t.$set(t.modalGray,"show",e)},expression:"modalGray.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("灰度名单")])]),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{border:"",columns:t.modalGray.columns1,data:t.userList}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success"},on:{click:function(e){t.modalGray.show=!1}}},[t._v("确定")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"320"},model:{value:t.modalDel.show,callback:function(e){t.$set(t.modalDel,"show",e)},expression:"modalDel.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("提示")])]),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v("是否确认删除该游戏？")]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalDel.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqDel}},[t._v("确认")])],1)]),t._v(" "),a("Modal",{attrs:{width:"480"},model:{value:t.modalAdd.show,callback:function(e){t.$set(t.modalAdd,"show",e)},expression:"modalAdd.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("新增游戏配置")])]),t._v(" "),a("Form",{attrs:{"label-position":"right"}},[a("FormItem",{attrs:{"label-width":100,label:"gid"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入gid"},model:{value:t.modalAdd.gid,callback:function(e){t.$set(t.modalAdd,"gid",e)},expression:"modalAdd.gid"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"游戏名称"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入游戏名称"},model:{value:t.modalAdd.name,callback:function(e){t.$set(t.modalAdd,"name",e)},expression:"modalAdd.name"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"游戏类型"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.modalAdd.ctype,callback:function(e){t.$set(t.modalAdd,"ctype",e)},expression:"modalAdd.ctype"}},t._l(t.typeList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"展示状态"}},[a("RadioGroup",{model:{value:t.modalAdd.is_show,callback:function(e){t.$set(t.modalAdd,"is_show",e)},expression:"modalAdd.is_show"}},[a("Radio",{attrs:{label:"1"}},[a("span",[t._v("显示")])]),t._v(" "),a("Radio",{attrs:{label:"0"}},[a("span",[t._v("不显示")])]),t._v(" "),a("Radio",{attrs:{label:"2"}},[a("span",[t._v("灰度")])]),t._v(" "),a("Radio",{attrs:{label:"3",disabled:2!=t.modalAdd.ctype}},[a("span",[t._v("停售")])])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"排序"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalAdd.power,callback:function(e){t.$set(t.modalAdd,"power",e)},expression:"modalAdd.power"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"最大下注额度"}},[a("InputNumber",{attrs:{min:0},model:{value:t.modalAdd.bet_max,callback:function(e){t.$set(t.modalAdd,"bet_max",e)},expression:"modalAdd.bet_max"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"图标地址"}},[a("Input",{attrs:{placeholder:"请输入图标地址"},model:{value:t.modalAdd.iconUrl,callback:function(e){t.$set(t.modalAdd,"iconUrl",e)},expression:"modalAdd.iconUrl"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"游戏地址"}},[a("Input",{attrs:{disabled:3!=t.modalAdd.ctype,placeholder:"请输入游戏地址"},model:{value:t.modalAdd.gameUrl,callback:function(e){t.$set(t.modalAdd,"gameUrl",e)},expression:"modalAdd.gameUrl"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalAdd.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqAdd}},[t._v("确认")])],1)],1)],1)])},staticRenderFns:[]};var Qe={name:"RiskSetting",data:function(){var t,e=this;return t={appListData:[],app_id:"",gameListData:[],gidMap:[],tableData:[],columns1:[{title:"id",key:"id",align:"center",minWidth:100},{title:"风控类型",key:"ctype",align:"center",minWidth:120,filters:[{label:"全局风控",value:1},{label:"游戏风控",value:2},{label:"渠道风控",value:3},{label:"玩家风控",value:4}],filterMultiple:!1,filterMethod:function(t,e){return 1===t?1===e.ctype:2===t?2===e.ctype:3===t?3===e.ctype:4===t?4===e.ctype:void 0},render:function(t,e){return t("span",1==e.row.ctype?"全局风控":2==e.row.ctype?"游戏风控":3==e.row.ctype?"渠道风控":"玩家风控")}},{title:"风控对象",key:"cval",align:"center",minWidth:120,render:function(t,a){var i=a.row.cval;return 1==a.row.ctype?i="全局":2==a.row.ctype&&(i=e.gidMap[a.row.cval].game_name),t("span",i)}},{title:"强杀概率(%)",key:"risk_pros",align:"center",minWidth:120,sortable:!0},{title:"强杀时间",key:"start",align:"center",minWidth:120,render:function(t,e){return t("span",e.row.start+" ~ "+e.row.end)}},{title:"管理",key:"action",minWidth:160,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"6px"},on:{click:function(){e.modalEdit.show=!0,e.modalEdit.actID=a.row.id,e.modalEdit.ctype=a.row.ctype,e.modalEdit.cval=a.row.cval,e.modalEdit.risk_pros=a.row.risk_pros,e.modalEdit.start=a.row.start,e.modalEdit.end=a.row.end}}},"修改"),t("Button",{props:{type:"primary"},on:{click:function(){e.modalDel.show=!0,e.modalDel.actID=a.row.id}}},"删除")])}}]},te()(t,"tableData",[]),te()(t,"total",0),te()(t,"modalEdit",{show:!1,actID:0,ctype:"1",cval:"1",risk_pros:0,start:"00:00",end:"23:59"}),te()(t,"modalAdd",{show:!1,ctype:"1",cval:"1",risk_pros:0,start:"00:00",end:"23:59"}),te()(t,"modalDel",{show:!1,actID:0}),t},created:function(){this.getAppListData()},mounted:function(){},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.getGameList()})},getGameList:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppGameList",_check:"",_param:{appid:this.app_id}}).then(function(e){void 0==e.data._param.list?t.gameListData=[]:t.gameListData=e.data._param.list,t.createGidMap(t.gameListData),t.$nextTick(function(){t.searchInfo()})})},createGidMap:function(t){if(null!=t&&void 0!=t){this.gidMap=[];for(var e=0;e<t.length;e++)this.gidMap[t[e].gameid]=t[e]}},searchInfo:function(){var t=this;if(""==this.app_id)return this.$Message.error("请选择渠道");this.tableData=[],X({_mod:"jcmanager",_func:"GetGameRiskList",_check:"",_param:{app_id:Number(this.app_id)}}).then(function(e){t.tableData=e.data._param.data,t.total=e.data._param.total||0})},reqEdit:function(){var t=this;X({_mod:"jcmanager",_func:"UpdateGameRisk",_check:"",_param:{id:this.modalEdit.actID,app_id:Number(this.app_id),ctype:Number(this.modalEdit.ctype),cval:Number(this.modalEdit.cval),risk_pros:Number(this.modalEdit.risk_pros),start:this.modalEdit.start,end:this.modalEdit.end}}).then(function(e){t.$Message.success("修改成功！"),t.modalEdit.show=!1,t.searchInfo()})},reqAdd:function(){var t=this;if(""==this.modalAdd.cval||isNaN(Number(this.modalAdd.cval))||Number(this.modalAdd.cval)<0)return this.$Message.error("请输入正确的强杀对象");X({_mod:"jcmanager",_func:"UpdateGameRisk",_check:"",_param:{app_id:Number(this.app_id),ctype:Number(this.modalAdd.ctype),cval:Number(this.modalAdd.cval),risk_pros:Number(this.modalAdd.risk_pros),start:this.modalAdd.start,end:this.modalAdd.end}}).then(function(e){t.$Message.success("新增成功！"),t.modalAdd.show=!1,t.searchInfo()})},onGroupChange:function(t){this.modalAdd.cval="1"==t?1:""},format:function(t){return t+"%"},reqDel:function(){var t=this;X({_mod:"jcmanager",_func:"DelGameRisk",_check:"",_param:{app_id:Number(this.app_id),id:Number(this.modalDel.actID)}}).then(function(e){t.$Message.success("删除成功！"),t.modalDel.show=!1,t.searchInfo()})}},filters:{isNull:function(t){return t||"0"},isNullRmb:function(t){return t?t/100:"0"}}},Je={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"cont"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.searchInfo}},[t._v("查询")]),t._v(" "),a("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:function(e){t.modalAdd.show=!0}}},[t._v("新增")])],1),t._v(" "),a("Table",{staticStyle:{"margin-bottom":"30px"},attrs:{border:"",columns:t.columns1,data:t.tableData}}),t._v(" "),a("Modal",{attrs:{width:"480"},model:{value:t.modalEdit.show,callback:function(e){t.$set(t.modalEdit,"show",e)},expression:"modalEdit.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改风控配置")])]),t._v(" "),a("Form",{attrs:{"label-position":"right"}},[a("FormItem",{attrs:{"label-width":100,label:"风控类型"}},[a("span",[t._v(t._s(1==t.modalEdit.ctype?"全局风控":2==t.modalEdit.ctype?"游戏风控":3==t.modalEdit.ctype?"渠道风控":"玩家风控"))])]),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"风控对象"}},["1"==t.modalEdit.ctype?a("span",[t._v("全局")]):t._e(),t._v(" "),"2"==t.modalEdit.ctype?a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.modalEdit.cval,callback:function(e){t.$set(t.modalEdit,"cval",e)},expression:"modalEdit.cval"}},t._l(t.gameListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.game_name))])})):t._e(),t._v(" "),"3"==t.modalEdit.ctype?a("Input",{staticStyle:{width:"120px"},attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.modalEdit.cval,callback:function(e){t.$set(t.modalEdit,"cval",e)},expression:"modalEdit.cval"}}):t._e(),t._v(" "),"4"==t.modalEdit.ctype?a("Input",{staticStyle:{width:"120px"},attrs:{clearable:!0,placeholder:"请输入uid"},model:{value:t.modalEdit.cval,callback:function(e){t.$set(t.modalEdit,"cval",e)},expression:"modalEdit.cval"}}):t._e()],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"强杀概率"}},[a("Slider",{staticStyle:{width:"300px"},attrs:{"show-input":"","tip-format":t.format},model:{value:t.modalEdit.risk_pros,callback:function(e){t.$set(t.modalEdit,"risk_pros",e)},expression:"modalEdit.risk_pros"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"当天开始时间"}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("TimePicker",{attrs:{type:"time",format:"HH:mm",placeholder:"Select time"},model:{value:t.modalEdit.start,callback:function(e){t.$set(t.modalEdit,"start",e)},expression:"modalEdit.start"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{span:"6"}},[t._v("当天结束时间")]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("TimePicker",{attrs:{type:"time",format:"HH:mm",placeholder:"Select time"},model:{value:t.modalEdit.end,callback:function(e){t.$set(t.modalEdit,"end",e)},expression:"modalEdit.end"}})],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalEdit.show=!1}}},[t._v("取消修改")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqEdit}},[t._v("确认修改")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"480"},model:{value:t.modalAdd.show,callback:function(e){t.$set(t.modalAdd,"show",e)},expression:"modalAdd.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("新增风控配置")])]),t._v(" "),a("Form",{attrs:{"label-position":"right"}},[a("FormItem",{attrs:{"label-width":100,label:"风控类型"}},[a("RadioGroup",{on:{"on-change":t.onGroupChange},model:{value:t.modalAdd.ctype,callback:function(e){t.$set(t.modalAdd,"ctype",e)},expression:"modalAdd.ctype"}},[a("Radio",{attrs:{label:"1"}},[a("span",[t._v("全局风控")])]),t._v(" "),a("Radio",{attrs:{label:"2"}},[a("span",[t._v("游戏风控")])]),t._v(" "),a("Radio",{attrs:{label:"3"}},[a("span",[t._v("渠道风控")])]),t._v(" "),a("Radio",{attrs:{label:"4"}},[a("span",[t._v("玩家风控")])])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"风控对象"}},["1"==t.modalAdd.ctype?a("span",[t._v("全局")]):t._e(),t._v(" "),"2"==t.modalAdd.ctype?a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.modalAdd.cval,callback:function(e){t.$set(t.modalAdd,"cval",e)},expression:"modalAdd.cval"}},t._l(t.gameListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.game_name))])})):t._e(),t._v(" "),"3"==t.modalAdd.ctype?a("Input",{staticStyle:{width:"120px"},attrs:{clearable:!0,placeholder:"请输入渠道号"},model:{value:t.modalAdd.cval,callback:function(e){t.$set(t.modalAdd,"cval",e)},expression:"modalAdd.cval"}}):t._e(),t._v(" "),"4"==t.modalAdd.ctype?a("Input",{staticStyle:{width:"120px"},attrs:{clearable:!0,placeholder:"请输入uid"},model:{value:t.modalAdd.cval,callback:function(e){t.$set(t.modalAdd,"cval",e)},expression:"modalAdd.cval"}}):t._e()],1),t._v(" "),a("FormItem",{attrs:{"label-width":100,label:"强杀概率"}},[a("Slider",{staticStyle:{width:"300px"},attrs:{"show-input":"","tip-format":t.format},model:{value:t.modalAdd.risk_pros,callback:function(e){t.$set(t.modalAdd,"risk_pros",e)},expression:"modalAdd.risk_pros"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":90,label:"当天开始时间"}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("TimePicker",{attrs:{type:"time",format:"HH:mm",placeholder:"Select time"},model:{value:t.modalAdd.start,callback:function(e){t.$set(t.modalAdd,"start",e)},expression:"modalAdd.start"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{span:"6"}},[t._v("当天结束时间")]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("TimePicker",{attrs:{type:"time",format:"HH:mm",placeholder:"Select time"},model:{value:t.modalAdd.end,callback:function(e){t.$set(t.modalAdd,"end",e)},expression:"modalAdd.end"}})],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalAdd.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqAdd}},[t._v("确认")])],1)],1),t._v(" "),a("Modal",{attrs:{width:"320"},model:{value:t.modalDel.show,callback:function(e){t.$set(t.modalDel,"show",e)},expression:"modalDel.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("提示")])]),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v("是否确认删除该条配置？")]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalDel.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqDel}},[t._v("确认")])],1)])],1)])},staticRenderFns:[]};var Ye=[{path:"rateset",name:"RateSet",component:a("VU/8")(je,qe,!1,function(t){a("BUzS")},null,null).exports,meta:{name:"risk"}},{path:"gamesetting",name:"GameSetting",component:a("VU/8")(He,Ve,!1,function(t){a("TXKY")},null,null).exports,meta:{name:"risk"}},{path:"risksetting",name:"RiskSetting",component:a("VU/8")(Qe,Je,!1,function(t){a("uryJ")},null,null).exports,meta:{name:"risk"}}],Xe={name:"GuessAward",data:function(){var t=this;return{userinfo:JSON.parse(x("userinfo")),date:[S(0).from,S(0).to],app_id:"",game_id:"",appListData:[],gameListData:[],qihao:"",tableData:[],pagesize:15,page:1,pageTotal:0,columns:[{title:"id",key:"id",align:"center",minWidth:80},{title:"游戏名字",key:"game_name",align:"center",minWidth:100},{title:"开奖期号",key:"qihao",align:"center",minWidth:120},{title:"投注开始时间",key:"tz_time",align:"center",sortable:!0,minWidth:120},{title:"投注结束时间",key:"tz_end",align:"center",sortable:!0,minWidth:120},{title:"操作",key:"action",minWidth:100,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",disabled:void 0==a.row.award||""==a.row.award},on:{click:function(){t.$Modal.info({title:"详情",content:'<p style="word-wrap:break-word;word-break:break-all;">'+a.row.award+"</p>"})}}},"开奖详情")])}}],shortcutDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()},shortcuts:[{text:"昨 天",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-864e5;return[t=new Date(1e3*parseInt(t/1e3)),t]}},{text:"今 天",value:function(){return[new Date((new Date).setHours(0,0,0,0)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一星期",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-5184e5;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近一个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-2592e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}},{text:"最近三个月",value:function(){var t=new Date((new Date).setHours(0,0,0,0))-7776e6;return[t=new Date(1e3*parseInt(t/1e3)),new Date(new Date((new Date).toLocaleDateString()).getTime())]}}]}}},filters:{isNull:function(t){return void 0==t?"0":t},isNullRmb:function(t){return void 0==t?"0":t/100}},created:function(){this.getAppListData()},methods:{search:function(t){var e=this;return""==this.app_id?this.$Message.error("请选择渠道"):""==this.date[0]||""==this.date[1]?this.$Message.error("请选择正确的时间查询"):(0==t&&(this.page=1),this.tableData=[],void X({_mod:"jcmanager",_func:"GetGameAwardList",_check:"",_param:{app_id:Number(this.app_id),gid:Number(this.game_id),start:Math.round(this.date[0].getTime()/1e3),end:Math.round(this.date[1].getTime()/1e3+86400-1),qihao:this.qihao,page:this.page,pagesize:this.pagesize}}).then(function(t){void 0==t.data._param.data?e.tableData=[]:e.tableData=t.data._param.data,e.pageTotal=t.data._param.total}))},getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||"",t.appSelectOnChange(),t.$nextTick(function(){t.search(0)})})},appSelectOnChange:function(){var t=this;if(""==this.app_id)return this.$Message.error("请选择渠道");X({_mod:"jcmanager",_func:"GetAppGameList",_check:"",_param:{appid:Number(this.app_id)}}).then(function(e){void 0==e.data._param.list?t.gameListData=[]:t.gameListData=e.data._param.list})},pageChange:function(t){this.page=t,this.search()}}},Ke={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("div",{staticClass:"search-wrap"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"请选择",transfer:""},on:{"on-change":function(e){t.appSelectOnChange()}},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"选择游戏"}},[a("Select",{staticStyle:{width:"100px"},attrs:{disabled:0!=t.userinfo.type,placeholder:"全部",clearable:!0,transfer:""},model:{value:t.game_id,callback:function(e){t.game_id=e},expression:"game_id"}},t._l(t.gameListData,function(e){return a("Option",{key:e.gameid,attrs:{value:e.gameid}},[t._v(t._s(e.game_name)+"\n                    ")])}))],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"开奖期号"}},[a("Input",{staticStyle:{width:"120px"},attrs:{clearable:!0,placeholder:"请输入开奖期号"},model:{value:t.qihao,callback:function(e){t.qihao=e},expression:"qihao"}})],1),t._v(" "),a("FormItem",{attrs:{"label-width":60,label:"选择时间"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.shortcutDate,placement:"bottom-start",placeholder:"选择时间段",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(0)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData}}),t._v(" "),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":t.pagesize,total:t.pageTotal,"show-total":"",current:t.page},on:{"on-change":t.pageChange}})],1)},staticRenderFns:[]};var Ze=[{path:"guessaward",name:"GuessAward",component:a("VU/8")(Xe,Ke,!1,function(t){a("YOL3")},"data-v-68e8ae37",null).exports,meta:{name:"guess"}}],ta=[{path:"mallAdminister",name:"mallAdminister",component:J,children:[].concat(l()(xt),l()(Ct),l()(Ft),l()(Gt),l()(ie),l()(We),l()(Ge),l()(Ye),l()(Ze))}],ea={name:"administerMenu",data:function(){return{menus:[],active:"1-1",names:1}},computed:p()({},Object(E.c)(["menu"])),created:function(){this.menu.length>0&&this.menuFun()},methods:{menuFun:function(){this.menus=this.menu[L(this.$route,this.menu,1)],this.names=L(this.$route,this.menu,2)+1,this.active=L(this.$route,this.menu,2)+1+"-"+(this.$route,L(this.$route,this.menu,3)+1)}},watch:{menu:"menuFun"}},aa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[t.menus?a("div",{staticClass:"layout-left-nav"},[0!=t.menus.length?a("Menu",{attrs:{"active-name":t.active,"open-names":[t.names],accordion:!0,width:"auto"}},t._l(t.menus.children,function(e,i){return a("Submenu",{key:e.id,attrs:{name:i+1}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:0==e.icon.length?t.GG.iconBase:e.icon}}),t._v(t._s(e.name)+"\n                ")],1),t._v(" "),t._l(e.children,function(e,n){return a("Menu-item",{key:e.id,attrs:{name:String(i+1+"-"+(n+1))}},[a("router-link",{attrs:{to:e.url}},[a("Icon",{attrs:{type:0==e.icon.length?t.GG.iconBase:e.icon}}),t._v(t._s(e.name))],1)],1)})],2)})):t._e()],1):t._e(),t._v(" "),a("div",{staticClass:"layout-right-content"},[a("div",{staticClass:"layout-content-main"},[a("router-view")],1)])])},staticRenderFns:[]},ia=a("VU/8")(ea,aa,!1,null,null,null).exports,na=["ios-add","md-add","ios-add-circle","ios-add-circle-outline","md-add-circle","ios-alarm","ios-alarm-outline","md-alarm","ios-albums","ios-albums-outline","md-albums","ios-alert","ios-alert-outline","md-alert","ios-american-football","ios-american-football-outline","md-american-football","ios-analytics","ios-analytics-outline","md-analytics","logo-android","logo-angular","ios-aperture","ios-aperture-outline","md-aperture","logo-apple","ios-apps","ios-apps-outline","md-apps","ios-appstore","ios-appstore-outline","md-appstore","ios-archive","ios-archive-outline","md-archive","ios-arrow-back","md-arrow-back","ios-arrow-down","md-arrow-down","ios-arrow-dropdown","md-arrow-dropdown","ios-arrow-dropdown-circle","md-arrow-dropdown-circle","ios-arrow-dropleft","md-arrow-dropleft","ios-arrow-dropleft-circle","md-arrow-dropleft-circle","ios-arrow-dropright","md-arrow-dropright","ios-arrow-dropright-circle","md-arrow-dropright-circle","ios-arrow-dropup","md-arrow-dropup","ios-arrow-dropup-circle","md-arrow-dropup-circle","ios-arrow-forward","md-arrow-forward","ios-arrow-round-back","md-arrow-round-back","ios-arrow-round-down","md-arrow-round-down","ios-arrow-round-forward","md-arrow-round-forward","ios-arrow-round-up","md-arrow-round-up","ios-arrow-up","md-arrow-up","ios-at","ios-at-outline","md-at","ios-attach","md-attach","ios-backspace","ios-backspace-outline","md-backspace","ios-barcode","ios-barcode-outline","md-barcode","ios-baseball","ios-baseball-outline","md-baseball","ios-basket","ios-basket-outline","md-basket","ios-basketball","ios-basketball-outline","md-basketball","ios-battery-charging","md-battery-charging","ios-battery-dead","md-battery-dead","ios-battery-full","md-battery-full","ios-beaker","ios-beaker-outline","md-beaker","ios-beer","ios-beer-outline","md-beer","ios-bicycle","md-bicycle","logo-bitcoin","ios-bluetooth","md-bluetooth","ios-boat","ios-boat-outline","md-boat","ios-body","ios-body-outline","md-body","ios-bonfire","ios-bonfire-outline","md-bonfire","ios-book","ios-book-outline","md-book","ios-bookmark","ios-bookmark-outline","md-bookmark","ios-bookmarks","ios-bookmarks-outline","md-bookmarks","ios-bowtie","ios-bowtie-outline","md-bowtie","ios-briefcase","ios-briefcase-outline","md-briefcase","ios-browsers","ios-browsers-outline","md-browsers","ios-brush","ios-brush-outline","md-brush","logo-buffer","ios-bug","ios-bug-outline","md-bug","ios-build","ios-build-outline","md-build","ios-bulb","ios-bulb-outline","md-bulb","ios-bus","ios-bus-outline","md-bus","ios-cafe","ios-cafe-outline","md-cafe","ios-calculator","ios-calculator-outline","md-calculator","ios-calendar","ios-calendar-outline","md-calendar","ios-call","ios-call-outline","md-call","ios-camera","ios-camera-outline","md-camera","ios-car","ios-car-outline","md-car","ios-card","ios-card-outline","md-card","ios-cart","ios-cart-outline","md-cart","ios-cash","ios-cash-outline","md-cash","ios-chatboxes","ios-chatboxes-outline","md-chatboxes","ios-chatbubbles","ios-chatbubbles-outline","md-chatbubbles","ios-checkbox","ios-checkbox-outline","md-checkbox","md-checkbox-outline","ios-checkmark","md-checkmark","ios-checkmark-circle","ios-checkmark-circle-outline","md-checkmark-circle","md-checkmark-circle-outline","logo-chrome","ios-clipboard","ios-clipboard-outline","md-clipboard","ios-clock","ios-clock-outline","md-clock","ios-close","md-close","ios-close-circle","ios-close-circle-outline","md-close-circle","ios-closed-captioning","ios-closed-captioning-outline","md-closed-captioning","ios-cloud","ios-cloud-outline","md-cloud","ios-cloud-circle","ios-cloud-circle-outline","md-cloud-circle","ios-cloud-done","ios-cloud-done-outline","md-cloud-done","ios-cloud-download","ios-cloud-download-outline","md-cloud-download","md-cloud-outline","ios-cloud-upload","ios-cloud-upload-outline","md-cloud-upload","ios-cloudy","ios-cloudy-outline","md-cloudy","ios-cloudy-night","ios-cloudy-night-outline","md-cloudy-night","ios-code","md-code","ios-code-download","md-code-download","ios-code-working","md-code-working","logo-codepen","ios-cog","ios-cog-outline","md-cog","ios-color-fill","ios-color-fill-outline","md-color-fill","ios-color-filter","ios-color-filter-outline","md-color-filter","ios-color-palette","ios-color-palette-outline","md-color-palette","ios-color-wand","ios-color-wand-outline","md-color-wand","ios-compass","ios-compass-outline","md-compass","ios-construct","ios-construct-outline","md-construct","ios-contact","ios-contact-outline","md-contact","ios-contacts","ios-contacts-outline","md-contacts","ios-contract","md-contract","ios-contrast","md-contrast","ios-copy","ios-copy-outline","md-copy","ios-create","ios-create-outline","md-create","ios-crop","ios-crop-outline","md-crop","logo-css3","ios-cube","ios-cube-outline","md-cube","ios-cut","ios-cut-outline","md-cut","logo-designernews","ios-desktop","ios-desktop-outline","md-desktop","ios-disc","ios-disc-outline","md-disc","ios-document","ios-document-outline","md-document","ios-done-all","md-done-all","ios-download","ios-download-outline","md-download","logo-dribbble","logo-dropbox","ios-easel","ios-easel-outline","md-easel","ios-egg","ios-egg-outline","md-egg","logo-euro","ios-exit","ios-exit-outline","md-exit","ios-expand","md-expand","ios-eye","ios-eye-outline","md-eye","ios-eye-off","ios-eye-off-outline","md-eye-off","logo-facebook","ios-fastforward","ios-fastforward-outline","md-fastforward","ios-female","md-female","ios-filing","ios-filing-outline","md-filing","ios-film","ios-film-outline","md-film","ios-finger-print","md-finger-print","ios-flag","ios-flag-outline","md-flag","ios-flame","ios-flame-outline","md-flame","ios-flash","ios-flash-outline","md-flash","ios-flask","ios-flask-outline","md-flask","ios-flower","ios-flower-outline","md-flower","ios-folder","ios-folder-outline","md-folder","ios-folder-open","ios-folder-open-outline","md-folder-open","ios-football","ios-football-outline","md-football","logo-foursquare","logo-freebsd-devil","ios-funnel","ios-funnel-outline","md-funnel","ios-game-controller-a","ios-game-controller-a-outline","md-game-controller-a","ios-game-controller-b","ios-game-controller-b-outline","md-game-controller-b","ios-git-branch","md-git-branch","ios-git-commit","md-git-commit","ios-git-compare","md-git-compare","ios-git-merge","md-git-merge","ios-git-network","md-git-network","ios-git-pull-request","md-git-pull-request","logo-github","ios-glasses","ios-glasses-outline","md-glasses","ios-globe","ios-globe-outline","md-globe","logo-google","logo-googleplus","ios-grid","ios-grid-outline","md-grid","logo-hackernews","ios-hammer","ios-hammer-outline","md-hammer","ios-hand","ios-hand-outline","md-hand","ios-happy","ios-happy-outline","md-happy","ios-headset","ios-headset-outline","md-headset","ios-heart","ios-heart-outline","md-heart","md-heart-outline","ios-help","md-help","ios-help-buoy","ios-help-buoy-outline","md-help-buoy","ios-help-circle","ios-help-circle-outline","md-help-circle","ios-home","ios-home-outline","md-home","logo-html5","ios-ice-cream","ios-ice-cream-outline","md-ice-cream","ios-image","ios-image-outline","md-image","ios-images","ios-images-outline","md-images","ios-infinite","ios-infinite-outline","md-infinite","ios-information","md-information","ios-information-circle","ios-information-circle-outline","md-information-circle","logo-instagram","ios-ionic","ios-ionic-outline","md-ionic","ios-ionitron","ios-ionitron-outline","md-ionitron","logo-javascript","ios-jet","ios-jet-outline","md-jet","ios-key","ios-key-outline","md-key","ios-keypad","ios-keypad-outline","md-keypad","ios-laptop","md-laptop","ios-leaf","ios-leaf-outline","md-leaf","ios-link","ios-link-outline","md-link","logo-linkedin","ios-list","md-list","ios-list-box","ios-list-box-outline","md-list-box","ios-locate","ios-locate-outline","md-locate","ios-lock","ios-lock-outline","md-lock","ios-log-in","md-log-in","ios-log-out","md-log-out","ios-magnet","ios-magnet-outline","md-magnet","ios-mail","ios-mail-outline","md-mail","ios-mail-open","ios-mail-open-outline","md-mail-open","ios-male","md-male","ios-man","ios-man-outline","md-man","ios-map","ios-map-outline","md-map","logo-markdown","ios-medal","ios-medal-outline","md-medal","ios-medical","ios-medical-outline","md-medical","ios-medkit","ios-medkit-outline","md-medkit","ios-megaphone","ios-megaphone-outline","md-megaphone","ios-menu","ios-menu-outline","md-menu","ios-mic","ios-mic-outline","md-mic","ios-mic-off","ios-mic-off-outline","md-mic-off","ios-microphone","ios-microphone-outline","md-microphone","ios-moon","ios-moon-outline","md-moon","ios-more","ios-more-outline","md-more","ios-move","md-move","ios-musical-note","ios-musical-note-outline","md-musical-note","ios-musical-notes","ios-musical-notes-outline","md-musical-notes","ios-navigate","ios-navigate-outline","md-navigate","ios-no-smoking","ios-no-smoking-outline","md-no-smoking","logo-nodejs","ios-notifications","ios-notifications-outline","md-notifications","ios-notifications-off","ios-notifications-off-outline","md-notifications-off","md-notifications-outline","ios-nuclear","ios-nuclear-outline","md-nuclear","ios-nutrition","ios-nutrition-outline","md-nutrition","logo-octocat","ios-open","ios-open-outline","md-open","ios-options","ios-options-outline","md-options","ios-outlet","ios-outlet-outline","md-outlet","ios-paper","ios-paper-outline","md-paper","ios-paper-plane","ios-paper-plane-outline","md-paper-plane","ios-partly-sunny","ios-partly-sunny-outline","md-partly-sunny","ios-pause","ios-pause-outline","md-pause","ios-paw","ios-paw-outline","md-paw","ios-people","ios-people-outline","md-people","ios-person","ios-person-outline","md-person","ios-person-add","ios-person-add-outline","md-person-add","ios-phone-landscape","md-phone-landscape","ios-phone-portrait","md-phone-portrait","ios-photos","ios-photos-outline","md-photos","ios-pie","ios-pie-outline","md-pie","ios-pin","ios-pin-outline","md-pin","ios-pint","ios-pint-outline","md-pint","logo-pinterest","ios-pizza","ios-pizza-outline","md-pizza","ios-plane","ios-plane-outline","md-plane","ios-planet","ios-planet-outline","md-planet","ios-play","ios-play-outline","md-play","logo-playstation","ios-podium","ios-podium-outline","md-podium","ios-power","ios-power-outline","md-power","ios-pricetag","ios-pricetag-outline","md-pricetag","ios-pricetags","ios-pricetags-outline","md-pricetags","ios-print","ios-print-outline","md-print","ios-pulse","ios-pulse-outline","md-pulse","logo-python","ios-qr-scanner","md-qr-scanner","ios-quote","ios-quote-outline","md-quote","ios-radio","ios-radio-outline","md-radio","ios-radio-button-off","md-radio-button-off","ios-radio-button-on","md-radio-button-on","ios-rainy","ios-rainy-outline","md-rainy","ios-recording","ios-recording-outline","md-recording","logo-reddit","ios-redo","ios-redo-outline","md-redo","ios-refresh","md-refresh","ios-refresh-circle","ios-refresh-circle-outline","md-refresh-circle","ios-remove","md-remove","ios-remove-circle","ios-remove-circle-outline","md-remove-circle","ios-reorder","md-reorder","ios-repeat","md-repeat","ios-resize","md-resize","ios-restaurant","ios-restaurant-outline","md-restaurant","ios-return-left","md-return-left","ios-return-right","md-return-right","ios-reverse-camera","ios-reverse-camera-outline","md-reverse-camera","ios-rewind","ios-rewind-outline","md-rewind","ios-ribbon","ios-ribbon-outline","md-ribbon","ios-rose","ios-rose-outline","md-rose","logo-rss","ios-sad","ios-sad-outline","md-sad","logo-sass","ios-school","ios-school-outline","md-school","ios-search","ios-search-outline","md-search","ios-send","ios-send-outline","md-send","ios-settings","ios-settings-outline","md-settings","ios-share","ios-share-outline","md-share","ios-share-alt","ios-share-alt-outline","md-share-alt","ios-shirt","ios-shirt-outline","md-shirt","ios-shuffle","md-shuffle","ios-skip-backward","ios-skip-backward-outline","md-skip-backward","ios-skip-forward","ios-skip-forward-outline","md-skip-forward","logo-skype","logo-snapchat","ios-snow","ios-snow-outline","md-snow","ios-speedometer","ios-speedometer-outline","md-speedometer","ios-square","ios-square-outline","md-square","md-square-outline","ios-star","ios-star-outline","md-star","ios-star-half","md-star-half","md-star-outline","ios-stats","ios-stats-outline","md-stats","logo-steam","ios-stopwatch","ios-stopwatch-outline","md-stopwatch","ios-subway","ios-subway-outline","md-subway","ios-sunny","ios-sunny-outline","md-sunny","ios-swap","md-swap","ios-switch","ios-switch-outline","md-switch","ios-sync","md-sync","ios-tablet-landscape","md-tablet-landscape","ios-tablet-portrait","md-tablet-portrait","ios-tennisball","ios-tennisball-outline","md-tennisball","ios-text","ios-text-outline","md-text","ios-thermometer","ios-thermometer-outline","md-thermometer","ios-thumbs-down","ios-thumbs-down-outline","md-thumbs-down","ios-thumbs-up","ios-thumbs-up-outline","md-thumbs-up","ios-thunderstorm","ios-thunderstorm-outline","md-thunderstorm","ios-time","ios-time-outline","md-time","ios-timer","ios-timer-outline","md-timer","ios-train","ios-train-outline","md-train","ios-transgender","md-transgender","ios-trash","ios-trash-outline","md-trash","ios-trending-down","md-trending-down","ios-trending-up","md-trending-up","ios-trophy","ios-trophy-outline","md-trophy","logo-tumblr","logo-tux","logo-twitch","logo-twitter","ios-umbrella","ios-umbrella-outline","md-umbrella","ios-undo","ios-undo-outline","md-undo","ios-unlock","ios-unlock-outline","md-unlock","logo-usd","ios-videocam","ios-videocam-outline","md-videocam","logo-vimeo","ios-volume-down","md-volume-down","ios-volume-mute","md-volume-mute","ios-volume-off","md-volume-off","ios-volume-up","md-volume-up","ios-walk","md-walk","ios-warning","ios-warning-outline","md-warning","ios-watch","md-watch","ios-water","ios-water-outline","md-water","logo-whatsapp","ios-wifi","ios-wifi-outline","md-wifi","logo-windows","ios-wine","ios-wine-outline","md-wine","ios-woman","ios-woman-outline","md-woman","logo-wordpress","logo-xbox","logo-yahoo","logo-yen","logo-youtube","ios-loading"],oa={name:"menuAdminister",data:function(){return{loadingData:!0,deletemenumodal:!1,iconmodal:!1,iconmodalFlag:0,curicons:"",iconSearch:"",deleteMenu:[],systemMenu:[],selectMenu:[],modalMenuicons:[],addmenu:{name:"",url:"",pid:"0",ispage:"",icon:"",classname:"",sort:1},editmenu:{id:"",name:"",url:"",pid:"",ispage:"",icon:"",classname:"",sort:1},editmenuTwo:{id:"",name:"",url:"",pid:"",ispage:"",icon:"",classname:"",sort:1},menuruleInline:{name:[{required:!0,message:"请填写菜单名称",trigger:"blur"}]}}},computed:p()({},Object(E.c)(["menu"])),created:function(){this.getMenus(),this.modalMenuicons=na},methods:p()({},Object(E.b)(["setMenu"]),{openicons:function(t){this.iconmodal=!0,this.iconmodalFlag=t,this.curicons=this.editmenu.icon,this.iconSearch=""},treeChange:function(t){0!=t.length&&(this.editmenu.sort=t[0].sort,this.editmenu.id=t[0].id,this.editmenu.name=t[0].title,this.editmenu.url=t[0].url,this.editmenu.pid=t[0].pid,this.editmenu.ispage=String(t[0].ispage),this.editmenu.icon=t[0].icon,this.editmenu.classname=t[0].classname,this.editmenu.sort=Number(t[0].sort),this.editmenuTwo.id=t[0].id,this.editmenuTwo.name=t[0].title,this.editmenuTwo.url=t[0].url,this.editmenuTwo.pid=t[0].pid,this.editmenuTwo.ispage=String(t[0].ispage),this.editmenuTwo.icon=t[0].icon,this.editmenuTwo.class=t[0].class,this.editmenuTwo.sort=Number(t[0].sort))},selecticon:function(t){this.iconmodal=!1,0==this.iconmodalFlag?this.addmenu.icon=t:this.editmenu.icon=t},getMenus:function(){var t=this;F().then(function(e){e=e.data._param.list,t.systemMenu.length=0,t.selectMenu.length=0,t.selectMenu.push({id:"0",name:"|---"+t.GG.proName});for(var a=0;a<e.length;a++){t.systemMenu.push({expand:!0,title:e[a].name,icon:e[a].icon,id:e[a].id,url:e[a].url,sort:e[a].sort,ispage:""==e[a].url?0:1,pid:e[a].pid,classname:e[a].classname,children:[]}),t.selectMenu.push({id:e[a].id,name:"|------"+e[a].name});for(var i=0;i<e[a].children.length;i++)if(t.systemMenu[a].children.push({expand:!1,title:e[a].children[i].name,icon:e[a].children[i].icon,id:e[a].children[i].id,url:e[a].children[i].url,sort:e[a].children[i].sort,ispage:""==e[a].children[i].url?0:1,pid:e[a].children[i].pid,classname:e[a].children[i].classname,children:[]}),t.selectMenu.push({id:e[a].children[i].id,name:"|------|------"+e[a].children[i].name}),!C(e[a].children[i].children))for(var n=0;n<e[a].children[i].children.length;n++)t.systemMenu[a].children[i].children.push({expand:!1,title:e[a].children[i].children[n].name,icon:e[a].children[i].children[n].icon,id:e[a].children[i].children[n].id,url:e[a].children[i].children[n].url,sort:e[a].children[i].children[n].sort,ispage:""==e[a].children[i].children[n].url?0:1,pid:e[a].children[i].children[n].pid,classname:e[a].children[i].children[n].classname}),t.selectMenu.push({id:e[a].children[i].children[n].id,name:"|------|------|------"+e[a].children[i].children[n].name})}})},handleSubmit:function(t,e){var a=this;"addmenu"==e?(t.ispage=Number(t.ispage),t.pid=Number(t.pid),P(t).then(function(t){a.$Message.success("添加菜单成功!"),a.getMenus(),a.handleReset(e),a.gGetMenu()})):"editmenu"==e&&(t.ispage=Number(t.ispage),P(t).then(function(t){a.$Message.success("修改菜单成功!"),a.getMenus(),a.handleReset(e),a.gGetMenu()}))},handleReset:function(t){"editmenu"==t?(this.editmenu.id="",this.editmenu.name="",this.editmenu.url="",this.editmenu.pid="",this.editmenu.ispage="",this.editmenu.icon="",this.editmenu.classname="",this.editmenu.sort=1):"addmenu"==t&&(this.addmenu.name="",this.addmenu.url="",this.addmenu.pid="0",this.addmenu.ispage="",this.addmenu.icon="",this.addmenu.classname="",this.addmenu.sort=1)},deletemenu:function(){var t,e=this;(t=Number(this.deleteMenu.join(",")),N({data:{_mod:"jcmanager",_func:"DelMenu",_check:"",_param:{menu_id:t}}})).then(function(t){e.$Message.success("删除菜单成功!"),e.deletemenumodal=!1,e.getMenus(),e.gGetMenu()})},gGetMenu:function(){var t=this;$().then(function(e){t.setMenu(e.data._param.list)})}})},ra={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menuManage"},[a("div",{staticClass:"left-menu"},[a("div",{staticClass:"title"},[a("Tooltip",{staticStyle:{float:"right"},attrs:{content:"批量设置菜单",placement:"bottom-end"}},[a("span",{on:{click:function(e){t.deletemenumodal=!0}}},[a("Icon",{attrs:{type:"ios-cog-outline"}})],1)]),t._v("                                                         \n            系统菜单\n        ")],1),t._v(" "),a("Tree",{attrs:{data:t.systemMenu},on:{"on-select-change":t.treeChange}})],1),t._v(" "),a("div",{staticClass:"right-content"},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Row",{attrs:{gutter:24}},[a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"menu-title"},[t._v("添加菜单")]),t._v(" "),a("Form",{ref:"addmenu",attrs:{model:t.addmenu,rules:t.menuruleInline,"label-position":"top"}},[a("Form-item",{attrs:{label:"菜单名称",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.addmenu.name,callback:function(e){t.$set(t.addmenu,"name",e)},expression:"addmenu.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"菜单链接",prop:"url"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.addmenu.url,callback:function(e){t.$set(t.addmenu,"url",e)},expression:"addmenu.url"}})],1),t._v(" "),a("Form-item",{attrs:{label:"上级菜单",prop:"pid"}},[a("Select",{attrs:{placeholder:"请选择",transfer:""},model:{value:t.addmenu.pid,callback:function(e){t.$set(t.addmenu,"pid",e)},expression:"addmenu.pid"}},t._l(t.selectMenu,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("Form-item",{attrs:{label:"是否是页面",prop:"ispage"}},[a("Select",{attrs:{placeholder:"请选择",transfer:""},model:{value:t.addmenu.ispage,callback:function(e){t.$set(t.addmenu,"ispage",e)},expression:"addmenu.ispage"}},[a("Option",{attrs:{value:"1"}},[t._v("是")]),t._v(" "),a("Option",{attrs:{value:"0"}},[t._v("不是")])],1)],1),t._v(" "),a("Form-item",{attrs:{label:"图标",prop:"icon"}},[a("Input",{attrs:{placeholder:"请选择",readonly:""},on:{"on-focus":function(e){t.openicons(0)}},model:{value:t.addmenu.icon,callback:function(e){t.$set(t.addmenu,"icon",e)},expression:"addmenu.icon"}})],1),t._v(" "),a("Form-item",{attrs:{label:"操作类",prop:"class"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.addmenu.classname,callback:function(e){t.$set(t.addmenu,"classname",e)},expression:"addmenu.classname"}})],1),t._v(" "),a("Form-item",{attrs:{label:"排序",prop:"sort"}},[a("Input-number",{attrs:{max:100,min:1},model:{value:t.addmenu.sort,callback:function(e){t.$set(t.addmenu,"sort",e)},expression:"addmenu.sort"}})],1),t._v(" "),a("Form-item",{staticClass:"sub-btn"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit(t.addmenu,"addmenu")}}},[t._v("提交")]),t._v(" "),a("Button",{on:{click:function(e){t.handleReset("addmenu")}}},[t._v("重置")])],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"menu-title"},[t._v("编辑菜单")]),t._v(" "),a("Form",{ref:"editmenu",attrs:{model:t.editmenu,rules:t.menuruleInline,"label-position":"top"}},[a("Form-item",{attrs:{label:"菜单名称",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.editmenu.name,callback:function(e){t.$set(t.editmenu,"name",e)},expression:"editmenu.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"菜单链接",prop:"url"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.editmenu.url,callback:function(e){t.$set(t.editmenu,"url",e)},expression:"editmenu.url"}})],1),t._v(" "),a("Form-item",{attrs:{label:"上级菜单",prop:"pid"}},[a("Select",{attrs:{placeholder:"请选择",transfer:""},model:{value:t.editmenu.pid,callback:function(e){t.$set(t.editmenu,"pid",e)},expression:"editmenu.pid"}},t._l(t.selectMenu,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("Form-item",{attrs:{label:"是否是页面",prop:"ispage"}},[a("Select",{attrs:{placeholder:"请选择",transfer:""},model:{value:t.editmenu.ispage,callback:function(e){t.$set(t.editmenu,"ispage",e)},expression:"editmenu.ispage"}},[a("Option",{attrs:{value:"1"}},[t._v("是")]),t._v(" "),a("Option",{attrs:{value:"0"}},[t._v("不是")])],1)],1),t._v(" "),a("Form-item",{attrs:{label:"图标",prop:"icon"}},[a("Input",{attrs:{placeholder:"请选择",readonly:""},on:{"on-focus":function(e){t.openicons(1)}},model:{value:t.editmenu.icon,callback:function(e){t.$set(t.editmenu,"icon",e)},expression:"editmenu.icon"}})],1),t._v(" "),a("Form-item",{attrs:{label:"操作类",prop:"class"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.editmenu.classname,callback:function(e){t.$set(t.editmenu,"classname",e)},expression:"editmenu.classname"}})],1),t._v(" "),a("Form-item",{attrs:{label:"排序",prop:"sort"}},[a("Input-number",{attrs:{max:100,min:1},model:{value:t.editmenu.sort,callback:function(e){t.$set(t.editmenu,"sort",e)},expression:"editmenu.sort"}})],1),t._v(" "),a("Form-item",{staticClass:"sub-btn"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit(t.editmenu,"editmenu")}}},[t._v("提交")]),t._v(" "),a("Button",{on:{click:function(e){t.handleReset("editmenu")}}},[t._v("重置")])],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("Modal",{attrs:{width:"685","class-name":"menuManage-ivu-modal","mask-closable":!1},model:{value:t.iconmodal,callback:function(e){t.iconmodal=e},expression:"iconmodal"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("点击选择图标")])]),t._v(" "),a("div",[a("Input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入图标名字",clearable:""},model:{value:t.iconSearch,callback:function(e){t.iconSearch=e},expression:"iconSearch"}})],1),t._v(" "),a("div",{staticClass:"menuManage-menuicons"},t._l(t.modalMenuicons,function(e,i){return!t.iconSearch||e.indexOf(t.iconSearch)>-1?a("span",{key:i,class:{cur:e==t.curicons},on:{click:function(a){t.selecticon(e)}}},[a("Icon",{attrs:{type:e}})],1):t._e()})),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success",size:"large"},on:{click:function(e){t.iconmodal=!1}}},[t._v(" 取 消 ")])],1)]),t._v(" "),a("Modal",{staticClass:"deletemenu",attrs:{"mask-closable":!1},model:{value:t.deletemenumodal,callback:function(e){t.deletemenumodal=e},expression:"deletemenumodal"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("删除菜单")])]),t._v(" "),a("Checkbox-group",{staticClass:"menuManage-ivu-checkbox-group",model:{value:t.deleteMenu,callback:function(e){t.deleteMenu=e},expression:"deleteMenu"}},t._l(t.selectMenu,function(e){return a("Checkbox",{key:e.id,attrs:{label:e.id,disabled:0==e.id}},[a("span",[t._v(t._s(e.name))])])})),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success",size:"large"},on:{click:function(e){t.deletemenumodal=!1}}},[t._v(" 取消 ")]),t._v(" "),a("Button",{attrs:{type:"error",size:"large"},on:{click:t.deletemenu}},[t._v(" 删除 ")])],1)],1)],1)},staticRenderFns:[]};var sa=a("VU/8")(oa,ra,!1,function(t){a("vSJ2")},null,null).exports;var la={name:"backstageUserAdminister",data:function(){var t=this;return{modalAdd:!1,modalEdit:!1,modalRemove:!1,removeIndex:0,modal_loading:!0,addUserData:{type:"",app_id:"",username:"",pwd:"",password:"",role_id:"",nickname:"",status:"0"},ruleValidateAdd:{type:[{required:!0,message:"请选择用户类型",trigger:"change"}],app_id:[{required:!0,message:"请输入渠道APPID",trigger:"blur"}],role_id:[{required:!0,validator:function(t,e,a){""==e?a(new Error("请选择用户权限")):a()},trigger:"change"}],username:[{required:!0,message:"请输入6-12位英文用户名",trigger:"blur",min:6,max:12}],pwd:[{required:!0,validator:function(e,a,i){""===a?i(new Error("请输入密码")):(""!==t.addUserData.passwdCheck&&t.$refs.addUserData.validateField("password"),i())},trigger:"blur"}],password:[{required:!0,validator:function(e,a,i){""===a?i(new Error("请再次输入密码")):a!==t.addUserData.pwd?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"}]},editUserData:{id:"",role_id:"",nickname:"",status:""},columns:[{title:"ID",key:"uid",align:"center",minWidth:100},{title:"用户名",key:"username",align:"center",minWidth:100},{title:"姓名",key:"nickname",align:"center",minWidth:100},{title:"用户类型",key:"type",align:"center",minWidth:100,filters:[{label:"超级管理员",value:0},{label:"一般管理员",value:1}],filterMultiple:!1,filterMethod:function(t,e){return 0===t?0===e.type:1===t?1===e.type:2===t?2===e.type:void 0},render:function(t,e){return t("span",0==e.row.type?"超级管理员":1==e.row.type?"一般管理员":"")}},{title:"权限ID",key:"role_id",align:"center",minWidth:100},{title:"角色",key:"role_name",align:"center",minWidth:100},{title:"状态",key:"status",align:"center",minWidth:100,filters:[{label:"活跃",value:0},{label:"禁用",value:1}],filterMultiple:!1,filterMethod:function(t,e){return 0===t?0===e.status:1===t?1===e.status:void 0},render:function(t,e){return t("span",0==e.row.status?"活跃":"禁用")}},{title:"创建时间",key:"create_time",sortable:!0,align:"center",minWidth:130},{title:"最后登录时间",key:"last_login",sortable:!0,align:"center",minWidth:130},{title:"操作",key:"operate",align:"center",minWidth:120,render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"6px"},on:{click:function(){t.editUsers(a.index)}}},"编辑")])}}],userData:[],roleList:[]}},created:function(){this.getAdminList(),this.roleLists()},methods:{roleLists:function(){var t=this;N({method:"post",data:{_mod:"jcmanager",_func:"GetRoleSelectList",_check:"",_param:{}}}).then(function(e){t.roleList=e.data._param.list})},addUser:function(){this.handleReset("addUserData"),this.addUserData.type="",this.addUserData.app_id="",this.addUserData.username="",this.addUserData.pwd="",this.addUserData.password="",this.addUserData.role_id="",this.addUserData.nickname="",this.addUserData.status="0",this.modalAdd=!0},handleSubmitAdd:function(){var t=this,e=0;this.$refs.addUserData.validate(function(a){a?t.addAdminSubmit():(t.$Message.error("表单验证失败!"),0==e&&(t.modelloading=!1,e++,setTimeout(function(){t.modelloading=!0},10)))})},handleSubmitEdit:function(){this.updateAdminSubmit()},handleReset:function(t){this.$refs[t].resetFields()},addAdminSubmit:function(){var t,e=this,a={type:Number(this.addUserData.type),username:this.addUserData.username,nickname:this.addUserData.nickname,role_id:this.addUserData.role_id,password:W()(this.addUserData.password),status:Number(this.addUserData.status)};2==Number(this.addUserData.type)&&(a.app_id=Number(this.addUserData.app_id)),(t=a,N({method:"post",data:{_mod:"jcmanager",_func:"SaveManager",_check:"",_param:t}})).then(function(t){e.submitFun(0)})},updateAdminSubmit:function(){var t,e=this,a={id:this.editUserData.id,role_id:this.editUserData.role_id,nickname:this.editUserData.nickname,status:Number(this.editUserData.status)};(t=a,N({method:"post",data:{_mod:"jcmanager",_func:"SaveManager",_check:"",_param:t}})).then(function(t){e.submitFun(1)})},getAdminList:function(){var t=this;N({method:"post",data:{_mod:"jcmanager",_func:"GetManagerList",_check:"",_param:{}}}).then(function(e){t.userData=e.data._param.list})},editUsers:function(t){this.handleReset("editUserData"),this.editUserData.id=this.userData[t].uid,this.editUserData.nickname=this.userData[t].nickname,this.editUserData.role_id=this.userData[t].role_id,this.editUserData.status=String(this.userData[t].status),this.modalEdit=!0},isRemove:function(t){this.modal_loading=!1,this.modalRemove=!0,this.removeIndex=t},remove:function(){var t,e=this;this.modal_loading=!0,(t=this.userData[this.removeIndex].uid,N({method:"post",data:{_mod:"jcmanager",_func:"DelManager",_check:"",_param:{manager_id:t}}})).then(function(t){e.modal_loading=!1,e.modalRemove=!1,e.$Message.success("删除成功"),e.getAdminList()})},submitFun:function(t){t=0==t?"添加":"修改",this.modalAdd=!1,this.modalEdit=!1,this.$Message.success(t+"用户成功"),this.getAdminList()}}},da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"accountManage",staticClass:"ccountManage"},[a("Button",{staticClass:"add-user",attrs:{type:"primary",icon:"plus-round"},on:{click:t.addUser}},[t._v("添加用户")]),t._v(" "),a("Table",{ref:"table",attrs:{border:"",stripe:"",size:"small","highlight-row":!0,columns:t.columns,data:t.userData}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,loading:t.modal_loading,"ok-text":"提交","class-name":"ccountManage-modal"},on:{"on-ok":t.handleSubmitAdd},model:{value:t.modalAdd,callback:function(e){t.modalAdd=e},expression:"modalAdd"}},[a("div",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v("添加新用户")]),t._v(" "),a("Form",{ref:"addUserData",attrs:{model:t.addUserData,rules:t.ruleValidateAdd,"label-width":80}},[a("FormItem",{attrs:{label:"用户类型",prop:"type"}},[a("Select",{attrs:{placeholder:"请选择用户类型",transfer:""},model:{value:t.addUserData.type,callback:function(e){t.$set(t.addUserData,"type",e)},expression:"addUserData.type"}},[a("Option",{attrs:{value:"1"}},[t._v("管理员")])],1)],1),t._v(" "),2==t.addUserData.type?a("FormItem",{attrs:{label:"渠道ID",prop:"app_id"}},[a("Input",{attrs:{placeholder:"请输入渠道ID"},model:{value:t.addUserData.app_id,callback:function(e){t.$set(t.addUserData,"app_id",e)},expression:"addUserData.app_id"}})],1):t._e(),t._v(" "),a("FormItem",{attrs:{label:"用户权限",prop:"role_id"}},[a("Select",{attrs:{placeholder:"用户权限ID",transfer:""},model:{value:t.addUserData.role_id,callback:function(e){t.$set(t.addUserData,"role_id",e)},expression:"addUserData.role_id"}},t._l(t.roleList,function(e){return a("Option",{key:e.role_id,attrs:{value:e.role_id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"用户名",prop:"username"}},[a("Input",{attrs:{placeholder:"请输入6-12位英文用户名"},model:{value:t.addUserData.username,callback:function(e){t.$set(t.addUserData,"username",e)},expression:"addUserData.username"}})],1),t._v(" "),a("FormItem",{attrs:{label:"密码",prop:"pwd"}},[a("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.addUserData.pwd,callback:function(e){t.$set(t.addUserData,"pwd",e)},expression:"addUserData.pwd"}})],1),t._v(" "),a("FormItem",{attrs:{label:"确认密码",prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.addUserData.password,callback:function(e){t.$set(t.addUserData,"password",e)},expression:"addUserData.password"}})],1),t._v(" "),a("FormItem",{attrs:{label:"姓名"}},[a("Input",{attrs:{placeholder:"请输入姓名"},model:{value:t.addUserData.nickname,callback:function(e){t.$set(t.addUserData,"nickname",e)},expression:"addUserData.nickname"}})],1),t._v(" "),a("FormItem",{attrs:{label:"状态"}},[a("RadioGroup",{model:{value:t.addUserData.status,callback:function(e){t.$set(t.addUserData,"status",e)},expression:"addUserData.status"}},[a("Radio",{attrs:{label:"0"}},[t._v("活跃")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("禁用")])],1)],1)],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,loading:t.modal_loading,"ok-text":"提交","class-name":"ccountManage-modal"},on:{"on-ok":t.handleSubmitEdit},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[a("div",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v("编辑用户信息")]),t._v(" "),a("Form",{ref:"editUserData",attrs:{model:t.editUserData,rules:t.ruleValidateAdd,"label-width":80}},[a("FormItem",{attrs:{label:"ID"}},[a("Input",{attrs:{disabled:""},model:{value:t.editUserData.id,callback:function(e){t.$set(t.editUserData,"id",e)},expression:"editUserData.id"}})],1),t._v(" "),a("FormItem",{attrs:{label:"用户权限"}},[a("Select",{attrs:{placeholder:"用户权限ID",transfer:""},model:{value:t.editUserData.role_id,callback:function(e){t.$set(t.editUserData,"role_id",e)},expression:"editUserData.role_id"}},t._l(t.roleList,function(e){return a("Option",{key:e.role_id,attrs:{value:e.role_id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"姓名"}},[a("Input",{attrs:{placeholder:"请输入姓名"},model:{value:t.editUserData.nickname,callback:function(e){t.$set(t.editUserData,"nickname",e)},expression:"editUserData.nickname"}})],1),t._v(" "),a("FormItem",{attrs:{label:"状态"}},[a("RadioGroup",{model:{value:t.editUserData.status,callback:function(e){t.$set(t.editUserData,"status",e)},expression:"editUserData.status"}},[a("Radio",{attrs:{label:"0"}},[t._v("活跃")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("禁用")])],1)],1)],1)],1),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalRemove,callback:function(e){t.modalRemove=e},expression:"modalRemove"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("确认删除")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("此账号删除后，改用户将无法再登录。")]),t._v(" "),a("p",[t._v("是否继续删除？")])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:"",loading:t.modal_loading},on:{click:t.remove}},[t._v("删除")])],1)])],1)},staticRenderFns:[]};var ca=a("VU/8")(la,da,!1,function(t){a("xgSS")},null,null).exports,ma=a("c/Tr"),ua=a.n(ma),pa={name:"roleAdminister",data:function(){var t=this;return{modal:!1,modelloading:!0,modalTitle:"",modalType:!0,treeType:999999,id:0,rname:"",description:"",status:0,name:"",loadingData:!0,roleData:[],ruleRole:{name:[{required:!0,message:"请填写角色名称",trigger:"blur"}],description:[{required:!0,message:"请填写角色描述",trigger:"blur"}]},editRole:{id:"",name:"",description:"",status:""},columns:[{title:"ID",key:"id",width:60},{title:"角色名称",key:"name"},{title:"描述",key:"description"},{title:"状态",key:"status",align:"center",width:80,render:function(t,e){return t("span",0==e.row.status?"正常":"禁用")}},{title:"编辑角色",key:"operate",align:"center",width:100,render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},on:{click:function(){t.editRoles(a.index)}}},"编辑")])}},{title:"编辑权限",key:"operate",align:"center",width:100,render:function(e,a){return e("div",[e("Button",{props:{type:a.index==t.treeType?"warning":"primary",size:"small"},on:{click:function(){t.rname=a.row.name,t.treeType=a.index,t.id=a.row.id,t.name=a.row.name,t.description=a.row.description,t.status=a.row.status,t.getPermissions(a.row.id)}}},"编辑")])}}],systemMenu:[]}},created:function(){this.getRole(),this.getAllMenus()},methods:{addRoles:function(){this.$refs.ruleRole.resetFields(),this.modalTitle="添加角色",this.modalType=!0,this.modal=!0},editRoles:function(t){this.$refs.ruleRole.resetFields(),this.modalTitle="编辑角色",this.modalType=!1,this.editRole.id=this.roleData[t].id,this.editRole.name=this.roleData[t].name,this.editRole.status=String(this.roleData[t].status),this.editRole.description=this.roleData[t].description,this.editRole.menus=ua()(this.roleData[t].menus),this.modal=!0},getRole:function(){var t,e=this;(t={_mod:"jcmanager",_func:"GetRoleList",_check:"adminrole",_param:{}},N({method:"post",url:"role/list",data:t})).then(function(t){e.loadingData=!1,e.roleData=t.data._param.list})},getAllMenus:function(){var t=this;F().then(function(e){e=e.data._param.list,t.systemMenu.length=0;for(var a=0;a<e.length;a++)if(t.systemMenu.push({expand:!0,title:e[a].name,id:e[a].id,checked:!1,children:[]}),!C(e[a].children))for(var i=0;i<e[a].children.length;i++)if(t.systemMenu[a].children.push({expand:!1,title:e[a].children[i].name,id:e[a].children[i].id,checked:!1,children:[]}),!C(e[a].children[i].children))for(var n=0;n<e[a].children[i].children.length;n++)t.systemMenu[a].children[i].children.push({expand:!1,title:e[a].children[i].children[n].name,id:e[a].children[i].children[n].id,checked:!1})})},handleSubmit:function(){var t=this,e=0;this.$refs.ruleRole.validate(function(a){a?t.modalType?t.addRolesSubmit():t.editRolesSubmit():(t.$Message.error("表单验证失败!"),0==e&&(t.modelloading=!1,e++,setTimeout(function(){t.modelloading=!0},10)))})},addRolesSubmit:function(){var t,e=this,a={name:this.editRole.name,description:this.editRole.description,status:Number(this.editRole.status)};(t=a,N({method:"post",data:{_mod:"jcmanager",_func:"SaveRole",_check:"",_param:t}})).then(function(t){e.submitFun(0,t),e.clearOut()})},editRolesSubmit:function(){var t=this;this.editRole.status=1*this.editRole.status;var e,a={_mod:"jcmanager",_func:"SaveRole",_check:"adminrole",_param:this.editRole};(e=a,N({method:"post",url:"role/update-role",data:e})).then(function(e){t.submitFun(1,e),t.clearOut()})},submitFun:function(t,e){t=0==t?"添加":"编辑",this.modal=!1,this.$Message.success(t+"角色成功"),this.getRole()},getPermissions:function(t){var e,a=this;(e=t,N({method:"post",data:{_mod:"jcmanager",_func:"GetRole",_check:"",_param:{role_id:e}}})).then(function(t){t=t.data._param.menus,a.showCheckbox(t)})},showCheckbox:function(t){for(var e=0;e<this.systemMenu.length;e++){this.systemMenu[e].checked=!1,t.indexOf(this.systemMenu[e].id);for(var a=0;a<this.systemMenu[e].children.length;a++)if(this.systemMenu[e].children[a].checked=!1,C(this.systemMenu[e].children[a].children))-1!=t.indexOf(this.systemMenu[e].children[a].id)&&(this.systemMenu[e].children[a].checked=!0);else for(var i=0;i<this.systemMenu[e].children[a].children.length;i++)this.systemMenu[e].children[a].children[i].checked=!1,-1!=t.indexOf(this.systemMenu[e].children[a].children[i].id)&&(this.systemMenu[e].children[a].children[i].checked=!0)}},clearOut:function(){this.editRole.id="",this.editRole.name="",this.editRole.description="",this.editRole.status=0},cancelChange:function(){var t=this;this.$Modal.confirm({title:"菜单权限编辑",content:"<p>确认取消编辑？</p>",onOk:function(){t.getPermissions(t.id)}})},saveChange:function(){var t=this;this.$Modal.confirm({title:"菜单权限编辑",content:"<p>确认保存编辑？</p>",onOk:function(){for(var e,a=t.$refs.tree.getCheckedNodes(),i=[],n=0;n<a.length;n++){i.push(a[n].id);for(var o=t.getNodeParents(a[n].id),r=0;r<o.length;r++){var s=o[r];e=s,i.indexOf(e)>-1||i.push(s)}}t.updatePermissions(i)}})},getNodeParents:function(t){for(var e=!1,a=[],i=0;i<this.systemMenu.length;i++){if(this.systemMenu[i].id==t){e=!0;break}for(var n=this.systemMenu[i].id,o=0;o<this.systemMenu[i].children.length;o++){if(this.systemMenu[i].children[o].id==t){e=!0,a.push(n);break}for(var r=this.systemMenu[i].children[o].id,s=0;s<this.systemMenu[i].children[o].children.length;s++)if(this.systemMenu[i].children[o].children[s].id==t){e=!0,a.push(n,r);break}}}if(e)return a},removeSameEle:function(t){},updatePermissions:function(t){var e=this;if(""==this.id)return this.$Message.error({content:"请选择您要编辑的角色"});var a,i={_mod:"jcmanager",_func:"SaveRole",_check:"adminrole",_param:{id:this.id,name:this.name,description:this.description,menus:t,status:this.status}};(a=i,N({method:"post",url:"role/update-role",data:a})).then(function(t){e.$Message.success({content:"编辑权限成功"})})}}},ha={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"permission"},[t.loadingData?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),a("div",{staticClass:"left-menu"},[a("div",{staticClass:"title"},[a("Button",{staticClass:"add-role",attrs:{type:"primary",icon:"plus-round"},on:{click:t.addRoles}},[t._v("添加新角色")])],1),t._v(" "),a("Table",{attrs:{border:"",stripe:"",columns:t.columns,data:t.roleData,size:"small"}})],1),t._v(" "),a("div",{staticClass:"right-content"},[a("div",{staticClass:"title"},[t._v("编辑"+t._s(t.rname)+"菜单权限")]),t._v(" "),a("div",{staticClass:"r-c"},[a("Tree",{ref:"tree",attrs:{data:t.systemMenu,"show-checkbox":""}}),t._v(" "),a("div",{staticClass:"r-btn"},[a("Button",{attrs:{type:"info",icon:"ios-close"},on:{click:t.cancelChange}},[t._v("取消")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"ios-cloud-upload"},on:{click:t.saveChange}},[t._v("保存")])],1)],1)]),t._v(" "),a("Modal",{attrs:{loading:t.modelloading},on:{"on-ok":t.handleSubmit},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.modalTitle))]),t._v(" "),a("Form",{ref:"ruleRole",attrs:{rules:t.ruleRole,model:t.editRole,"label-width":80}},[t.modalType?t._e():a("Form-item",{attrs:{label:"ID"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.editRole.id,callback:function(e){t.$set(t.editRole,"id",e)},expression:"editRole.id"}})],1),t._v(" "),a("Form-item",{attrs:{label:"角色名称",prop:"name"}},[a("Input",{attrs:{type:"text"},model:{value:t.editRole.name,callback:function(e){t.$set(t.editRole,"name",e)},expression:"editRole.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"描述",prop:"description"}},[a("Input",{attrs:{type:"text"},model:{value:t.editRole.description,callback:function(e){t.$set(t.editRole,"description",e)},expression:"editRole.description"}})],1),t._v(" "),a("Form-item",{attrs:{label:"状态",prop:"status"}},[a("Radio-group",{model:{value:t.editRole.status,callback:function(e){t.$set(t.editRole,"status",e)},expression:"editRole.status"}},[a("Radio",{attrs:{label:"0"}},[t._v("正常")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("禁用")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var fa={name:"managerAdminlog",data:function(){return{searchData:{page:1,pagesize:20},tableData:[],pageTotal:0,columns:[{type:"index",align:"center",minWidth:60},{title:"操作ID",key:"id",align:"center",minWidth:100},{title:"操作接口",key:"route",align:"center",minWidth:150},{title:"操作人ID",key:"user_id",align:"center",minWidth:100},{title:"操作人",key:"username",align:"center",minWidth:100},{title:"操作时间",key:"time",align:"center",minWidth:100},{title:"ip",key:"ip",align:"center",minWidth:100},{title:"操作描述",key:"desc",align:"center",minWidth:300}],editCfg:{modalEdit:!1,modalTitle:"",dealID:0,type:"1",beginDate:"",endDate:"",dayBeginTime:"",dayEndTime:"",space:1,status:"1",message:"",isAddOpt:!1},modalDel:!1,modal_loading:!1}},created:function(){var t=this;this.$nextTick(function(){t.search(0)})},methods:{search:function(t){var e=this;0==t&&(this.searchData.page=1),this.tableData=[],X({_mod:"jcmanager",_func:"GetAdminLog",_check:"",_param:this.searchData}).then(function(t){void 0==t.data._param.list?e.tableData=[]:e.tableData=t.data._param.list,e.pageTotal=1*t.data._param.total})},pageChange:function(t){this.searchData.page=t,this.search()}}},ga={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"accountManage",staticClass:"poolManage"},[e("Table",{attrs:{border:"",columns:this.columns,data:this.tableData}}),this._v(" "),e("Page",{directives:[{name:"show",rawName:"v-show",value:this.tableData.length,expression:"tableData.length"}],staticStyle:{"margin-top":"10px"},attrs:{"page-size":this.searchData.pagesize,total:this.pageTotal,"show-total":""},on:{"on-change":this.pageChange}})],1)},staticRenderFns:[]};var _a={name:"packBalanceUser",data:function(){var t=this;return{modalAdd:!1,modalEdit:!1,modalRemove:!1,actID:0,modal_loading:!1,addUserData:{username:"",pwd:"",password:""},ruleValidateAdd:{username:[{required:!0,message:"请输入6-12位英文用户名",trigger:"blur",min:6,max:12}],pwd:[{required:!0,validator:function(e,a,i){""===a?i(new Error("请输入密码")):(""!==t.addUserData.passwdCheck&&t.$refs.addUserData.validateField("password"),i())},trigger:"blur"}],password:[{required:!0,validator:function(e,a,i){""===a?i(new Error("请再次输入密码")):a!==t.addUserData.pwd?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"}]},editUserData:{username:"",pwd:"",password:""},columns:[{title:"ID",key:"id",align:"center",minWidth:100},{title:"用户名",key:"username",align:"center",minWidth:100},{title:"创建时间",key:"ctime",align:"center",minWidth:130},{title:"操作",key:"operate",align:"center",minWidth:200,render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"10px"},on:{click:function(){t.handleReset("editUserData"),t.modalEdit=!0,t.actID=a.row.id,t.editUserData.username=a.row.username,t.editUserData.pwd="",t.editUserData.password=""}}},"修改密码"),e("Button",{props:{type:"primary"},on:{click:function(){t.modalRemove=!0,t.actID=a.row.id}}},"删除账户")])}}],userData:[]}},created:function(){this.getPackUserList()},methods:{getPackUserList:function(){var t=this;X({_mod:"jcmanager",_func:"GetPackBalanceUserList",_check:"",_param:{}}).then(function(e){void 0==e.data._param.data?t.userData=[]:t.userData=e.data._param.data})},handleSubmitAdd:function(){var t=this,e=0;this.$refs.addUserData.validate(function(a){a?t.addAdminSubmit():(t.$Message.error("表单验证失败!"),0==e&&(t.modelloading=!1,e++,setTimeout(function(){t.modelloading=!0},10)))})},addAdminSubmit:function(){var t=this;X({_mod:"jcmanager",_func:"AddPackBalanceUser",_check:"",_param:{username:this.addUserData.username,password:W()(this.addUserData.pwd)}}).then(function(e){t.modalAdd=!1,t.$Message.success("添加用户成功"),t.getPackUserList()})},reqDelUser:function(){var t=this;this.modal_loading=!0,setTimeout(function(){t.modal_loading=!1},3e3),X({_mod:"jcmanager",_func:"DelPackBalanceUser",_check:"",_param:{id:this.actID}}).then(function(e){t.modalRemove=!1,t.modal_loading=!1,t.$Message.success("删除用户成功"),t.getPackUserList()})},handleReset:function(t){this.$refs[t].resetFields()},handleSubmitEdit:function(){var t=this;return""==this.editUserData.pwd?this.$Message.error("请输入密码"):this.editUserData.password!=this.editUserData.pwd?this.$Message.error("两次输入密码不一致!"):void X({_mod:"jcmanager",_func:"UpdatePackBalanceUser",_check:"",_param:{id:this.actID,password:W()(this.editUserData.pwd)}}).then(function(e){t.modalAdd=!1,t.$Message.success("修改用户密码成功"),t.getPackUserList()})},addUser:function(){this.handleReset("addUserData"),this.addUserData.username="",this.addUserData.pwd="",this.addUserData.password="",this.modalAdd=!0}}},va={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"accountManage",staticClass:"ccountManage"},[a("Button",{staticClass:"add-user",attrs:{type:"primary",icon:"plus-round"},on:{click:t.addUser}},[t._v("添加用户")]),t._v(" "),a("Table",{ref:"table",attrs:{border:"",stripe:"",size:"small","highlight-row":!0,columns:t.columns,data:t.userData}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,loading:t.modal_loading,"ok-text":"提交","class-name":"ccountManage-modal"},on:{"on-ok":t.handleSubmitAdd},model:{value:t.modalAdd,callback:function(e){t.modalAdd=e},expression:"modalAdd"}},[a("div",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v("添加新用户")]),t._v(" "),a("Form",{ref:"addUserData",attrs:{model:t.addUserData,rules:t.ruleValidateAdd,"label-width":80}},[a("FormItem",{attrs:{label:"用户名",prop:"username"}},[a("Input",{attrs:{placeholder:"请输入6-12位英文用户名"},model:{value:t.addUserData.username,callback:function(e){t.$set(t.addUserData,"username",e)},expression:"addUserData.username"}})],1),t._v(" "),a("FormItem",{attrs:{label:"密码",prop:"pwd"}},[a("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.addUserData.pwd,callback:function(e){t.$set(t.addUserData,"pwd",e)},expression:"addUserData.pwd"}})],1),t._v(" "),a("FormItem",{attrs:{label:"确认密码",prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.addUserData.password,callback:function(e){t.$set(t.addUserData,"password",e)},expression:"addUserData.password"}})],1)],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,loading:t.modal_loading,"ok-text":"提交","class-name":"ccountManage-modal"},on:{"on-ok":t.handleSubmitEdit},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[a("div",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v("编辑用户信息")]),t._v(" "),a("Form",{ref:"editUserData",attrs:{model:t.editUserData,"label-width":80}},[a("FormItem",{attrs:{label:"用户名","label-width":100}},[a("Input",{attrs:{disabled:""},model:{value:t.editUserData.username,callback:function(e){t.$set(t.editUserData,"username",e)},expression:"editUserData.username"}})],1),t._v(" "),a("FormItem",{attrs:{label:"新密码","label-width":100}},[a("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.editUserData.pwd,callback:function(e){t.$set(t.editUserData,"pwd",e)},expression:"editUserData.pwd"}})],1),t._v(" "),a("FormItem",{attrs:{label:"确认新密码","label-width":100}},[a("Input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.editUserData.password,callback:function(e){t.$set(t.editUserData,"password",e)},expression:"editUserData.password"}})],1)],1)],1),t._v(" "),a("Modal",{attrs:{width:"360"},model:{value:t.modalRemove,callback:function(e){t.modalRemove=e},expression:"modalRemove"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("确认删除")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("此账号删除后，该用户将无法再登录。")]),t._v(" "),a("p",[t._v("是否继续删除？")])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:"",loading:t.modal_loading},on:{click:t.reqDelUser}},[t._v("删除")])],1)])],1)},staticRenderFns:[]};var ba={name:"GameDataDel",data:function(){return{appListData:[],app_id:"",gameTabListData:[],tabCheck:[],allCheckArr:[],indeterminate:!1,checkAll:!0,date:"",modalDel:{show:!1,actID:0},result:"",time:""}},created:function(){this.getAppListData(),this.getGameTabList()},methods:{getAppListData:function(){var t=this;X({_mod:"jcmanager",_func:"GetAppList",_check:"",_param:{}}).then(function(e){t.appListData=e.data._param.list,t.app_id=e.data._param.default||""})},getGameTabList:function(){var t=this;X({_mod:"jcmanager",_func:"DelGameTabName",_check:"",_param:{}}).then(function(e){t.gameTabListData=e.data._param.data||[];for(var a=0;a<t.gameTabListData.length;a++)t.allCheckArr.push(t.gameTabListData[a].tabName);t.tabCheck=t.allCheckArr})},reqDel:function(){var t=this;X({_mod:"jcmanager",_func:"DelGameDbTab",_check:"",_param:{app_id:Number(this.app_id),tabs:this.tabCheck,date:this.date.getTime()/1e3+86400-1}}).then(function(e){t.result=e.data._param.tabs,t.time=(new Date).toLocaleString(),t.modalDel.show=!1})},checkAllGroupChange:function(t){t.length==this.gameTabListData.length?(this.indeterminate=!1,this.checkAll=!0):t.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)},handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.tabCheck=this.allCheckArr:this.tabCheck=[]},openDelModal:function(){return C(this.tabCheck)?this.$Message.error("请选择数据删除类型"):""==this.date?this.$Message.error("请选择数据删除的截止时间"):void(this.modalDel.show=!0)}}},wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"accountManage",staticClass:"ccountManage"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{"label-width":60,label:"选择APP"}},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",transfer:""},model:{value:t.app_id,callback:function(e){t.app_id=e},expression:"app_id"}},t._l(t.appListData,function(e){return a("Option",{key:e.app_id,attrs:{value:e.app_id}},[t._v(t._s(e.appname))])}))],1),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.getGameTabList}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"check"},[a("div",{staticStyle:{"padding-bottom":"8px","margin-bottom":"10px",display:"flex"}},[a("span",[t._v("删除数据类型：")]),t._v("   \n            "),a("Checkbox",{attrs:{indeterminate:t.indeterminate,value:t.checkAll,size:"large"},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAll(e)}}},[t._v("全选")]),t._v(" "),a("span",{staticClass:"border-R"},[t._v(" ")]),t._v("   \n            "),a("CheckboxGroup",{on:{"on-change":t.checkAllGroupChange},model:{value:t.tabCheck,callback:function(e){t.tabCheck=e},expression:"tabCheck"}},t._l(t.gameTabListData,function(e){return a("Checkbox",{key:e.tabName,attrs:{label:e.tabName,size:"large"}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("div",[t._v("\n            删除截止时间："),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"Select date",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.openDelModal}},[t._v("删除")])],1),t._v(" "),a("br"),t._v(" "),t.result?a("p",{staticStyle:{color:"red"}},[t._v("处理结果："+t._s(t.result))]):t._e(),t._v(" "),t.result?a("p",{staticStyle:{color:"red"}},[t._v("——"+t._s(t.time))]):t._e()]),t._v(" "),a("Modal",{attrs:{width:"320"},model:{value:t.modalDel.show,callback:function(e){t.$set(t.modalDel,"show",e)},expression:"modalDel.show"}},[a("p",{staticStyle:{color:"#1c2438","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("提示")])]),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v("是否确认删除数据？")]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning"},on:{click:function(e){t.modalDel.show=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.reqDel}},[t._v("确认")])],1)])],1)},staticRenderFns:[]};var ya=[{path:"menuAdminister",name:"menuAdminister",component:sa,meta:{name:"system"}},{path:"backstageUserAdminister",name:"backstageUserAdminister",component:ca,meta:{name:"system"}},{path:"roleAdminister",name:"roleAdminister",component:a("VU/8")(pa,ha,!1,function(t){a("Rfko")},null,null).exports,meta:{name:"system"}},{path:"managerAdminlog",name:"managerAdminlog",component:a("VU/8")(fa,ga,!1,function(t){a("NgKE")},null,null).exports,meta:{name:"system"}},{path:"packbalanceuser",name:"packBalanceUser",component:a("VU/8")(_a,va,!1,function(t){a("1H2f")},null,null).exports,meta:{name:"system"}},{path:"gamedatadel",name:"GameDataDel",component:a("VU/8")(ba,wa,!1,function(t){a("WI1r")},null,null).exports,meta:{name:"system"}}],ka={name:"shuffling",data:function(){var t=this;return{roastings:[],shufflingsTitle:"添加轮播图",modal:!1,modal_loading:!0,self:!0,columns:[{title:"ID",key:"id",width:60,align:"center"},{title:"排序",key:"power",align:"center",width:100},{title:"名字",key:"name",align:"center",width:100},{title:"状态",key:"status",align:"center",width:100,render:function(t,e,a){return t("span",0==e.row.status?"下线":"上线")}},{title:"创建时间",key:"created_date",align:"center",width:160},{title:"更新时间",key:"update_date",align:"center",width:160},{title:"跳转的链接",key:"url",align:"center",width:300},{title:"图片",key:"img",align:"center",render:function(t,e,a){return t("img",{attrs:{src:e.row.img,style:"width:200px"}})}},{title:"操作",key:"action",width:150,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.changeRoasting(a.index)}}},"编辑")])}}],shufflings:{name:"",img:"",url:"",power:"",status:0,id:""}}},created:function(){this.roasting()},methods:{roasting:function(){var t=this;N({method:"get",url:"turn-info/list"}).then(function(e){if(0!=e.data.code)return t.$Message.error({content:e.data.msg});t.roastings=e.data.data.list})},addShuffling:function(){this.shufflings.name="",this.shufflings.img="",this.shufflings.url="",this.shufflings.power="",this.shufflings.status="",this.shufflings.id="",this.$refs.shufflings.resetFields(),this.shufflingsTitle="添加轮播图",this.modalType=!0,this.modal=!0},handleSubmit:function(){var t,e=this;this.modalType?(t=this.shufflings,N({method:"post",url:"turn-info/add",data:t})).then(function(t){if(0!=t.data.code)return e.$Message.error({content:t.data.msg});e.submitFun(0,t)}):function(t){return N({method:"post",url:"turn-info/update",data:t})}(this.shufflings).then(function(t){if(0!=t.data.code)return e.$Message.error({content:t.data.msg});e.submitFun(1,t)})},changeRoasting:function(t){this.shufflings.id=this.roastings[t].id,this.shufflings.name=this.roastings[t].name,this.shufflings.power=this.roastings[t].power,this.shufflings.img=this.roastings[t].img,this.shufflings.status=this.roastings[t].status,this.shufflings.url=this.roastings[t].url,this.$refs.shufflings.resetFields(),this.shufflingsTitle="修改轮播图",this.modalType=!1,this.modal=!0},submitFun:function(t,e){t=0==t?"添加":"修改",0==e.data.code&&(this.modal=!1,this.$Message.success(t+"轮播图成功"),this.roasting())}}},Da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Button",{staticClass:"add-user",attrs:{type:"primary",icon:"plus-round"},on:{click:t.addShuffling}},[t._v("添加轮播图")]),t._v(" "),a("i-table",{staticStyle:{"margin-top":"10px"},attrs:{border:"",content:t.self,"highlight-row":!0,columns:t.columns,data:t.roastings}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,loading:t.modal_loading,"ok-text":"提交","class-name":"ccountManage-modal"},on:{"on-ok":t.handleSubmit},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.shufflingsTitle))]),t._v(" "),a("Form",{ref:"shufflings",attrs:{model:t.shufflings,"label-width":80,rules:t.shufflings}},[a("Form-item",{attrs:{label:"名字"}},[a("i-input",{attrs:{value:t.shufflings.name,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.shufflings,"name",e)}},model:{value:t.shufflings.name,callback:function(e){t.$set(t.shufflings,"name",e)},expression:"shufflings.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"图片地址"}},[a("i-input",{attrs:{value:t.shufflings.img,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.shufflings,"img",e)}},model:{value:t.shufflings.img,callback:function(e){t.$set(t.shufflings,"img",e)},expression:"shufflings.img"}})],1),t._v(" "),a("Form-item",{attrs:{label:"跳转地址"}},[a("i-input",{attrs:{value:t.shufflings.url,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.shufflings,"url",e)}},model:{value:t.shufflings.url,callback:function(e){t.$set(t.shufflings,"url",e)},expression:"shufflings.url"}})],1),t._v(" "),a("Form-item",{attrs:{label:"排序"}},[a("i-input",{attrs:{value:t.shufflings.power,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.shufflings,"power",e)}},model:{value:t.shufflings.power,callback:function(e){t.$set(t.shufflings,"power",e)},expression:"shufflings.power"}})],1),t._v(" "),a("Form-item",{staticStyle:{"margin-bottom":"-10px","margin-top":"-20px"},attrs:{label:"状态"}},[a("Radio-group",{model:{value:t.shufflings.status,callback:function(e){t.$set(t.shufflings,"status",e)},expression:"shufflings.status"}},[a("Radio",{attrs:{label:"0"}},[t._v("下线")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("上线")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var xa={name:"gamesList",data:function(){var t,e=this;return t={modal:!1,modal_loading:!0,self:!0,gameTitle:"添加游戏"},te()(t,"self",!0),te()(t,"gameLists",[]),te()(t,"columns",[{title:"ID",key:"id",width:60,align:"center"},{title:"排序",key:"power",align:"center",width:100},{title:"游戏名",key:"name",align:"center",width:100},{title:"状态",key:"status",align:"center",width:100,render:function(t,e,a){return t("span",0==e.row.status?"下线":"运行中")}},{title:"创建时间",key:"created_date",align:"center",width:160},{title:"更新时间",key:"update_date",align:"center",width:160},{title:"游戏地址",key:"url",align:"center",width:300},{title:"游戏介绍",key:"describe",align:"center",width:300},{title:"游戏图片",key:"img",align:"center",render:function(t,e,a){return t("img",{attrs:{src:e.row.img,style:"width:70px"}})}},{title:"操作",key:"action",width:150,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.change(a.index)}}},"编辑")])}}]),te()(t,"gameInformation",{name:"",url:"",power:"",status:0,describe:"",img:"",id:""}),t},created:function(){this.gameList()},methods:{gameList:function(){var t=this;N({method:"get",url:"game/game-list?page=1&pagesize=10"}).then(function(e){if(0!=e.data.code)return t.$Message.error({content:e.data.msg});t.gameLists=e.data.data.list})},addGame:function(){this.gameInformation.id="",this.gameInformation.name="",this.gameInformation.power="",this.gameInformation.img="",this.gameInformation.status=0,this.gameInformation.url="",this.gameInformation.describe="",this.$refs.gameInformation.resetFields(),this.shufflingsTitle="添加游戏",this.modalType=!0,this.modal=!0},change:function(t){this.gameInformation.id=this.gameLists[t].id,this.gameInformation.name=this.gameLists[t].name,this.gameInformation.power=this.gameLists[t].power,this.gameInformation.img=this.gameLists[t].img,this.gameInformation.status=this.gameLists[t].status,this.gameInformation.url=this.gameLists[t].url,this.gameInformation.describe=this.gameLists[t].describe,this.$refs.gameInformation.resetFields(),this.shufflingsTitle="修改轮播图",this.modalType=!1,this.modal=!0},handleSubmit:function(){var t,e=this;this.modalType?(t=this.gameInformation,N({method:"post",url:"game/add-game",data:t})).then(function(t){if(0!=t.data.code)return e.$Message.error({content:t.data.msg});e.submitFun(0,t)}):function(t){return N({method:"post",url:"game/update-game",data:t})}(this.gameInformation).then(function(t){if(0!=t.data.code)return e.$Message.error({content:t.data.msg});e.submitFun(1,t)})},submitFun:function(t,e){t=0==t?"添加":"修改",0==e.data.code&&(this.modal=!1,this.$Message.success(t+"游戏成功"),this.gameList())}}},Ia={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Button",{staticClass:"add-user",attrs:{type:"primary",icon:"plus-round"},on:{click:t.addGame}},[t._v("添加游戏")]),t._v(" "),a("i-table",{staticStyle:{"margin-top":"10px"},attrs:{border:"",content:t.self,"highlight-row":!0,columns:t.columns,data:t.gameLists}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,loading:t.modal_loading,"ok-text":"提交","class-name":"ccountManage-modal"},on:{"on-ok":t.handleSubmit},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.gameTitle))]),t._v(" "),a("Form",{ref:"gameInformation",attrs:{model:t.gameInformation,"label-width":80,rules:t.gameInformation}},[a("Form-item",{attrs:{label:"游戏名"}},[a("i-input",{attrs:{value:t.gameInformation.name,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.gameInformation,"name",e)}},model:{value:t.gameInformation.name,callback:function(e){t.$set(t.gameInformation,"name",e)},expression:"gameInformation.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"游戏地址"}},[a("i-input",{attrs:{value:t.gameInformation.url,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.gameInformation,"url",e)}},model:{value:t.gameInformation.url,callback:function(e){t.$set(t.gameInformation,"url",e)},expression:"gameInformation.url"}})],1),t._v(" "),a("Form-item",{attrs:{label:"排序"}},[a("i-input",{attrs:{value:t.gameInformation.power,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.gameInformation,"power",e)}},model:{value:t.gameInformation.power,callback:function(e){t.$set(t.gameInformation,"power",e)},expression:"gameInformation.power"}})],1),t._v(" "),a("Form-item",{attrs:{label:"游戏介绍"}},[a("i-input",{attrs:{value:t.gameInformation.describe,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.gameInformation,"describe",e)}},model:{value:t.gameInformation.describe,callback:function(e){t.$set(t.gameInformation,"describe",e)},expression:"gameInformation.describe"}})],1),t._v(" "),a("Form-item",{attrs:{label:"游戏图片"}},[a("i-input",{attrs:{value:t.gameInformation.img,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.gameInformation,"img",e)}},model:{value:t.gameInformation.img,callback:function(e){t.$set(t.gameInformation,"img",e)},expression:"gameInformation.img"}})],1),t._v(" "),a("Form-item",{staticStyle:{"margin-bottom":"-10px","margin-top":"-20px"},attrs:{label:"状态"}},[a("Radio-group",{model:{value:t.gameInformation.status,callback:function(e){t.$set(t.gameInformation,"status",e)},expression:"gameInformation.status"}},[a("Radio",{attrs:{label:"0"}},[t._v("下线")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("运行中")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ma={name:"gamesList",data:function(){var t,e=this;return t={modal:!1,modal_loading:!0,self:!0,gameTitle:"添加游戏"},te()(t,"self",!0),te()(t,"rechargeList",[]),te()(t,"columns",[{title:"ID",key:"id",width:60,align:"center"},{title:"排序",key:"power",align:"center",width:100},{title:"标题",key:"name",align:"center",width:100},{title:"价格分",key:"price",align:"center",width:100},{title:"星币数",key:"point",align:"center",width:100},{title:"充值类型",key:"type",align:"center",width:100,render:function(t,e,a){return t("span",0==e.row.type?"微信":"其他")}},{title:"微信充值标题",key:"title",align:"center",width:150},{title:"状态",key:"status",align:"center",width:100,render:function(t,e,a){return t("span",1==e.row.status?"正式":"下线")}},{title:"创建时间",key:"created_date",align:"center",width:160},{title:"更新时间",key:"update_date",align:"center",width:160},{title:"图标",key:"img",align:"center",render:function(t,e,a){return t("img",{attrs:{src:e.row.img,style:"width:50px"}})}},{title:"操作",key:"action",width:150,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.changeRecharge(a.index)}}},"编辑")])}}]),te()(t,"recharge",{name:"",img:"",price:"",point:"",title:"",power:"",status:0,describe:"",type:0,id:""}),t},created:function(){this.rechargeLists()},methods:{rechargeLists:function(){var t=this;N({method:"get",url:"gift-info/list?page=1&pagesize=10"}).then(function(e){if(0!=e.data.code)return t.$Message.error({content:e.data.msg});t.rechargeList=e.data.data.list})},addRecharge:function(){this.recharge.name="",this.recharge.img="",this.recharge.price="",this.recharge.point="",this.recharge.title="",this.recharge.power="",this.recharge.status="",this.recharge.describe="",this.recharge.type="",this.recharge.id="",this.$refs.recharge.resetFields(),this.shufflingsTitle="添加游戏",this.modalType=!0,this.modal=!0},changeRecharge:function(t){this.recharge.name=this.rechargeList[t].name,this.recharge.img=this.rechargeList[t].img,this.recharge.price=this.rechargeList[t].price,this.recharge.point=this.rechargeList[t].point,this.recharge.title=this.rechargeList[t].title,this.recharge.power=this.rechargeList[t].power,this.recharge.status=this.rechargeList[t].status,this.recharge.describe=this.rechargeList[t].describe,this.recharge.type=this.rechargeList[t].type,this.recharge.id=this.rechargeList[t].id,this.$refs.recharge.resetFields(),this.shufflingsTitle="修改轮播图",this.modalType=!1,this.modal=!0},handleSubmit:function(){var t,e=this;this.modalType?(t=this.recharge,N({method:"post",url:"gift-info/add",data:t})).then(function(t){if(0!=t.data.code)return e.$Message.error({content:t.data.msg});e.submitFun(0,t)}):function(t){return N({method:"post",url:"gift-info/update",data:t})}(this.recharge).then(function(t){if(0!=t.data.code)return e.$Message.error({content:t.data.msg});e.submitFun(1,t)})},submitFun:function(t,e){t=0==t?"添加":"修改",0==e.data.code&&(this.modal=!1,this.$Message.success(t+"游戏成功"),this.rechargeLists())}}},Sa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("Button",{staticClass:"add-user",attrs:{type:"primary",icon:"plus-round"},on:{click:t.addRecharge}},[t._v("增加充值项目")]),t._v(" "),a("i-table",{staticStyle:{"margin-top":"10px"},attrs:{border:"",content:t.self,"highlight-row":!0,columns:t.columns,data:t.rechargeList}}),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,loading:t.modal_loading,"ok-text":"提交","class-name":"ccountManage-modal"},on:{"on-ok":t.handleSubmit},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.gameTitle))]),t._v(" "),a("Form",{ref:"recharge",attrs:{model:t.recharge,"label-width":90,rules:t.recharge}},[a("Form-item",{attrs:{label:"标题"}},[a("i-input",{attrs:{value:t.recharge.name,placeholder:"请输入标题"},on:{"update:value":function(e){t.$set(t.recharge,"name",e)}},model:{value:t.recharge.name,callback:function(e){t.$set(t.recharge,"name",e)},expression:"recharge.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"图标地址"}},[a("i-input",{attrs:{value:t.recharge.img,placeholder:"请输入图标地址"},on:{"update:value":function(e){t.$set(t.recharge,"img",e)}},model:{value:t.recharge.img,callback:function(e){t.$set(t.recharge,"img",e)},expression:"recharge.img"}})],1),t._v(" "),a("Form-item",{attrs:{label:"排序"}},[a("i-input",{attrs:{value:t.recharge.power,placeholder:"请输入"},on:{"update:value":function(e){t.$set(t.recharge,"power",e)}},model:{value:t.recharge.power,callback:function(e){t.$set(t.recharge,"power",e)},expression:"recharge.power"}})],1),t._v(" "),a("Form-item",{attrs:{label:"价格分"}},[a("i-input",{attrs:{value:t.recharge.price,placeholder:"请输入价格分"},on:{"update:value":function(e){t.$set(t.recharge,"price",e)}},model:{value:t.recharge.price,callback:function(e){t.$set(t.recharge,"price",e)},expression:"recharge.price"}})],1),t._v(" "),a("Form-item",{attrs:{label:"星币数"}},[a("i-input",{attrs:{value:t.recharge.point,placeholder:"请输入星币数"},on:{"update:value":function(e){t.$set(t.recharge,"point",e)}},model:{value:t.recharge.point,callback:function(e){t.$set(t.recharge,"point",e)},expression:"recharge.point"}})],1),t._v(" "),a("Form-item",{attrs:{label:"微信充值标题"}},[a("i-input",{attrs:{value:t.recharge.title,placeholder:"请输入微信充值标题"},on:{"update:value":function(e){t.$set(t.recharge,"title",e)}},model:{value:t.recharge.title,callback:function(e){t.$set(t.recharge,"title",e)},expression:"recharge.title"}})],1),t._v(" "),a("Form-item",{staticStyle:{"margin-bottom":"-10px","margin-top":"-20px"},attrs:{label:"状态"}},[a("Radio-group",{model:{value:t.recharge.status,callback:function(e){t.$set(t.recharge,"status",e)},expression:"recharge.status"}},[a("Radio",{attrs:{label:"0"}},[t._v("未开始")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("正式")]),t._v(" "),a("Radio",{attrs:{label:"2"}},[t._v("下线")])],1)],1),t._v(" "),a("Form-item",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"},attrs:{label:"充值类型"}},[a("Radio-group",{model:{value:t.recharge.type,callback:function(e){t.$set(t.recharge,"type",e)},expression:"recharge.type"}},[a("Radio",{attrs:{label:"0"}},[t._v("微信")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("其他")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var La=[{path:"shuffling",name:"shuffling",component:a("VU/8")(ka,Da,!1,function(t){a("YAEa")},"data-v-f1ed36f2",null).exports,meta:{name:"operating"}},{path:"gamesList",name:"gamesList",component:a("VU/8")(xa,Ia,!1,function(t){a("j9Ig")},"data-v-03051570",null).exports,meta:{name:"operating"}},{path:"rechargeConfi",name:"rechargeConfi",component:a("VU/8")(Ma,Sa,!1,function(t){a("CG4j")},"data-v-dd6f0586",null).exports,meta:{name:"operating"}}],Ca=[{path:"administerMenu",component:ia,children:[].concat(l()(ya),l()(La))}];i.default.use(d.a);var Ta=new d.a({routes:[{path:"/",redirect:"/login"},{path:"/login",component:z},{path:"/home",name:"home",component:j,children:[].concat(l()(ta),l()(Ca))},{path:"*",component:H},{path:"/err401",component:H}]}),Aa=a("BGWB"),Na=a.n(Aa);a("+skl");i.default.use(E.a);var $a,Fa,Pa=new E.a.Store({state:{menu:[]},mutations:{setMenu:function(t,e){t.menu=e}},actions:{setMenu:function(t,e){(0,t.commit)("setMenu",e)}},getters:{menu:function(t){return t.menu}}});i.default.use(k.a),i.default.use(Na.a),i.default.config.productionTip=!1,i.default.prototype.GG={proName:"小游戏运营管理系统",apiErr:"网络异常，请稍后再试！",iconBase:"ios-document"},Ta.beforeEach(function(t,e,a){k.a.LoadingBar.start(),a()}),Ta.afterEach(function(t,e,a){k.a.LoadingBar.finish()}),$a=function(){new i.default({el:"#app",store:Pa,router:Ta,components:{App:r},template:"<App/>"})},(Fa="./static/import.json",new v.a(function(t,e){var a=new XMLHttpRequest;a.open("get",Fa,!0),a.onload=function(){if(200==a.status)try{t(JSON.parse(a.responseText))}catch(t){e("json异常")}else e(null)},a.onerror=function(){e(null)},a.send(null)})).then(function(t){console.log(m()(t)),null==t||C(t)||(A=t),$a()}).catch(function(t){console.log(m()(t)+"-----走默认配置"),$a()})},NZzu:function(t,e){},NgKE:function(t,e){},NymP:function(t,e){},Pdvz:function(t,e){},Rfko:function(t,e){},TEAT:function(t,e){},TTfc:function(t,e){},TXKY:function(t,e){},UYQd:function(t,e){},Vlnx:function(t,e){},"Vm+M":function(t,e){},WI1r:function(t,e){},X9Wb:function(t,e){},YAEa:function(t,e){},YOL3:function(t,e){},acdc:function(t,e){},bzxV:function(t,e){},cUEE:function(t,e){},fFlB:function(t,e){},iKVR:function(t,e){},j9Ig:function(t,e){},kooc:function(t,e){},lMbP:function(t,e){},lPIv:function(t,e){},mEMz:function(t,e){},nTu4:function(t,e){},pBd3:function(t,e){},stzR:function(t,e){},tMyB:function(t,e){},"uO/t":function(t,e){},uryJ:function(t,e){},vQtP:function(t,e){},vSJ2:function(t,e){},vWXd:function(t,e){},xAfu:function(t,e){},xgSS:function(t,e){}},["NHnr"]);